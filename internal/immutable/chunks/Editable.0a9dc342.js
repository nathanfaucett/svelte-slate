var Li=Object.defineProperty;var ji=(t,e,n)=>e in t?Li(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var lu=(t,e,n)=>(ji(t,typeof e!="symbol"?e+"":e,n),n);import{a2 as Er,a3 as Vi,S as X,i as J,H as te,I as le,L as oe,M as fe,N as ce,d as T,b as N,o as vr,a4 as Ar,a5 as Fr,h as $,j as ee,k as ae,f as k,l as m,a6 as Mi,a as H,a7 as qi,e as x,r as Te,c as Ne,u as U,n as tn,p as nn,K as Rt,q as br,G as _t,a8 as Wi,w as ue,x as ve,y as re,z as ie,v as Re,O as rt,a9 as Hi,P as Se,Q as Ge,aa as _r,ab as wr,s as un,A as wt,ac as ou,T as Ue,R as _e,B as yr,W as zi,ad as Yt,g as Ki,t as fu,D as pr,C as Yi}from"./index.50b3d361.js";import{w as Ui}from"./index.385c12ff.js";const rn=new WeakMap,an=new WeakMap,kn=new WeakMap,Kt=new WeakMap,sn=new WeakMap,Ut=new WeakMap,Pn=new WeakMap,ln=new WeakMap,Or=new WeakMap,At=new WeakMap,In=new WeakMap,Lt=Symbol("placeholder");/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function cu(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ie(t){var e,n;return cu(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(cu(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Ze(t){for(var e=arguments.length,n=Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ht(t){return!!t&&!!t[ze]}function gt(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var u=Object.getPrototypeOf(n);if(u===null)return!0;var i=Object.hasOwnProperty.call(u,"constructor")&&u.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===ea}(t)||Array.isArray(t)||!!t[Eu]||!!(!((e=t.constructor)===null||e===void 0)&&e[Eu])||Vn(t)||Mn(t))}function jt(t,e,n){n===void 0&&(n=!1),pt(t)===0?(n?Object.keys:Kn)(t).forEach(function(u){n&&typeof u=="symbol"||e(u,t[u],t)}):t.forEach(function(u,i){return e(i,u,t)})}function pt(t){var e=t[ze];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Vn(t)?2:Mn(t)?3:0}function Tn(t,e){return pt(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Gi(t,e){return pt(t)===2?t.get(e):t[e]}function kr(t,e,n){var u=pt(t);u===2?t.set(e,n):u===3?t.add(n):t[e]=n}function Xi(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Vn(t){return xi&&t instanceof Map}function Mn(t){return $i&&t instanceof Set}function ct(t){return t.o||t.t}function qn(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=ta(t);delete e[ze];for(var n=Kn(e),u=0;u<n.length;u++){var i=n[u],r=e[i];r.writable===!1&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(e[i]={configurable:!0,writable:!0,enumerable:r.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Wn(t,e){return e===void 0&&(e=!1),Hn(t)||ht(t)||!gt(t)||(pt(t)>1&&(t.set=t.add=t.clear=t.delete=Ji),Object.freeze(t),e&&jt(t,function(n,u){return Wn(u,!0)},!0)),t}function Ji(){Ze(2)}function Hn(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function xe(t){var e=na[t];return e||Ze(18,t),e}function du(){return Vt}function En(t,e){e&&(xe("Patches"),t.u=[],t.s=[],t.v=e)}function Gt(t){Nn(t),t.p.forEach(Zi),t.p=null}function Nn(t){t===Vt&&(Vt=t.l)}function Du(t){return Vt={p:[],l:Vt,h:t,m:!0,_:0}}function Zi(t){var e=t[ze];e.i===0||e.i===1?e.j():e.g=!0}function vn(t,e){e._=e.p.length;var n=e.p[0],u=t!==void 0&&t!==n;return e.h.O||xe("ES5").S(e,t,u),u?(n[ze].P&&(Gt(e),Ze(4)),gt(t)&&(t=Xt(e,t),e.l||Jt(e,t)),e.u&&xe("Patches").M(n[ze].t,t,e.u,e.s)):t=Xt(e,n,[]),Gt(e),e.u&&e.v(e.u,e.s),t!==Pr?t:void 0}function Xt(t,e,n){if(Hn(e))return e;var u=e[ze];if(!u)return jt(e,function(s,l){return hu(t,u,e,s,l,n)},!0),e;if(u.A!==t)return e;if(!u.P)return Jt(t,u.t,!0),u.t;if(!u.I){u.I=!0,u.A._--;var i=u.i===4||u.i===5?u.o=qn(u.k):u.o,r=i,a=!1;u.i===3&&(r=new Set(i),i.clear(),a=!0),jt(r,function(s,l){return hu(t,u,i,s,l,n,a)}),Jt(t,i,!1),n&&t.u&&xe("Patches").N(u,n,t.u,t.s)}return u.o}function hu(t,e,n,u,i,r,a){if(ht(i)){var s=Xt(t,i,r&&e&&e.i!==3&&!Tn(e.R,u)?r.concat(u):void 0);if(kr(n,u,s),!ht(s))return;t.m=!1}else a&&n.add(i);if(gt(i)&&!Hn(i)){if(!t.h.D&&t._<1)return;Xt(t,i),e&&e.A.l||Jt(t,i)}}function Jt(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Wn(e,n)}function An(t,e){var n=t[ze];return(n?ct(n):t)[e]}function gu(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var u=Object.getOwnPropertyDescriptor(n,e);if(u)return u;n=Object.getPrototypeOf(n)}}function Sn(t){t.P||(t.P=!0,t.l&&Sn(t.l))}function Fn(t){t.o||(t.o=qn(t.t))}function Rn(t,e,n){var u=Vn(e)?xe("MapSet").F(e,n):Mn(e)?xe("MapSet").T(e,n):t.O?function(i,r){var a=Array.isArray(i),s={i:a?1:0,A:r?r.A:du(),P:!1,I:!1,R:{},l:r,t:i,k:null,o:null,j:null,C:!1},l=s,o=Ln;a&&(l=[s],o=Tt);var c=Proxy.revocable(l,o),d=c.revoke,f=c.proxy;return s.k=f,s.j=d,f}(e,n):xe("ES5").J(e,n);return(n?n.A:du()).p.push(u),u}function Qi(t){return ht(t)||Ze(22,t),function e(n){if(!gt(n))return n;var u,i=n[ze],r=pt(n);if(i){if(!i.P&&(i.i<4||!xe("ES5").K(i)))return i.t;i.I=!0,u=Cu(n,r),i.I=!1}else u=Cu(n,r);return jt(u,function(a,s){i&&Gi(i.t,a)===s||kr(u,a,e(s))}),r===3?new Set(u):u}(t)}function Cu(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return qn(t)}var mu,Vt,zn=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",xi=typeof Map<"u",$i=typeof Set<"u",Bu=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Pr=zn?Symbol.for("immer-nothing"):((mu={})["immer-nothing"]=!0,mu),Eu=zn?Symbol.for("immer-draftable"):"__$immer_draftable",ze=zn?Symbol.for("immer-state"):"__$immer_state",ea=""+Object.prototype.constructor,Kn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ta=Object.getOwnPropertyDescriptors||function(t){var e={};return Kn(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},na={},Ln={get:function(t,e){if(e===ze)return t;var n=ct(t);if(!Tn(n,e))return function(i,r,a){var s,l=gu(r,a);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,n,e);var u=n[e];return t.I||!gt(u)?u:u===An(t.t,e)?(Fn(t),t.o[e]=Rn(t.A.h,u,t)):u},has:function(t,e){return e in ct(t)},ownKeys:function(t){return Reflect.ownKeys(ct(t))},set:function(t,e,n){var u=gu(ct(t),e);if(u!=null&&u.set)return u.set.call(t.k,n),!0;if(!t.P){var i=An(ct(t),e),r=i==null?void 0:i[ze];if(r&&r.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(Xi(n,i)&&(n!==void 0||Tn(t.t,e)))return!0;Fn(t),Sn(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return An(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Fn(t),Sn(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ct(t),u=Reflect.getOwnPropertyDescriptor(n,e);return u&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:u.enumerable,value:n[e]}},defineProperty:function(){Ze(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Ze(12)}},Tt={};jt(Ln,function(t,e){Tt[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Tt.deleteProperty=function(t,e){return Tt.set.call(this,t,e,void 0)},Tt.set=function(t,e,n){return Ln.set.call(this,t[0],e,n,t[0])};var ua=function(){function t(n){var u=this;this.O=Bu,this.D=!0,this.produce=function(i,r,a){if(typeof i=="function"&&typeof r!="function"){var s=r;r=i;var l=u;return function(A){var v=this;A===void 0&&(A=s);for(var F=arguments.length,b=Array(F>1?F-1:0),y=1;y<F;y++)b[y-1]=arguments[y];return l.produce(A,function(P){var I;return(I=r).call.apply(I,[v,P].concat(b))})}}var o;if(typeof r!="function"&&Ze(6),a!==void 0&&typeof a!="function"&&Ze(7),gt(i)){var c=Du(u),d=Rn(u,i,void 0),f=!0;try{o=r(d),f=!1}finally{f?Gt(c):Nn(c)}return typeof Promise<"u"&&o instanceof Promise?o.then(function(A){return En(c,a),vn(A,c)},function(A){throw Gt(c),A}):(En(c,a),vn(o,c))}if(!i||typeof i!="object"){if((o=r(i))===void 0&&(o=i),o===Pr&&(o=void 0),u.D&&Wn(o,!0),a){var h=[],C=[];xe("Patches").M(i,o,h,C),a(h,C)}return o}Ze(21,i)},this.produceWithPatches=function(i,r){if(typeof i=="function")return function(o){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return u.produceWithPatches(o,function(h){return i.apply(void 0,[h].concat(d))})};var a,s,l=u.produce(i,r,function(o,c){a=o,s=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(o){return[o,a,s]}):[l,a,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){gt(n)||Ze(8),ht(n)&&(n=Qi(n));var u=Du(this),i=Rn(this,n,void 0);return i[ze].C=!0,Nn(u),i},e.finishDraft=function(n,u){var i=n&&n[ze],r=i.A;return En(r,u),vn(void 0,r)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Bu&&Ze(20),this.O=n},e.applyPatches=function(n,u){var i;for(i=u.length-1;i>=0;i--){var r=u[i];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}i>-1&&(u=u.slice(i+1));var a=xe("Patches").$;return ht(n)?a(n,u):this.produce(n,function(s){return a(s,u)})},t}(),Ke=new ua,Yn=Ke.produce;Ke.produceWithPatches.bind(Ke);Ke.setAutoFreeze.bind(Ke);Ke.setUseProxies.bind(Ke);Ke.applyPatches.bind(Ke);var vu=Ke.createDraft.bind(Ke),Au=Ke.finishDraft.bind(Ke);function $e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zt=new WeakMap,Qt=new WeakMap,Pt=new WeakMap,Fu=new WeakMap,bu=new WeakMap,_u=new WeakMap,wu=new WeakMap;function yu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,u)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yu(Object(n),!0).forEach(function(u){$e(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Pf=()=>{var t={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:e=>{for(var n of D.pathRefs(t))Na.transform(n,e);for(var u of D.pointRefs(t))Sa.transform(u,e);for(var i of D.rangeRefs(t))ja.transform(i,e);var r=Zt.get(t)||[],a=Qt.get(t)||new Set,s,l,o=C=>{if(C){var A=C.join(",");l.has(A)||(l.add(A),s.push(C))}};if(B.operationCanTransformPath(e)){s=[],l=new Set;for(var c of r){var d=B.transform(c,e);o(d)}}else s=r,l=a;var f=t.getDirtyPaths(e);for(var h of f)o(h);Zt.set(t,s),Qt.set(t,l),w.transform(t,e),t.operations.push(e),D.normalize(t,{operation:e}),e.type==="set_selection"&&(t.marks=null),Pt.get(t)||(Pt.set(t,!0),Promise.resolve().then(()=>{Pt.set(t,!1),t.onChange({operation:e}),t.operations=[]}))},addMark:(e,n)=>{var{selection:u,markableVoid:i}=t;if(u){var r=(f,h)=>{if(!j.isText(f))return!1;var[C,A]=D.parent(t,h);return!t.isVoid(C)||t.markableVoid(C)},a=_.isExpanded(u),s=!1;if(!a){var[l,o]=D.node(t,u);if(l&&r(l,o)){var[c]=D.parent(t,o);s=c&&t.markableVoid(c)}}if(a||s)w.setNodes(t,{[e]:n},{match:r,split:!0,voids:!0});else{var d=Wt(Wt({},D.marks(t)||{}),{},{[e]:n});t.marks=d,Pt.get(t)||t.onChange()}}},deleteBackward:e=>{var{selection:n}=t;n&&_.isCollapsed(n)&&w.delete(t,{unit:e,reverse:!0})},deleteForward:e=>{var{selection:n}=t;n&&_.isCollapsed(n)&&w.delete(t,{unit:e})},deleteFragment:e=>{var{selection:n}=t;n&&_.isExpanded(n)&&w.delete(t,{reverse:e==="backward"})},getFragment:()=>{var{selection:e}=t;return e?O.fragment(t,e):[]},insertBreak:()=>{w.splitNodes(t,{always:!0})},insertSoftBreak:()=>{w.splitNodes(t,{always:!0})},insertFragment:e=>{w.insertFragment(t,e)},insertNode:e=>{w.insertNodes(t,e)},insertText:e=>{var{selection:n,marks:u}=t;if(n){if(u){var i=Wt({text:e},u);w.insertNodes(t,i)}else w.insertText(t,e);t.marks=null}},normalizeNode:e=>{var[n,u]=e;if(!j.isText(n)){if(L.isElement(n)&&n.children.length===0){var i={text:""};w.insertNodes(t,i,{at:u.concat(0),voids:!0});return}for(var r=D.isEditor(n)?!1:L.isElement(n)&&(t.isInline(n)||n.children.length===0||j.isText(n.children[0])||t.isInline(n.children[0])),a=0,s=0;s<n.children.length;s++,a++){var l=O.get(t,u);if(!j.isText(l)){var o=n.children[s],c=l.children[a-1],d=s===n.children.length-1,f=j.isText(o)||L.isElement(o)&&t.isInline(o);if(f!==r)w.removeNodes(t,{at:u.concat(a),voids:!0}),a--;else if(L.isElement(o)){if(t.isInline(o)){if(c==null||!j.isText(c)){var h={text:""};w.insertNodes(t,h,{at:u.concat(a),voids:!0}),a++}else if(d){var C={text:""};w.insertNodes(t,C,{at:u.concat(a+1),voids:!0}),a++}}}else c!=null&&j.isText(c)&&(j.equals(o,c,{loose:!0})?(w.mergeNodes(t,{at:u.concat(a),voids:!0}),a--):c.text===""?(w.removeNodes(t,{at:u.concat(a-1),voids:!0}),a--):o.text===""&&(w.removeNodes(t,{at:u.concat(a),voids:!0}),a--))}}}},removeMark:e=>{var{selection:n}=t;if(n){var u=(c,d)=>{if(!j.isText(c))return!1;var[f,h]=D.parent(t,d);return!t.isVoid(f)||t.markableVoid(f)},i=_.isExpanded(n),r=!1;if(!i){var[a,s]=D.node(t,n);if(a&&u(a,s)){var[l]=D.parent(t,s);r=l&&t.markableVoid(l)}}if(i||r)w.unsetNodes(t,e,{match:u,split:!0,voids:!0});else{var o=Wt({},D.marks(t)||{});delete o[e],t.marks=o,Pt.get(t)||t.onChange()}}},getDirtyPaths:e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=e;return B.levels(n)}case"insert_node":{var{node:u,path:i}=e,r=B.levels(i),a=j.isText(u)?[]:Array.from(O.nodes(u),Y=>{var[,se]=Y;return i.concat(se)});return[...r,...a]}case"merge_node":{var{path:s}=e,l=B.ancestors(s),o=B.previous(s);return[...l,o]}case"move_node":{var{path:c,newPath:d}=e;if(B.equals(c,d))return[];var f=[],h=[];for(var C of B.ancestors(c)){var A=B.transform(C,e);f.push(A)}for(var v of B.ancestors(d)){var F=B.transform(v,e);h.push(F)}var b=h[h.length-1],y=d[d.length-1],P=b.concat(y);return[...f,...h,P]}case"remove_node":{var{path:I}=e,p=B.ancestors(I);return[...p]}case"split_node":{var{path:z}=e,g=B.levels(z),q=B.next(z);return[...g,q]}default:return[]}},shouldNormalize:e=>{var{iteration:n,initialDirtyPathsLength:u}=e,i=u*42;if(n>i)throw new Error("Could not completely normalize the editor after ".concat(i," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0}};return t};function ra(t,e){if(t==null)return{};var n={},u=Object.keys(t),i,r;for(r=0;r<u.length;r++)i=u[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function it(t,e){if(t==null)return{};var n=ra(t,e),u,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)u=r[i],!(e.indexOf(u)>=0)&&Object.prototype.propertyIsEnumerable.call(t,u)&&(n[u]=t[u])}return n}var Un=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=!n,i=n?fa(e):e,r=K.None,a=K.None,s=0,l=null,o=null;for(var c of i){var d=c.codePointAt(0);if(!d)break;var f=Fa(c,d);if([r,a]=u?[a,f]:[f,r],Ft(r,K.ZWJ)&&Ft(a,K.ExtPict)&&(u?l=pu(e.substring(0,s)):l=pu(e.substring(0,e.length-s)),!l)||Ft(r,K.RI)&&Ft(a,K.RI)&&(o!==null?o=!o:u?o=!0:o=pa(e.substring(0,e.length-s)),!o)||r!==K.None&&a!==K.None&&_a(r,a))break;s+=c.length}return s||1},ia=/\s/,aa=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,sa=/['\u2018\u2019]/,la=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=0,i=!1;e.length>0;){var r=Un(e,n),[a,s]=Gn(e,r,n);if(oa(a,s,n))i=!0,u+=r;else if(!i)u+=r;else break;e=s}return u},Gn=(t,e,n)=>{if(n){var u=t.length-e;return[t.slice(u,t.length),t.slice(0,u)]}return[t.slice(0,e),t.slice(e)]},oa=function t(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(ia.test(e))return!1;if(sa.test(e)){var i=Un(n,u),[r,a]=Gn(n,i,u);if(t(r,a,u))return!0}return!aa.test(e)},fa=function*(e){for(var n=e.length-1,u=0;u<e.length;u++){var i=e.charAt(n-u);if(da(i.charCodeAt(0))){var r=e.charAt(n-u-1);if(ca(r.charCodeAt(0))){yield r+i,u++;continue}}yield i}},ca=t=>t>=55296&&t<=56319,da=t=>t>=56320&&t<=57343,K;(function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"})(K||(K={}));var Da=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,ha=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,ga=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Ca=/^[\u1100-\u115F\uA960-\uA97C]$/,ma=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Ba=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Ea=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,va=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Aa=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Fa=(t,e)=>{var n=K.Any;return t.search(Da)!==-1&&(n|=K.Extend),e===8205&&(n|=K.ZWJ),e>=127462&&e<=127487&&(n|=K.RI),t.search(ha)!==-1&&(n|=K.Prepend),t.search(ga)!==-1&&(n|=K.SpacingMark),t.search(Ca)!==-1&&(n|=K.L),t.search(ma)!==-1&&(n|=K.V),t.search(Ba)!==-1&&(n|=K.T),t.search(Ea)!==-1&&(n|=K.LV),t.search(va)!==-1&&(n|=K.LVT),t.search(Aa)!==-1&&(n|=K.ExtPict),n};function Ft(t,e){return(t&e)!==0}var ba=[[K.L,K.L|K.V|K.LV|K.LVT],[K.LV|K.V,K.V|K.T],[K.LVT|K.T,K.T],[K.Any,K.Extend|K.ZWJ],[K.Any,K.SpacingMark],[K.Prepend,K.Any],[K.ZWJ,K.ExtPict],[K.RI,K.RI]];function _a(t,e){return ba.findIndex(n=>Ft(t,n[0])&&Ft(e,n[1]))===-1}var wa=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,pu=t=>t.search(wa)!==-1,ya=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,pa=t=>{var e=t.match(ya);if(e===null)return!1;var n=e[0].length/2;return n%2===1},Ou=t=>Ie(t)&&O.isNodeList(t.children)&&!D.isEditor(t),L={isAncestor(t){return Ie(t)&&O.isNodeList(t.children)},isElement:Ou,isElementList(t){return Array.isArray(t)&&t.every(e=>L.isElement(e))},isElementProps(t){return t.children!==void 0},isElementType:function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Ou(e)&&e[u]===n},matches(t,e){for(var n in e)if(n!=="children"&&t[n]!==e[n])return!1;return!0}},Oa=["text"],ka=["text"];function ku(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,u)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ku(Object(n),!0).forEach(function(u){$e(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Pu=new WeakMap,D={above(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:u="lowest",at:i=t.selection,match:r}=e;if(i){var a=D.path(t,i),s=u==="lowest";for(var[l,o]of D.levels(t,{at:a,voids:n,match:r,reverse:s}))if(!j.isText(l)){if(_.isRange(i)){if(B.isAncestor(o,i.anchor.path)&&B.isAncestor(o,i.focus.path))return[l,o]}else if(!B.equals(a,o))return[l,o]}}},addMark(t,e,n){t.addMark(e,n)},after(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.point(t,e,{edge:"end"}),i=D.end(t,[]),r={anchor:u,focus:i},{distance:a=1}=n,s=0,l;for(var o of D.positions(t,Bt(Bt({},n),{},{at:r}))){if(s>a)break;s!==0&&(l=o),s++}return l},before(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.start(t,[]),i=D.point(t,e,{edge:"start"}),r={anchor:u,focus:i},{distance:a=1}=n,s=0,l;for(var o of D.positions(t,Bt(Bt({},n),{},{at:r,reverse:!0}))){if(s>a)break;s!==0&&(l=o),s++}return l},deleteBackward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=e;t.deleteBackward(n)},deleteForward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=e;t.deleteForward(n)},deleteFragment(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:n="forward"}=e;t.deleteFragment(n)},edges(t,e){return[D.start(t,e),D.end(t,e)]},end(t,e){return D.point(t,e,{edge:"end"})},first(t,e){var n=D.path(t,e,{edge:"start"});return D.node(t,n)},fragment(t,e){var n=D.range(t,e),u=O.fragment(t,n);return u},hasBlocks(t,e){return e.children.some(n=>L.isElement(n)&&D.isBlock(t,n))},hasInlines(t,e){return e.children.some(n=>j.isText(n)||D.isInline(t,n))},hasTexts(t,e){return e.children.every(n=>j.isText(n))},insertBreak(t){t.insertBreak()},insertSoftBreak(t){t.insertSoftBreak()},insertFragment(t,e){t.insertFragment(e)},insertNode(t,e){t.insertNode(e)},insertText(t,e){t.insertText(e)},isBlock(t,e){return!t.isInline(e)},isEditor(t){var e=Pu.get(t);if(e!==void 0)return e;if(!Ie(t))return!1;var n=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteBackward=="function"&&typeof t.deleteForward=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isInline=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||Ie(t.marks))&&(t.selection===null||_.isRange(t.selection))&&O.isNodeList(t.children)&&at.isOperationList(t.operations);return Pu.set(t,n),n},isEnd(t,e,n){var u=D.end(t,n);return Q.equals(e,u)},isEdge(t,e,n){return D.isStart(t,e,n)||D.isEnd(t,e,n)},isEmpty(t,e){var{children:n}=e,[u]=n;return n.length===0||n.length===1&&j.isText(u)&&u.text===""&&!t.isVoid(e)},isInline(t,e){return t.isInline(e)},isNormalizing(t){var e=Fu.get(t);return e===void 0?!0:e},isStart(t,e,n){if(e.offset!==0)return!1;var u=D.start(t,n);return Q.equals(e,u)},isVoid(t,e){return t.isVoid(e)},last(t,e){var n=D.path(t,e,{edge:"end"});return D.node(t,n)},leaf(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.path(t,e,n),i=O.leaf(t,u);return[i,u]},*levels(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,reverse:u=!1,voids:i=!1}=e,{match:r}=e;if(r==null&&(r=()=>!0),!!n){var a=[],s=D.path(t,n);for(var[l,o]of O.levels(t,s))if(r(l,o)&&(a.push([l,o]),!i&&L.isElement(l)&&D.isVoid(t,l)))break;u&&a.reverse(),yield*a}},marks(t){var{marks:e,selection:n}=t;if(!n)return null;if(e)return e;if(_.isExpanded(n)){var[u]=D.nodes(t,{match:j.isText});if(u){var[i]=u,r=it(i,Oa);return r}else return{}}var{anchor:a}=n,{path:s}=a,[l]=D.leaf(t,s);if(a.offset===0){var o=D.previous(t,{at:s,match:j.isText}),c=D.above(t,{match:v=>L.isElement(v)&&D.isVoid(t,v)&&t.markableVoid(v)});if(!c){var d=D.above(t,{match:v=>L.isElement(v)&&D.isBlock(t,v)});if(o&&d){var[f,h]=o,[,C]=d;B.isAncestor(C,h)&&(l=f)}}}var A=it(l,ka);return A},next(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=e,{match:i,at:r=t.selection}=e;if(r){var a=D.after(t,r,{voids:u});if(a){var[,s]=D.last(t,[]),l=[a.path,s];if(B.isPath(r)&&r.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(B.isPath(r)){var[o]=D.parent(t,r);i=d=>o.children.includes(d)}else i=()=>!0;var[c]=D.nodes(t,{at:l,match:i,mode:n,voids:u});return c}}},node(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.path(t,e,n),i=O.get(t,u);return[i,u]},*nodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,mode:u="all",universal:i=!1,reverse:r=!1,voids:a=!1}=e,{match:s}=e;if(s||(s=()=>!0),!!n){var l,o;if(Pa.isSpan(n))l=n[0],o=n[1];else{var c=D.path(t,n,{edge:"start"}),d=D.path(t,n,{edge:"end"});l=r?d:c,o=r?c:d}var f=O.nodes(t,{reverse:r,from:l,to:o,pass:y=>{var[P]=y;return a?!1:L.isElement(P)&&D.isVoid(t,P)}}),h=[],C;for(var[A,v]of f){var F=C&&B.compare(v,C[1])===0;if(!(u==="highest"&&F)){if(!s(A,v)){if(i&&!F&&j.isText(A))return;continue}if(u==="lowest"&&F){C=[A,v];continue}var b=u==="lowest"?C:[A,v];b&&(i?h.push(b):yield b),C=[A,v]}}u==="lowest"&&C&&(i?h.push(C):yield C),i&&(yield*h)}},normalize(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:u}=e,i=o=>Zt.get(o)||[],r=o=>Qt.get(o)||new Set,a=o=>{var c=i(o).pop(),d=c.join(",");return r(o).delete(d),c};if(D.isNormalizing(t)){if(n){var s=Array.from(O.nodes(t),o=>{var[,c]=o;return c}),l=new Set(s.map(o=>o.join(",")));Zt.set(t,s),Qt.set(t,l)}i(t).length!==0&&D.withoutNormalizing(t,()=>{for(var o of i(t))if(O.has(t,o)){var c=D.node(t,o),[d,f]=c;L.isElement(d)&&d.children.length===0&&t.normalizeNode(c,{operation:u})}for(var h=i(t),C=h.length,A=0;h.length!==0;){if(!t.shouldNormalize({dirtyPaths:h,iteration:A,initialDirtyPathsLength:C,operation:u}))return;var v=a(t);if(O.has(t,v)){var F=D.node(t,v);t.normalizeNode(F,{operation:u})}A++,h=i(t)}})}},parent(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.path(t,e,n),i=B.parent(u),r=D.node(t,i);return r},path(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:u,edge:i}=n;if(B.isPath(e)){if(i==="start"){var[,r]=O.first(t,e);e=r}else if(i==="end"){var[,a]=O.last(t,e);e=a}}return _.isRange(e)&&(i==="start"?e=_.start(e):i==="end"?e=_.end(e):e=B.common(e.anchor.path,e.focus.path)),Q.isPoint(e)&&(e=e.path),u!=null&&(e=e.slice(0,u)),e},hasPath(t,e){return O.has(t,e)},pathRef(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,i={current:e,affinity:u,unref(){var{current:a}=i,s=D.pathRefs(t);return s.delete(i),i.current=null,a}},r=D.pathRefs(t);return r.add(i),i},pathRefs(t){var e=bu.get(t);return e||(e=new Set,bu.set(t,e)),e},point(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:u="start"}=n;if(B.isPath(e)){var i;if(u==="end"){var[,r]=O.last(t,e);i=r}else{var[,a]=O.first(t,e);i=a}var s=O.get(t,i);if(!j.isText(s))throw new Error("Cannot get the ".concat(u," point in the node at path [").concat(e,"] because it has no ").concat(u," text node."));return{path:i,offset:u==="end"?s.text.length:0}}if(_.isRange(e)){var[l,o]=_.edges(e);return u==="start"?l:o}return e},pointRef(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,i={current:e,affinity:u,unref(){var{current:a}=i,s=D.pointRefs(t);return s.delete(i),i.current=null,a}},r=D.pointRefs(t);return r.add(i),i},pointRefs(t){var e=_u.get(t);return e||(e=new Set,_u.set(t,e)),e},*positions(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,unit:u="offset",reverse:i=!1,voids:r=!1}=e;if(!n)return;var a=D.range(t,n),[s,l]=_.edges(a),o=i?l:s,c=!1,d="",f=0,h=0,C=0;for(var[A,v]of D.nodes(t,{at:n,reverse:i,voids:r})){if(L.isElement(A)){if(!r&&t.isVoid(A)){yield D.start(t,v);continue}if(t.isInline(A))continue;if(D.hasInlines(t,A)){var F=B.isAncestor(v,l.path)?l:D.end(t,v),b=B.isAncestor(v,s.path)?s:D.start(t,v);d=D.string(t,{anchor:b,focus:F},{voids:r}),c=!0}}if(j.isText(A)){var y=B.equals(v,o.path);for(y?(h=i?o.offset:A.text.length-o.offset,C=o.offset):(h=A.text.length,C=i?h:0),(y||c||u==="offset")&&(yield{path:v,offset:C},c=!1);;){if(f===0){if(d==="")break;f=P(d,u,i),d=Gn(d,f,i)[1]}if(C=i?C-f:C+f,h=h-f,h<0){f=-h;break}f=0,yield{path:v,offset:C}}}}function P(I,p,z){return p==="character"?Un(I,z):p==="word"?la(I,z):p==="line"||p==="block"?I.length:1}},previous(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=e,{match:i,at:r=t.selection}=e;if(r){var a=D.before(t,r,{voids:u});if(a){var[,s]=D.first(t,[]),l=[a.path,s];if(B.isPath(r)&&r.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(B.isPath(r)){var[o]=D.parent(t,r);i=d=>o.children.includes(d)}else i=()=>!0;var[c]=D.nodes(t,{reverse:!0,at:l,match:i,mode:n,voids:u});return c}}},range(t,e,n){if(_.isRange(e)&&!n)return e;var u=D.start(t,e),i=D.end(t,n||e);return{anchor:u,focus:i}},rangeRef(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,i={current:e,affinity:u,unref(){var{current:a}=i,s=D.rangeRefs(t);return s.delete(i),i.current=null,a}},r=D.rangeRefs(t);return r.add(i),i},rangeRefs(t){var e=wu.get(t);return e||(e=new Set,wu.set(t,e)),e},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){Fu.set(t,e)},start(t,e){return D.point(t,e,{edge:"start"})},string(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,i=D.range(t,e),[r,a]=_.edges(i),s="";for(var[l,o]of D.nodes(t,{at:i,match:j.isText,voids:u})){var c=l.text;B.equals(o,a.path)&&(c=c.slice(0,a.offset)),B.equals(o,r.path)&&(c=c.slice(r.offset)),s+=c}return s},unhangRange(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,[i,r]=_.edges(e);if(i.offset!==0||r.offset!==0||_.isCollapsed(e)||B.hasPrevious(r.path))return e;var a=D.above(t,{at:r,match:h=>L.isElement(h)&&D.isBlock(t,h),voids:u}),s=a?a[1]:[],l=D.start(t,i),o={anchor:l,focus:r},c=!0;for(var[d,f]of D.nodes(t,{at:o,match:j.isText,reverse:!0,voids:u})){if(c){c=!1;continue}if(d.text!==""||B.isBefore(f,s)){r={path:f,offset:d.text.length};break}}return{anchor:i,focus:r}},void(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D.above(t,Bt(Bt({},e),{},{match:n=>L.isElement(n)&&D.isVoid(t,n)}))},withoutNormalizing(t,e){var n=D.isNormalizing(t);D.setNormalizing(t,!1);try{e()}finally{D.setNormalizing(t,n)}D.normalize(t)}},Pa={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(B.isPath)}},Ia=["children"],Ta=["text"],Iu=new WeakMap,O={ancestor(t,e){var n=O.get(t,e);if(j.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(He.stringify(n)));return n},*ancestors(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var u of B.ancestors(e,n)){var i=O.ancestor(t,u),r=[i,u];yield r}},child(t,e){if(j.isText(t))throw new Error("Cannot get the child of a text node: ".concat(He.stringify(t)));var n=t.children[e];if(n==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(He.stringify(t)));return n},*children(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:u=!1}=n,i=O.ancestor(t,e),{children:r}=i,a=u?r.length-1:0;u?a>=0:a<r.length;){var s=O.child(i,a),l=e.concat(a);yield[s,l],a=u?a-1:a+1}},common(t,e,n){var u=B.common(e,n),i=O.get(t,u);return[i,u]},descendant(t,e){var n=O.get(t,e);if(D.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(He.stringify(n)));return n},*descendants(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of O.nodes(t,e))u.length!==0&&(yield[n,u])},*elements(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of O.nodes(t,e))L.isElement(n)&&(yield[n,u])},extractProps(t){if(L.isAncestor(t)){var e=it(t,Ia);return e}else{var e=it(t,Ta);return e}},first(t,e){for(var n=e.slice(),u=O.get(t,n);u&&!(j.isText(u)||u.children.length===0);)u=u.children[0],n.push(0);return[u,n]},fragment(t,e){if(j.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(He.stringify(t)));var n=Yn({children:t.children},u=>{var[i,r]=_.edges(e),a=O.nodes(u,{reverse:!0,pass:f=>{var[,h]=f;return!_.includes(e,h)}});for(var[,s]of a){if(!_.includes(e,s)){var l=O.parent(u,s),o=s[s.length-1];l.children.splice(o,1)}if(B.equals(s,r.path)){var c=O.leaf(u,s);c.text=c.text.slice(0,r.offset)}if(B.equals(s,i.path)){var d=O.leaf(u,s);d.text=d.text.slice(i.offset)}}D.isEditor(u)&&(u.selection=null)});return n.children},get(t,e){for(var n=t,u=0;u<e.length;u++){var i=e[u];if(j.isText(n)||!n.children[i])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(He.stringify(t)));n=n.children[i]}return n},has(t,e){for(var n=t,u=0;u<e.length;u++){var i=e[u];if(j.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode(t){return j.isText(t)||L.isElement(t)||D.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=Iu.get(t);if(e!==void 0)return e;var n=t.every(u=>O.isNode(u));return Iu.set(t,n),n},last(t,e){for(var n=e.slice(),u=O.get(t,n);u&&!(j.isText(u)||u.children.length===0);){var i=u.children.length-1;u=u.children[i],n.push(i)}return[u,n]},leaf(t,e){var n=O.get(t,e);if(!j.isText(n))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(He.stringify(n)));return n},*levels(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var u of B.levels(e,n)){var i=O.get(t,u);yield[i,u]}},matches(t,e){return L.isElement(t)&&L.isElementProps(e)&&L.matches(t,e)||j.isText(t)&&j.isTextProps(e)&&j.matches(t,e)},*nodes(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:u=!1}=e,{from:i=[],to:r}=e,a=new Set,s=[],l=t;!(r&&(u?B.isBefore(s,r):B.isAfter(s,r)));){if(a.has(l)||(yield[l,s]),!a.has(l)&&!j.isText(l)&&l.children.length!==0&&(n==null||n([l,s])===!1)){a.add(l);var o=u?l.children.length-1:0;B.isAncestor(s,i)&&(o=i[s.length]),s=s.concat(o),l=O.get(t,s);continue}if(s.length===0)break;if(!u){var c=B.next(s);if(O.has(t,c)){s=c,l=O.get(t,s);continue}}if(u&&s[s.length-1]!==0){var d=B.previous(s);s=d,l=O.get(t,s);continue}s=B.parent(s),l=O.get(t,s),a.add(l)}},parent(t,e){var n=B.parent(e),u=O.get(t,n);if(j.isText(u))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return u},string(t){return j.isText(t)?t.text:t.children.map(O.string).join("")},*texts(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of O.nodes(t,e))j.isText(n)&&(yield[n,u])}};function Tu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,u)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tu(Object(n),!0).forEach(function(u){$e(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var at={isNodeOperation(t){return at.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!Ie(t))return!1;switch(t.type){case"insert_node":return B.isPath(t.path)&&O.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&B.isPath(t.path);case"merge_node":return typeof t.position=="number"&&B.isPath(t.path)&&Ie(t.properties);case"move_node":return B.isPath(t.path)&&B.isPath(t.newPath);case"remove_node":return B.isPath(t.path)&&O.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&B.isPath(t.path);case"set_node":return B.isPath(t.path)&&Ie(t.properties)&&Ie(t.newProperties);case"set_selection":return t.properties===null&&_.isRange(t.newProperties)||t.newProperties===null&&_.isRange(t.properties)||Ie(t.properties)&&Ie(t.newProperties);case"split_node":return B.isPath(t.path)&&typeof t.position=="number"&&Ie(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>at.isOperation(e))},isSelectionOperation(t){return at.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return at.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return De(De({},t),{},{type:"remove_node"});case"insert_text":return De(De({},t),{},{type:"remove_text"});case"merge_node":return De(De({},t),{},{type:"split_node",path:B.previous(t.path)});case"move_node":{var{newPath:e,path:n}=t;if(B.equals(e,n))return t;if(B.isSibling(n,e))return De(De({},t),{},{path:e,newPath:n});var u=B.transform(n,t),i=B.transform(B.next(n),t);return De(De({},t),{},{path:u,newPath:i})}case"remove_node":return De(De({},t),{},{type:"insert_node"});case"remove_text":return De(De({},t),{},{type:"insert_text"});case"set_node":{var{properties:r,newProperties:a}=t;return De(De({},t),{},{properties:a,newProperties:r})}case"set_selection":{var{properties:s,newProperties:l}=t;return s==null?De(De({},t),{},{properties:l,newProperties:null}):l==null?De(De({},t),{},{properties:null,newProperties:s}):De(De({},t),{},{properties:l,newProperties:s})}case"split_node":return De(De({},t),{},{type:"merge_node",path:B.next(t.path)})}}},B={ancestors(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,u=B.levels(t,e);return n?u=u.slice(1):u=u.slice(0,-1),u},common(t,e){for(var n=[],u=0;u<t.length&&u<e.length;u++){var i=t[u],r=e[u];if(i!==r)break;n.push(i)}return n},compare(t,e){for(var n=Math.min(t.length,e.length),u=0;u<n;u++){if(t[u]<e[u])return-1;if(t[u]>e[u])return 1}return 0},endsAfter(t,e){var n=t.length-1,u=t.slice(0,n),i=e.slice(0,n),r=t[n],a=e[n];return B.equals(u,i)&&r>a},endsAt(t,e){var n=t.length,u=t.slice(0,n),i=e.slice(0,n);return B.equals(u,i)},endsBefore(t,e){var n=t.length-1,u=t.slice(0,n),i=e.slice(0,n),r=t[n],a=e[n];return B.equals(u,i)&&r<a},equals(t,e){return t.length===e.length&&t.every((n,u)=>n===e[u])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return B.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&B.compare(t,e)===0},isBefore(t,e){return B.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&B.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&B.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&B.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&B.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;var n=t.slice(0,-1),u=e.slice(0,-1),i=t[t.length-1],r=e[e.length-1];return i!==r&&B.equals(n,u)},levels(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,u=[],i=0;i<=t.length;i++)u.push(t.slice(0,i));return n&&u.reverse(),u},next(t){if(t.length===0)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!B.isAncestor(e,t)&&!B.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return null;var u=[...t],{affinity:i="forward"}=n;if(t.length===0)return u;switch(e.type){case"insert_node":{var{path:r}=e;(B.equals(r,u)||B.endsBefore(r,u)||B.isAncestor(r,u))&&(u[r.length-1]+=1);break}case"remove_node":{var{path:a}=e;if(B.equals(a,u)||B.isAncestor(a,u))return null;B.endsBefore(a,u)&&(u[a.length-1]-=1);break}case"merge_node":{var{path:s,position:l}=e;B.equals(s,u)||B.endsBefore(s,u)?u[s.length-1]-=1:B.isAncestor(s,u)&&(u[s.length-1]-=1,u[s.length]+=l);break}case"split_node":{var{path:o,position:c}=e;if(B.equals(o,u)){if(i==="forward")u[u.length-1]+=1;else if(i!=="backward")return null}else B.endsBefore(o,u)?u[o.length-1]+=1:B.isAncestor(o,u)&&t[o.length]>=c&&(u[o.length-1]+=1,u[o.length]-=c);break}case"move_node":{var{path:d,newPath:f}=e;if(B.equals(d,f))return u;if(B.isAncestor(d,u)||B.equals(d,u)){var h=f.slice();return B.endsBefore(d,f)&&d.length<f.length&&(h[d.length-1]-=1),h.concat(u.slice(d.length))}else B.isSibling(d,f)&&(B.isAncestor(f,u)||B.equals(f,u))?B.endsBefore(d,u)?u[d.length-1]-=1:u[d.length-1]+=1:B.endsBefore(f,u)||B.equals(f,u)||B.isAncestor(f,u)?(B.endsBefore(d,u)&&(u[d.length-1]-=1),u[f.length-1]+=1):B.endsBefore(d,u)&&(B.equals(f,u)&&(u[f.length-1]+=1),u[d.length-1]-=1);break}}return u}},Na={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var i=B.transform(n,e,{affinity:u});t.current=i,i==null&&t.unref()}}};function Nu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,u)}return n}function Su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nu(Object(n),!0).forEach(function(u){$e(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Q={compare(t,e){var n=B.compare(t.path,e.path);return n===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:n},isAfter(t,e){return Q.compare(t,e)===1},isBefore(t,e){return Q.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&B.equals(t.path,e.path)},isPoint(t){return Ie(t)&&typeof t.offset=="number"&&B.isPath(t.path)},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Yn(t,u=>{if(u===null)return null;var{affinity:i="forward"}=n,{path:r,offset:a}=u;switch(e.type){case"insert_node":case"move_node":{u.path=B.transform(r,e,n);break}case"insert_text":{B.equals(e.path,r)&&(e.offset<a||e.offset===a&&i==="forward")&&(u.offset+=e.text.length);break}case"merge_node":{B.equals(e.path,r)&&(u.offset+=e.position),u.path=B.transform(r,e,n);break}case"remove_text":{B.equals(e.path,r)&&e.offset<=a&&(u.offset-=Math.min(a-e.offset,e.text.length));break}case"remove_node":{if(B.equals(e.path,r)||B.isAncestor(e.path,r))return null;u.path=B.transform(r,e,n);break}case"split_node":{if(B.equals(e.path,r)){if(e.position===a&&i==null)return null;(e.position<a||e.position===a&&i==="forward")&&(u.offset-=e.position,u.path=B.transform(r,e,Su(Su({},n),{},{affinity:"forward"})))}else u.path=B.transform(r,e,n);break}}})}},Sa={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var i=Q.transform(n,e,{affinity:u});t.current=i,i==null&&t.unref()}}},Ra=["anchor","focus"];function Ru(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,u)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ru(Object(n),!0).forEach(function(u){$e(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var _={edges(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,{anchor:u,focus:i}=t;return _.isBackward(t)===n?[u,i]:[i,u]},end(t){var[,e]=_.edges(t);return e},equals(t,e){return Q.equals(t.anchor,e.anchor)&&Q.equals(t.focus,e.focus)},includes(t,e){if(_.isRange(e)){if(_.includes(t,e.anchor)||_.includes(t,e.focus))return!0;var[n,u]=_.edges(t),[i,r]=_.edges(e);return Q.isBefore(n,i)&&Q.isAfter(u,r)}var[a,s]=_.edges(t),l=!1,o=!1;return Q.isPoint(e)?(l=Q.compare(e,a)>=0,o=Q.compare(e,s)<=0):(l=B.compare(e,a.path)>=0,o=B.compare(e,s.path)<=0),l&&o},intersection(t,e){var n=it(t,Ra),[u,i]=_.edges(t),[r,a]=_.edges(e),s=Q.isBefore(u,r)?r:u,l=Q.isBefore(i,a)?i:a;return Q.isBefore(l,s)?null:La({anchor:s,focus:l},n)},isBackward(t){var{anchor:e,focus:n}=t;return Q.isAfter(e,n)},isCollapsed(t){var{anchor:e,focus:n}=t;return Q.equals(e,n)},isExpanded(t){return!_.isCollapsed(t)},isForward(t){return!_.isBackward(t)},isRange(t){return Ie(t)&&Q.isPoint(t.anchor)&&Q.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=_.edges(t);return e},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Yn(t,u=>{if(u===null)return null;var{affinity:i="inward"}=n,r,a;if(i==="inward"){var s=_.isCollapsed(u);_.isForward(u)?(r="forward",a=s?r:"backward"):(r="backward",a=s?r:"forward")}else i==="outward"?_.isForward(u)?(r="backward",a="forward"):(r="forward",a="backward"):(r=i,a=i);var l=Q.transform(u.anchor,e,{affinity:r}),o=Q.transform(u.focus,e,{affinity:a});if(!l||!o)return null;u.anchor=l,u.focus=o})}},ja={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var i=_.transform(n,e,{affinity:u});t.current=i,i==null&&t.unref()}}},Lu=void 0,He={setScrubber(t){Lu=t},stringify(t){return JSON.stringify(t,Lu)}},Ir=(t,e)=>{for(var n in t){var u=t[n],i=e[n];if(Ie(u)&&Ie(i)){if(!Ir(u,i))return!1}else if(Array.isArray(u)&&Array.isArray(i)){if(u.length!==i.length)return!1;for(var r=0;r<u.length;r++)if(u[r]!==i[r])return!1}else if(u!==i)return!1}for(var a in e)if(t[a]===void 0&&e[a]!==void 0)return!1;return!0},Va=["text"],Ma=["anchor","focus"];function ju(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,u)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ju(Object(n),!0).forEach(function(u){$e(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ju(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var j={equals(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:u=!1}=n;function i(r){var a=it(r,Va);return a}return Ir(u?i(t):t,u?i(e):e)},isText(t){return Ie(t)&&typeof t.text=="string"},isTextList(t){return Array.isArray(t)&&t.every(e=>j.isText(e))},isTextProps(t){return t.text!==void 0},matches(t,e){for(var n in e)if(n!=="text"&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;return!0},decorations(t,e){var n=[nt({},t)];for(var u of e){var i=it(u,Ma),[r,a]=_.edges(u),s=[],l=0,o=r.offset,c=a.offset;for(var d of n){var{length:f}=d.text,h=l;if(l+=f,o<=h&&l<=c){Object.assign(d,i),s.push(d);continue}if(o!==c&&(o===l||c===h)||o>l||c<h||c===h&&h!==0){s.push(d);continue}var C=d,A=void 0,v=void 0;if(c<l){var F=c-h;v=nt(nt({},C),{},{text:C.text.slice(F)}),C=nt(nt({},C),{},{text:C.text.slice(0,F)})}if(o>h){var b=o-h;A=nt(nt({},C),{},{text:C.text.slice(0,b)}),C=nt(nt({},C),{},{text:C.text.slice(b)})}Object.assign(C,i),A&&s.push(A),s.push(C),v&&s.push(v)}n=s}return n}};function Vu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,u)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vu(Object(n),!0).forEach(function(u){$e(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var qa=(t,e,n)=>{switch(n.type){case"insert_node":{var{path:u,node:i}=n,r=O.parent(t,u),a=u[u.length-1];if(a>r.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(u,"] because the destination is past the end of the node."));if(r.children.splice(a,0,i),e)for(var[s,l]of _.points(e))e[l]=Q.transform(s,n);break}case"insert_text":{var{path:o,offset:c,text:d}=n;if(d.length===0)break;var f=O.leaf(t,o),h=f.text.slice(0,c),C=f.text.slice(c);if(f.text=h+d+C,e)for(var[A,v]of _.points(e))e[v]=Q.transform(A,n);break}case"merge_node":{var{path:F}=n,b=O.get(t,F),y=B.previous(F),P=O.get(t,y),I=O.parent(t,F),p=F[F.length-1];if(j.isText(b)&&j.isText(P))P.text+=b.text;else if(!j.isText(b)&&!j.isText(P))P.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(F,"] to nodes of different interfaces: ").concat(He.stringify(b)," ").concat(He.stringify(P)));if(I.children.splice(p,1),e)for(var[z,g]of _.points(e))e[g]=Q.transform(z,n);break}case"move_node":{var{path:q,newPath:Y}=n;if(B.isAncestor(q,Y))throw new Error("Cannot move a path [".concat(q,"] to new path [").concat(Y,"] because the destination is inside itself."));var se=O.get(t,q),be=O.parent(t,q),V=q[q.length-1];be.children.splice(V,1);var we=B.transform(q,n),he=O.get(t,B.parent(we)),S=we[we.length-1];if(he.children.splice(S,0,se),e)for(var[de,Be]of _.points(e))e[Be]=Q.transform(de,n);break}case"remove_node":{var{path:Ae}=n,ke=Ae[Ae.length-1],Pe=O.parent(t,Ae);if(Pe.children.splice(ke,1),e)for(var[ye,G]of _.points(e)){var pe=Q.transform(ye,n);if(e!=null&&pe!=null)e[G]=pe;else{var ge=void 0,Ce=void 0;for(var[Me,qe]of O.texts(t))if(B.compare(qe,Ae)===-1)ge=[Me,qe];else{Ce=[Me,qe];break}var Je=!1;ge&&Ce&&(B.equals(Ce[1],Ae)?Je=!B.hasPrevious(Ce[1]):Je=B.common(ge[1],Ae).length<B.common(Ce[1],Ae).length),ge&&!Je?(ye.path=ge[1],ye.offset=ge[0].text.length):Ce?(ye.path=Ce[1],ye.offset=0):e=null}}break}case"remove_text":{var{path:et,offset:Fe,text:tt}=n;if(tt.length===0)break;var Ot=O.leaf(t,et),Dn=Ot.text.slice(0,Fe),hn=Ot.text.slice(Fe+tt.length);if(Ot.text=Dn+hn,e)for(var[gn,Cn]of _.points(e))e[Cn]=Q.transform(gn,n);break}case"set_node":{var{path:qt,properties:mn,newProperties:kt}=n;if(qt.length===0)throw new Error("Cannot set properties on the root node!");var E=O.get(t,qt);for(var R in kt){if(R==="children"||R==="text")throw new Error('Cannot set the "'.concat(R,'" property of nodes!'));var M=kt[R];M==null?delete E[R]:E[R]=M}for(var ne in mn)kt.hasOwnProperty(ne)||delete E[ne];break}case"set_selection":{var{newProperties:W}=n;if(W==null)e=W;else{if(e==null){if(!_.isRange(W))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(He.stringify(W)," when there is no current selection."));e=It({},W)}for(var Z in W){var ot=W[Z];if(ot==null){if(Z==="anchor"||Z==="focus")throw new Error('Cannot remove the "'.concat(Z,'" selection property'));delete e[Z]}else e[Z]=ot}}break}case"split_node":{var{path:We,position:mt,properties:su}=n;if(We.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(We,"] because the root node cannot be split."));var ft=O.get(t,We),Oi=O.parent(t,We),ki=We[We.length-1],Bn;if(j.isText(ft)){var Pi=ft.text.slice(0,mt),Ii=ft.text.slice(mt);ft.text=Pi,Bn=It(It({},su),{},{text:Ii})}else{var Ti=ft.children.slice(0,mt),Ni=ft.children.slice(mt);ft.children=Ti,Bn=It(It({},su),{},{children:Ni})}if(Oi.children.splice(ki+1,0,Bn),e)for(var[Si,Ri]of _.points(e))e[Ri]=Q.transform(Si,n);break}}return e},Wa={transform(t,e){t.children=vu(t.children);var n=t.selection&&vu(t.selection);try{n=qa(t,n,e)}finally{t.children=Au(t.children),n?t.selection=ht(n)?Au(n):n:t.selection=null}}},Ha=["text"],za=["children"];function Mu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,u)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mu(Object(n),!0).forEach(function(u){$e(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Ka={insertNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{hanging:u=!1,voids:i=!1,mode:r="lowest"}=n,{at:a,match:s,select:l}=n;if(O.isNode(e)&&(e=[e]),e.length!==0){var[o]=e;if(a||(t.selection?a=t.selection:t.children.length>0?a=D.end(t,[]):a=[0],l=!0),l==null&&(l=!1),_.isRange(a))if(u||(a=D.unhangRange(t,a,{voids:i})),_.isCollapsed(a))a=a.anchor;else{var[,c]=_.edges(a),d=D.pointRef(t,c);w.delete(t,{at:a}),a=d.unref()}if(Q.isPoint(a)){s==null&&(j.isText(o)?s=p=>j.isText(p):t.isInline(o)?s=p=>j.isText(p)||D.isInline(t,p):s=p=>L.isElement(p)&&D.isBlock(t,p));var[f]=D.nodes(t,{at:a.path,match:s,mode:r,voids:i});if(f){var[,h]=f,C=D.pathRef(t,h),A=D.isEnd(t,a,h);w.splitNodes(t,{at:a,match:s,mode:r,voids:i});var v=C.unref();a=A?B.next(v):v}else return}var F=B.parent(a),b=a[a.length-1];if(!(!i&&D.void(t,{at:F}))){for(var y of e){var P=F.concat(b);b++,t.apply({type:"insert_node",path:P,node:y}),a=B.next(a)}if(a=B.previous(a),l){var I=D.end(t,a);I&&w.select(t,I)}}}})},liftNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{at:n=t.selection,mode:u="lowest",voids:i=!1}=e,{match:r}=e;if(r==null&&(r=B.isPath(n)?Et(t,n):y=>L.isElement(y)&&D.isBlock(t,y)),!!n){var a=D.nodes(t,{at:n,match:r,mode:u,voids:i}),s=Array.from(a,y=>{var[,P]=y;return D.pathRef(t,P)});for(var l of s){var o=l.unref();if(o.length<2)throw new Error("Cannot lift node at a path [".concat(o,"] because it has a depth of less than `2`."));var c=D.node(t,B.parent(o)),[d,f]=c,h=o[o.length-1],{length:C}=d.children;if(C===1){var A=B.next(f);w.moveNodes(t,{at:o,to:A,voids:i}),w.removeNodes(t,{at:f,voids:i})}else if(h===0)w.moveNodes(t,{at:o,to:f,voids:i});else if(h===C-1){var v=B.next(f);w.moveNodes(t,{at:o,to:v,voids:i})}else{var F=B.next(o),b=B.next(f);w.splitNodes(t,{at:F,voids:i}),w.moveNodes(t,{at:o,to:b,voids:i})}}}})},mergeNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{match:n,at:u=t.selection}=e,{hanging:i=!1,voids:r=!1,mode:a="lowest"}=e;if(u){if(n==null)if(B.isPath(u)){var[s]=D.parent(t,u);n=q=>s.children.includes(q)}else n=q=>L.isElement(q)&&D.isBlock(t,q);if(!i&&_.isRange(u)&&(u=D.unhangRange(t,u,{voids:r})),_.isRange(u))if(_.isCollapsed(u))u=u.anchor;else{var[,l]=_.edges(u),o=D.pointRef(t,l);w.delete(t,{at:u}),u=o.unref(),e.at==null&&w.select(t,u)}var[c]=D.nodes(t,{at:u,match:n,voids:r,mode:a}),d=D.previous(t,{at:u,match:n,voids:r,mode:a});if(!(!c||!d)){var[f,h]=c,[C,A]=d;if(!(h.length===0||A.length===0)){var v=B.next(A),F=B.common(h,A),b=B.isSibling(h,A),y=Array.from(D.levels(t,{at:h}),q=>{var[Y]=q;return Y}).slice(F.length).slice(0,-1),P=D.above(t,{at:h,mode:"highest",match:q=>y.includes(q)&&Tr(t,q)}),I=P&&D.pathRef(t,P[1]),p,z;if(j.isText(f)&&j.isText(C)){var g=it(f,Ha);z=C.text.length,p=g}else if(L.isElement(f)&&L.isElement(C)){var g=it(f,za);z=C.children.length,p=g}else throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(He.stringify(f)," ").concat(He.stringify(C)));b||w.moveNodes(t,{at:h,to:v,voids:r}),I&&w.removeNodes(t,{at:I.current,voids:r}),L.isElement(C)&&D.isEmpty(t,C)||j.isText(C)&&C.text===""&&A[A.length-1]!==0?w.removeNodes(t,{at:A,voids:r}):t.apply({type:"merge_node",path:v,position:z,properties:p}),I&&I.unref()}}}})},moveNodes(t,e){D.withoutNormalizing(t,()=>{var{to:n,at:u=t.selection,mode:i="lowest",voids:r=!1}=e,{match:a}=e;if(u){a==null&&(a=B.isPath(u)?Et(t,u):h=>L.isElement(h)&&D.isBlock(t,h));var s=D.pathRef(t,n),l=D.nodes(t,{at:u,match:a,mode:i,voids:r}),o=Array.from(l,h=>{var[,C]=h;return D.pathRef(t,C)});for(var c of o){var d=c.unref(),f=s.current;d.length!==0&&t.apply({type:"move_node",path:d,newPath:f}),s.current&&B.isSibling(f,d)&&B.isAfter(f,d)&&(s.current=B.next(s.current))}s.unref()}})},removeNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{hanging:n=!1,voids:u=!1,mode:i="lowest"}=e,{at:r=t.selection,match:a}=e;if(r){a==null&&(a=B.isPath(r)?Et(t,r):f=>L.isElement(f)&&D.isBlock(t,f)),!n&&_.isRange(r)&&(r=D.unhangRange(t,r,{voids:u}));var s=D.nodes(t,{at:r,match:a,mode:i,voids:u}),l=Array.from(s,f=>{var[,h]=f;return D.pathRef(t,h)});for(var o of l){var c=o.unref();if(c){var[d]=D.node(t,c);t.apply({type:"remove_node",path:c,node:d})}}}})},setNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{match:u,at:i=t.selection,compare:r,merge:a}=n,{hanging:s=!1,mode:l="lowest",split:o=!1,voids:c=!1}=n;if(i){if(u==null&&(u=B.isPath(i)?Et(t,i):z=>L.isElement(z)&&D.isBlock(t,z)),!s&&_.isRange(i)&&(i=D.unhangRange(t,i,{voids:c})),o&&_.isRange(i)){if(_.isCollapsed(i)&&D.leaf(t,i.anchor)[0].text.length>0)return;var d=D.rangeRef(t,i,{affinity:"inward"}),[f,h]=_.edges(i),C=l==="lowest"?"lowest":"highest",A=D.isEnd(t,h,h.path);w.splitNodes(t,{at:h,match:u,mode:C,voids:c,always:!A});var v=D.isStart(t,f,f.path);w.splitNodes(t,{at:f,match:u,mode:C,voids:c,always:!v}),i=d.unref(),n.at==null&&w.select(t,i)}r||(r=(z,g)=>z!==g);for(var[F,b]of D.nodes(t,{at:i,match:u,mode:l,voids:c})){var y={},P={};if(b.length!==0){var I=!1;for(var p in e)p==="children"||p==="text"||r(e[p],F[p])&&(I=!0,F.hasOwnProperty(p)&&(y[p]=F[p]),a?e[p]!=null&&(P[p]=a(F[p],e[p])):e[p]!=null&&(P[p]=e[p]));I&&t.apply({type:"set_node",path:b,properties:y,newProperties:P})}}}})},splitNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{mode:n="lowest",voids:u=!1}=e,{match:i,at:r=t.selection,height:a=0,always:s=!1}=e;if(i==null&&(i=Be=>L.isElement(Be)&&D.isBlock(t,Be)),_.isRange(r)&&(r=Ya(t,r)),B.isPath(r)){var l=r,o=D.point(t,l),[c]=D.parent(t,l);i=Be=>Be===c,a=o.path.length-l.length+1,r=o,s=!0}if(r){var d=D.pointRef(t,r,{affinity:"backward"}),f;try{var[h]=D.nodes(t,{at:r,match:i,mode:n,voids:u});if(!h)return;var C=D.void(t,{at:r,mode:"highest"}),A=0;if(!u&&C){var[v,F]=C;if(L.isElement(v)&&t.isInline(v)){var b=D.after(t,F);if(!b){var y={text:""},P=B.next(F);w.insertNodes(t,y,{at:P,voids:u}),b=D.point(t,P)}r=b,s=!0}var I=r.path.length-F.length;a=I+1,s=!0}f=D.pointRef(t,r);var p=r.path.length-a,[,z]=h,g=r.path.slice(0,p),q=a===0?r.offset:r.path[p]+A;for(var[Y,se]of D.levels(t,{at:g,reverse:!0,voids:u})){var be=!1;if(se.length<z.length||se.length===0||!u&&L.isElement(Y)&&D.isVoid(t,Y))break;var V=d.current,we=D.isEnd(t,V,se);if(s||!d||!D.isEdge(t,V,se)){be=!0;var he=O.extractProps(Y);t.apply({type:"split_node",path:se,position:q,properties:he})}q=se[se.length-1]+(be||we?1:0)}if(e.at==null){var S=f.current||D.end(t,[]);w.select(t,S)}}finally{var de;d.unref(),(de=f)===null||de===void 0||de.unref()}}})},unsetNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(e)||(e=[e]);var u={};for(var i of e)u[i]=null;w.setNodes(t,u,n)},unwrapNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{mode:n="lowest",split:u=!1,voids:i=!1}=e,{at:r=t.selection,match:a}=e;if(r){a==null&&(a=B.isPath(r)?Et(t,r):f=>L.isElement(f)&&D.isBlock(t,f)),B.isPath(r)&&(r=D.range(t,r));var s=_.isRange(r)?D.rangeRef(t,r):null,l=D.nodes(t,{at:r,match:a,mode:n,voids:i}),o=Array.from(l,f=>{var[,h]=f;return D.pathRef(t,h)}).reverse(),c=function(h){var C=h.unref(),[A]=D.node(t,C),v=D.range(t,C);u&&s&&(v=_.intersection(s.current,v)),w.liftNodes(t,{at:v,match:F=>L.isAncestor(A)&&A.children.includes(F),voids:i})};for(var d of o)c(d);s&&s.unref()}})},wrapNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{mode:u="lowest",split:i=!1,voids:r=!1}=n,{match:a,at:s=t.selection}=n;if(s){if(a==null&&(B.isPath(s)?a=Et(t,s):t.isInline(e)?a=v=>L.isElement(v)&&D.isInline(t,v)||j.isText(v):a=v=>L.isElement(v)&&D.isBlock(t,v)),i&&_.isRange(s)){var[l,o]=_.edges(s),c=D.rangeRef(t,s,{affinity:"inward"});w.splitNodes(t,{at:o,match:a,voids:r}),w.splitNodes(t,{at:l,match:a,voids:r}),s=c.unref(),n.at==null&&w.select(t,s)}var d=Array.from(D.nodes(t,{at:s,match:t.isInline(e)?v=>L.isElement(v)&&D.isBlock(t,v):v=>D.isEditor(v),mode:"lowest",voids:r}));for(var[,f]of d){var h=_.isRange(s)?_.intersection(s,D.range(t,f)):s;if(h){var C=Array.from(D.nodes(t,{at:h,match:a,mode:u,voids:r}));if(C.length>0){var A=function(){var[v]=C,F=C[C.length-1],[,b]=v,[,y]=F;if(b.length===0&&y.length===0)return"continue";var P=B.equals(b,y)?B.parent(b):B.common(b,y),I=D.range(t,b,y),p=D.node(t,P),[z]=p,g=P.length+1,q=B.next(y.slice(0,g)),Y=qu(qu({},e),{},{children:[]});w.insertNodes(t,Y,{at:q,voids:r}),w.moveNodes(t,{at:I,match:se=>L.isAncestor(z)&&z.children.includes(se),to:q.concat(0),voids:r})}();if(A==="continue")continue}}}}})}},Tr=(t,e)=>{if(L.isElement(e)){var n=e;return D.isVoid(t,e)?!0:n.children.length===1?Tr(t,n.children[0]):!1}else return!D.isEditor(e)},Ya=(t,e)=>{if(_.isCollapsed(e))return e.anchor;var[,n]=_.edges(e),u=D.pointRef(t,n);return w.delete(t,{at:e}),u.unref()},Et=(t,e)=>{var[n]=D.node(t,e);return u=>u===n};function Wu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,u)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wu(Object(n),!0).forEach(function(u){$e(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Ua={collapse(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=e,{selection:u}=t;if(u){if(n==="anchor")w.select(t,u.anchor);else if(n==="focus")w.select(t,u.focus);else if(n==="start"){var[i]=_.edges(u);w.select(t,i)}else if(n==="end"){var[,r]=_.edges(u);w.select(t,r)}}else return},deselect(t){var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},move(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=t,{distance:u=1,unit:i="character",reverse:r=!1}=e,{edge:a=null}=e;if(n){a==="start"&&(a=_.isBackward(n)?"focus":"anchor"),a==="end"&&(a=_.isBackward(n)?"anchor":"focus");var{anchor:s,focus:l}=n,o={distance:u,unit:i},c={};if(a==null||a==="anchor"){var d=r?D.before(t,s,o):D.after(t,s,o);d&&(c.anchor=d)}if(a==null||a==="focus"){var f=r?D.before(t,l,o):D.after(t,l,o);f&&(c.focus=f)}w.setSelection(t,c)}},select(t,e){var{selection:n}=t;if(e=D.range(t,e),n){w.setSelection(t,e);return}if(!_.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(He.stringify(e)));t.apply({type:"set_selection",properties:n,newProperties:e})},setPoint(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:u}=t,{edge:i="both"}=n;if(u){i==="start"&&(i=_.isBackward(u)?"focus":"anchor"),i==="end"&&(i=_.isBackward(u)?"anchor":"focus");var{anchor:r,focus:a}=u,s=i==="anchor"?r:a;w.setSelection(t,{[i==="anchor"?"anchor":"focus"]:Hu(Hu({},s),e)})}},setSelection(t,e){var{selection:n}=t,u={},i={};if(n){for(var r in e)(r==="anchor"&&e.anchor!=null&&!Q.equals(e.anchor,n.anchor)||r==="focus"&&e.focus!=null&&!Q.equals(e.focus,n.focus)||r!=="anchor"&&r!=="focus"&&e[r]!==n[r])&&(u[r]=n[r],i[r]=e[r]);Object.keys(u).length>0&&t.apply({type:"set_selection",properties:u,newProperties:i})}}},Ga={delete(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{reverse:n=!1,unit:u="character",distance:i=1,voids:r=!1}=e,{at:a=t.selection,hanging:s=!1}=e;if(a){var l=!1;if(_.isRange(a)&&_.isCollapsed(a)&&(l=!0,a=a.anchor),Q.isPoint(a)){var o=D.void(t,{at:a,mode:"highest"});if(!r&&o){var[,c]=o;a=c}else{var d={unit:u,distance:i},f=n?D.before(t,a,d)||D.start(t,[]):D.after(t,a,d)||D.end(t,[]);a={anchor:a,focus:f},s=!0}}if(B.isPath(a)){w.removeNodes(t,{at:a,voids:r});return}if(!_.isCollapsed(a)){if(!s){var[,h]=_.edges(a),C=D.end(t,[]);Q.equals(h,C)||(a=D.unhangRange(t,a,{voids:r}))}var[A,v]=_.edges(a),F=D.above(t,{match:Fe=>L.isElement(Fe)&&D.isBlock(t,Fe),at:A,voids:r}),b=D.above(t,{match:Fe=>L.isElement(Fe)&&D.isBlock(t,Fe),at:v,voids:r}),y=F&&b&&!B.equals(F[1],b[1]),P=B.equals(A.path,v.path),I=r?null:D.void(t,{at:A,mode:"highest"}),p=r?null:D.void(t,{at:v,mode:"highest"});if(I){var z=D.before(t,A);z&&F&&B.isAncestor(F[1],z.path)&&(A=z)}if(p){var g=D.after(t,v);g&&b&&B.isAncestor(b[1],g.path)&&(v=g)}var q=[],Y;for(var se of D.nodes(t,{at:a,voids:r})){var[be,V]=se;Y&&B.compare(V,Y)===0||(!r&&L.isElement(be)&&D.isVoid(t,be)||!B.isCommon(V,A.path)&&!B.isCommon(V,v.path))&&(q.push(se),Y=V)}var we=Array.from(q,Fe=>{var[,tt]=Fe;return D.pathRef(t,tt)}),he=D.pointRef(t,A),S=D.pointRef(t,v),de="";if(!P&&!I){var Be=he.current,[Ae]=D.leaf(t,Be),{path:ke}=Be,{offset:Pe}=A,ye=Ae.text.slice(Pe);ye.length>0&&(t.apply({type:"remove_text",path:ke,offset:Pe,text:ye}),de=ye)}if(we.reverse().map(Fe=>Fe.unref()).filter(Fe=>Fe!==null).forEach(Fe=>w.removeNodes(t,{at:Fe,voids:r})),!p){var G=S.current,[pe]=D.leaf(t,G),{path:ge}=G,Ce=P?A.offset:0,Me=pe.text.slice(Ce,v.offset);Me.length>0&&(t.apply({type:"remove_text",path:ge,offset:Ce,text:Me}),de=Me)}!P&&y&&S.current&&he.current&&w.mergeNodes(t,{at:S.current,hanging:!0,voids:r}),l&&n&&u==="character"&&de.length>1&&de.match(/[\u0E00-\u0E7F]+/)&&w.insertText(t,de.slice(0,de.length-i));var qe=he.unref(),Je=S.unref(),et=n?qe||Je:Je||qe;e.at==null&&et&&w.select(t,et)}}})},insertFragment(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{hanging:u=!1,voids:i=!1}=n,{at:r=t.selection}=n;if(e.length){if(r)if(_.isRange(r))if(u||(r=D.unhangRange(t,r,{voids:i})),_.isCollapsed(r))r=r.anchor;else{var[,a]=_.edges(r);if(!i&&D.void(t,{at:a}))return;var s=D.pointRef(t,a);w.delete(t,{at:r}),r=s.unref()}else B.isPath(r)&&(r=D.start(t,r));else return;if(!(!i&&D.void(t,{at:r}))){var l=D.above(t,{at:r,match:G=>L.isElement(G)&&D.isInline(t,G),mode:"highest",voids:i});if(l){var[,o]=l;if(D.isEnd(t,r,o)){var c=D.after(t,o);r=c}else if(D.isStart(t,r,o)){var d=D.before(t,o);r=d}}var f=D.above(t,{match:G=>L.isElement(G)&&D.isBlock(t,G),at:r,voids:i}),[,h]=f,C=D.isStart(t,r,h),A=D.isEnd(t,r,h),v=C&&A,F=!C||C&&A,b=!A,[,y]=O.first({children:e},[]),[,P]=O.last({children:e},[]),I=[],p=G=>{var[pe,ge]=G,Ce=ge.length===0;return Ce?!1:v?!0:!(F&&B.isAncestor(ge,y)&&L.isElement(pe)&&!t.isVoid(pe)&&!t.isInline(pe)||b&&B.isAncestor(ge,P)&&L.isElement(pe)&&!t.isVoid(pe)&&!t.isInline(pe))};for(var z of O.nodes({children:e},{pass:p}))p(z)&&I.push(z);var g=[],q=[],Y=[],se=!0,be=!1;for(var[V]of I)L.isElement(V)&&!t.isInline(V)?(se=!1,be=!0,q.push(V)):se?g.push(V):Y.push(V);var[we]=D.nodes(t,{at:r,match:G=>j.isText(G)||D.isInline(t,G),mode:"highest",voids:i}),[,he]=we,S=D.isStart(t,r,he),de=D.isEnd(t,r,he),Be=D.pathRef(t,A&&!Y.length?B.next(h):h),Ae=D.pathRef(t,de?B.next(he):he);w.splitNodes(t,{at:r,match:G=>be?L.isElement(G)&&D.isBlock(t,G):j.isText(G)||D.isInline(t,G),mode:be?"lowest":"highest",always:be&&(!C||g.length>0)&&(!A||Y.length>0),voids:i});var ke=D.pathRef(t,!S||S&&de?B.next(he):he);if(w.insertNodes(t,g,{at:ke.current,match:G=>j.isText(G)||D.isInline(t,G),mode:"highest",voids:i}),v&&!g.length&&q.length&&!Y.length&&w.delete(t,{at:h,voids:i}),w.insertNodes(t,q,{at:Be.current,match:G=>L.isElement(G)&&D.isBlock(t,G),mode:"lowest",voids:i}),w.insertNodes(t,Y,{at:Ae.current,match:G=>j.isText(G)||D.isInline(t,G),mode:"highest",voids:i}),!n.at){var Pe;if(Y.length>0&&Ae.current?Pe=B.previous(Ae.current):q.length>0&&Be.current?Pe=B.previous(Be.current):ke.current&&(Pe=B.previous(ke.current)),Pe){var ye=D.end(t,Pe);w.select(t,ye)}}ke.unref(),Be.unref(),Ae.unref()}}})},insertText(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{voids:u=!1}=n,{at:i=t.selection}=n;if(i){if(B.isPath(i)&&(i=D.range(t,i)),_.isRange(i))if(_.isCollapsed(i))i=i.anchor;else{var r=_.end(i);if(!u&&D.void(t,{at:r}))return;var a=_.start(i),s=D.pointRef(t,a),l=D.pointRef(t,r);w.delete(t,{at:i,voids:u});var o=s.unref(),c=l.unref();i=o||c,w.setSelection(t,{anchor:i,focus:i})}if(!(!u&&D.void(t,{at:i}))){var{path:d,offset:f}=i;e.length>0&&t.apply({type:"insert_text",path:d,offset:f,text:e})}}})}};function zu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,u)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zu(Object(n),!0).forEach(function(u){$e(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var w=Ht(Ht(Ht(Ht({},Wa),Ka),Ua),Ga);function Nr(t){return function(n,u,i,r,a,s,l){return t(n,u,l)}}function on(t){return function(n,u,i,r){if(!n||!u||typeof n!="object"||typeof u!="object")return t(n,u,i,r);var a=r.get(n),s=r.get(u);if(a&&s)return a===u&&s===n;r.set(n,u),r.set(u,n);var l=t(n,u,i,r);return r.delete(n),r.delete(u),l}}function Sr(t,e){var n={};for(var u in t)n[u]=t[u];for(var u in e)n[u]=e[u];return n}function Ku(t){return t.constructor===Object||t.constructor==null}function Yu(t){return typeof t.then=="function"}function fn(t,e){return t===e||t!==t&&e!==e}var Xa="[object Arguments]",Ja="[object Boolean]",Za="[object Date]",Qa="[object RegExp]",xa="[object Map]",$a="[object Number]",es="[object Object]",ts="[object Set]",ns="[object String]",Uu=Object.prototype.toString;function cn(t){var e=t.areArraysEqual,n=t.areDatesEqual,u=t.areMapsEqual,i=t.areObjectsEqual,r=t.areRegExpsEqual,a=t.areSetsEqual,s=t.createIsNestedEqual,l=s(o);function o(c,d,f){if(c===d)return!0;if(!c||!d||typeof c!="object"||typeof d!="object")return c!==c&&d!==d;if(Ku(c)&&Ku(d))return i(c,d,l,f);var h=Array.isArray(c),C=Array.isArray(d);if(h||C)return h===C&&e(c,d,l,f);var A=Uu.call(c);return A!==Uu.call(d)?!1:A===Za?n(c,d,l,f):A===Qa?r(c,d,l,f):A===xa?u(c,d,l,f):A===ts?a(c,d,l,f):A===es||A===Xa?Yu(c)||Yu(d)?!1:i(c,d,l,f):A===Ja||A===$a||A===ns?fn(c.valueOf(),d.valueOf()):!1}return o}function Rr(t,e,n,u){var i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n(t[i],e[i],i,i,t,e,u))return!1;return!0}var us=on(Rr);function Lr(t,e){return fn(t.valueOf(),e.valueOf())}function jr(t,e,n,u){var i=t.size===e.size;if(!i)return!1;if(!t.size)return!0;var r={},a=0;return t.forEach(function(s,l){if(i){var o=!1,c=0;e.forEach(function(d,f){!o&&!r[c]&&(o=n(l,f,a,c,t,e,u)&&n(s,d,l,f,t,e,u))&&(r[c]=!0),c++}),a++,i=o}}),i}var rs=on(jr),is="_owner",as=Object.prototype.hasOwnProperty;function Vr(t,e,n,u){var i=Object.keys(t),r=i.length;if(Object.keys(e).length!==r)return!1;for(var a;r-- >0;){if(a=i[r],a===is){var s=!!t.$$typeof,l=!!e.$$typeof;if((s||l)&&s!==l)return!1}if(!as.call(e,a)||!n(t[a],e[a],a,a,t,e,u))return!1}return!0}var ss=on(Vr);function Mr(t,e){return t.source===e.source&&t.flags===e.flags}function qr(t,e,n,u){var i=t.size===e.size;if(!i)return!1;if(!t.size)return!0;var r={};return t.forEach(function(a,s){if(i){var l=!1,o=0;e.forEach(function(c,d){!l&&!r[o]&&(l=n(a,c,s,d,t,e,u))&&(r[o]=!0),o++}),i=l}}),i}var ls=on(qr),Wr=Object.freeze({areArraysEqual:Rr,areDatesEqual:Lr,areMapsEqual:jr,areObjectsEqual:Vr,areRegExpsEqual:Mr,areSetsEqual:qr,createIsNestedEqual:Nr}),Hr=Object.freeze({areArraysEqual:us,areDatesEqual:Lr,areMapsEqual:rs,areObjectsEqual:ss,areRegExpsEqual:Mr,areSetsEqual:ls,createIsNestedEqual:Nr});cn(Wr);var os=cn(Sr(Wr,{createIsNestedEqual:function(){return fn}}));function fs(t,e){return os(t,e,void 0)}cn(Hr);cn(Sr(Hr,{createIsNestedEqual:function(){return fn}}));let cs=0;class ds{constructor(){lu(this,"id");this.id=`${cs++}`}toString(){return this.id}}function Xn(t){const e=t;return e&&e.ownerDocument&&e.ownerDocument.defaultView||null}function Ds(t){return Ct(t)&&t.nodeType===8}function Qe(t){return Ct(t)&&t.nodeType===1}function Ct(t){const e=Xn(t);return!!e&&t instanceof e.Node}function Gu(t){const e=t,n=e&&e.anchorNode&&Xn(e.anchorNode);return!!n&&t instanceof n.Selection}function zr(t){return Ct(t)&&t.nodeType===3}function hs(t){return t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1}function gs(t){let[e,n]=t;if(Qe(e)&&e.childNodes.length){let u=n===e.childNodes.length,i=u?n-1:n;for([e,i]=Kr(e,i,u?"backward":"forward"),u=i<n;Qe(e)&&e.childNodes.length;){const r=u?e.childNodes.length-1:0;e=ms(e,r,u?"backward":"forward")}n=u&&e.textContent!=null?e.textContent.length:0}return[e,n]}function Cs(){return!!(window.document.activeElement&&window.document.activeElement.shadowRoot)}function Kr(t,e,n){const{childNodes:u}=t;let i=u[e],r=e,a=!1,s=!1;for(;(Ds(i)||Qe(i)&&i.childNodes.length===0||Qe(i)&&i.getAttribute("contenteditable")==="false")&&!(a&&s);){if(r>=u.length){a=!0,r=e-1,n="backward";continue}if(r<0){s=!0,r=e+1,n="forward";continue}i=u[r],e=r,r+=n==="forward"?1:-1}return[i,e]}function ms(t,e,n){const[u]=Kr(t,e,n);return u}function Yr(t){let e="";if(zr(t)&&t.nodeValue)return t.nodeValue;if(Qe(t)){for(const u of Array.from(t.childNodes))e+=Yr(u);const n=getComputedStyle(t).getPropertyValue("display");(n==="block"||n==="list"||t.tagName==="BR")&&(e+=`
`)}return e}const Bs=/data-slate-fragment="(.+?)"/m;function Es(t){const e=t.getData("text/html"),[,n]=e.match(Bs)||[];return n}const vs=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Xu=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),jn=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),bn=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),As=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),Ur=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),Fs=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),bs=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),_s=typeof navigator<"u"&&/.*QQBrowser/.test(navigator.userAgent),Ju=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zu=!Fs&&!As&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function Jn(t){const e=kn.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e}function Dt(t){let e=Pn.get(t);return e||(e=new ds,Pn.set(t,e)),e}function st(t){const e=[];let n=t;for(;;){const u=an.get(n);if(u==null){if(D.isEditor(n))return e;break}const i=rn.get(n);if(i==null)break;e.unshift(i),n=u}throw new Error(`Unable to find the path for Slate node: ${JSON.stringify(t)}`)}function If(t,e,n){return[...D.nodes(t,{at:[[0],st(e)],match:n})].length}function Nt(t){const e=ut(t,t),n=e.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:e.ownerDocument}function Qu(t){return!!At.get(t)}function ws(t){const e=ut(t,t),n=Nt(t);At.set(t,!0),n.activeElement!==e&&e.focus({preventScroll:!0})}function Zn(t,e,n={}){const{editable:u=!1}=n,i=ut(t,t);let r=null;try{r=Qe(e)?e:e.parentElement}catch(a){if(!a.message.includes('Permission denied to access property "nodeType"'))throw a}return r?r.closest("[data-svelte-editor]")===i&&(!u||r.isContentEditable?!0:typeof r.isContentEditable=="boolean"&&r.closest('[contenteditable="false"]')===i||!!r.getAttribute("data-slate-zero-width")):!1}function ut(t,e,n=!0){const u=ln.get(t),i=D.isEditor(e)?Kt.get(t):u==null?void 0:u.get(Dt(e));if(!i&&n)throw new Error(`Cannot resolve a DOM node from Slate node: ${JSON.stringify(e)}`);return i}function xu(t,e,n=!0){const[u]=D.node(t,e.path),i=ut(t,u,n);let r;D.void(t,{at:e})&&(e={path:e.path,offset:0});const a="[data-slate-string], [data-slate-zero-width]",s=i?Array.from(i.querySelectorAll(a)):[];let l=0;for(const o of s){const c=o.childNodes[0];if(c==null||c.textContent==null)continue;const{length:d}=c.textContent,f=o.getAttribute("data-slate-length"),h=f==null?d:parseInt(f,10),C=l+h;if(e.offset<=C){const A=Math.min(d,Math.max(0,e.offset-l));r=[c,A];break}l=C}if(!r&&n)throw new Error(`Cannot resolve a DOM point from Slate point: ${JSON.stringify(e)}`);return r}function xt(t,e,n=!0){const{anchor:u,focus:i}=e,r=_.isBackward(e),a=xu(t,u,n);if(!a)return;const s=_.isCollapsed(e)?a:xu(t,i),o=Jn(t).document.createRange(),[c,d]=r?s:a,[f,h]=r?a:s,A=!!(Qe(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),F=!!(Qe(f)?f:f.parentElement).getAttribute("data-slate-zero-width");return o.setStart(c,A?1:d),o.setEnd(f,F?1:h),o}function dt(t){let e=Qe(t)?t:t.parentElement;e&&!e.hasAttribute("data-slate-node")&&(e=e.closest("[data-slate-node]"));const n=e?sn.get(e):null;if(!n)throw new Error(`Cannot resolve a Slate node from DOM node: ${e}`);return n}function ys(t,e){const{clientX:n,clientY:u,target:i}=e;if(n==null||u==null)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);const r=dt(e.target),a=st(r);if(D.isVoid(t,r)){const c=i.getBoundingClientRect(),d=t.isInline(r)?n-c.left<c.left+c.width-n:u-c.top<c.top+c.height-u,f=D.point(t,a,{edge:d?"start":"end"}),h=d?D.before(t,f):D.after(t,f);if(h)return D.range(t,h)}let s=null;const{document:l}=Jn(t);if(l.caretRangeFromPoint)s=l.caretRangeFromPoint(n,u);else{const c=l.caretPositionFromPoint(n,u);c&&(s=l.createRange(),s.setStart(c.offsetNode,c.offset),s.setEnd(c.offsetNode,c.offset))}if(!s)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);return St(t,s,{exactMatch:!1,suppressThrow:!1})}function $u(t,e,n){var f,h,C,A;const{exactMatch:u,suppressThrow:i}=n,[r,a]=u?e:gs(e),s=r.parentNode;let l=null,o=0;if(s){const v=s.closest('[data-slate-void="true"]');let F=s.closest("[data-slate-leaf]"),b=null;if(F){if(l=F.closest('[data-slate-node="text"]'),l){const P=Jn(t).document.createRange();P.setStart(l,0),P.setEnd(r,a);const I=P.cloneContents();[...Array.prototype.slice.call(I.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(I.querySelectorAll("[contenteditable=false]"))].forEach(z=>{z.parentNode.removeChild(z)}),o=((f=I==null?void 0:I.textContent)==null?void 0:f.length)||0,b=l}}else v&&(F=v.querySelector("[data-slate-leaf]"),F?(l=F.closest('[data-slate-node="text"]'),b=F,o=((h=b==null?void 0:b.textContent)==null?void 0:h.length)||0,b.querySelectorAll("[data-slate-zero-width]").forEach(y=>{var P;o-=((P=y==null?void 0:y.textContent)==null?void 0:P.length)||0})):o=1);b&&o===((C=b==null?void 0:b.textContent)==null?void 0:C.length)&&(s.hasAttribute("data-slate-zero-width")||jn&&((A=b.textContent)!=null&&A.endsWith(`

`)))&&o--}if(!l){if(i)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${e}`)}const c=dt(l);return{path:st(c),offset:o}}function St(t,e,n){const{exactMatch:u,suppressThrow:i}=n,r=Gu(e)?e.anchorNode:e.startContainer;let a=null,s=0,l=null,o=0,c=!1;if(r&&(Gu(e)?(a=e.anchorNode,s=e.anchorOffset,l=e.focusNode,o=e.focusOffset,Ur&&Cs()?c=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:c=e.isCollapsed):(a=e.startContainer,s=e.startOffset,l=e.endContainer,o=e.endOffset,c=e.collapsed)),a==null||l==null||s==null||o==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${e}`);const d=$u(t,[a,s],{exactMatch:u,suppressThrow:i});if(!d)return null;const f=c?d:$u(t,[l,o],{exactMatch:u,suppressThrow:i});if(!f)return null;let h={anchor:d,focus:f};return _.isExpanded(h)&&_.isForward(h)&&Qe(l)&&D.void(t,{at:h.focus,mode:"highest"})&&(h=D.unhangRange(t,h,{voids:!0})),h}function ps(t,e){const{anchor:n,focus:u}=e;return D.hasPath(t,n.path)&&D.hasPath(t,u.path)}function Gr(t,e){if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(let n=0;n<t.length;n++){const u=t[n],i=e[n],{anchor:r,focus:a,...s}=u,{anchor:l,focus:o,...c}=i;if(!_.equals(u,i)||u[Lt]!==i[Lt]||!fs(s,c))return!1}return!0}function Xr(t,e){return t===e||!!t&&!!e&&_.equals(t,e)}function Ve(){return{}}function je(t){const e=Vi(t);if(!e)throw new Error("Must be used inside the component's context.");return e}function Le(t,e){const n=Ui(e);return Er(t,n),n}function Jr(t,e){return Er(t,e),e}function Os(t){let e;const n=t[7].default,u=le(n,t,t[6],null);return{c(){u&&u.c()},l(i){u&&u.l(i)},m(i,r){u&&u.m(i,r),e=!0},p(i,[r]){u&&u.p&&(!e||r&64)&&oe(u,n,i,i[6],e?ce(n,i[6],r,null):fe(i[6]),null)},i(i){e||(T(u,i),e=!0)},o(i){N(u,i),e=!1},d(i){u&&u.d(i)}}}const Zr=Ve(),Qr=Ve(),xr=Ve(),$r=Ve(),ei=Ve(),ks=Ve(),ti=Ve(),ni=Ve();function dn(t,e,n){const u=ii();vr(()=>(u.update(i=>{const r=i[t]||[];return{...i,[t]:[...r,e]}}),()=>{u.update(i=>{const r=i[t]||[],a=r.indexOf(e);if(a===-1)return i;{const s=r.slice();return s.splice(a,1),{...i,[t]:s}}}),n&&n()}))}function Oe(t,e,n){const i=Ar(t)[e]||[];for(const r of i){const a=r(n);if(a===!1||n.cancelBubble)return a}}function ui(){return je(Zr)}function Xe(){return Ar(ui())}function ri(){return je(Qr)}function Ps(){return je(xr)}function Qn(){return je($r)}function Is(){return je(ei)}function ii(){return je(ti)}function Ts(){return je(ni)}function ai(t){return[]}function Ns(t,e,n){let{$$slots:u={},$$scope:i}=e,{editor:r}=e,{value:a=r.children}=e,{selection:s=r.selection}=e;const l=Fr(),o=Le(Zr,r),c=Le(ei,r.selection),d=Le(ks,r.children);Le(Qr,!0),Le(xr,!1),Le($r,ai),Le(ti,{}),Le(ni,void 0);function f(){n(1,s=r.selection),n(0,a=r.children),r.operations.some(F=>F.type!=="set_selection")&&l("value",a),l("selection",s)}In.set(r,f);let h=r,C,A;return t.$$set=v=>{"editor"in v&&n(2,r=v.editor),"value"in v&&n(0,a=v.value),"selection"in v&&n(1,s=v.selection),"$$scope"in v&&n(6,i=v.$$scope)},t.$$.update=()=>{t.$$.dirty&17&&C!==a&&(o.update(v=>(v.children=a,v)),n(4,C=a),d.set(a),l("value",a)),t.$$.dirty&12&&h!==r&&(n(3,h=r),In.set(r,f),o.set(r)),t.$$.dirty&38&&(Xr(A,s)||(c.set(s),o.set(r),n(5,A=s),l("selection",s)))},[a,s,r,h,C,A,i,u]}class Ss extends X{constructor(e){super(),J(this,e,Ns,Os,te,{editor:2,value:0,selection:1})}}const Rs=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),_n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},si={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Rs?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},xn={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(let t=1;t<20;t++)xn["f"+t]=111+t;function li(t,e={}){Array.isArray(t)||(t=[t]);const n=t.map(u=>js(u,e));return function(i){return n.some(r=>Vs(r,i))}}function Ls(t,e,n={}){return li(t,n)(e)}function wn(t){return li(t,{byKey:!0})}function js(t,e={}){const n=e&&e.byKey,u={};t=t.replace("++","+add");const i=t.split("+"),{length:r}=i;for(const a in _n)u[_n[a]]=!1;for(let a of i){const s=a.endsWith("?")&&a.length>1;s&&(a=a.slice(0,-1));const l=oi(a),o=_n[l];if(a.length>1&&!o&&!si[a]&&!xn[l])throw new TypeError(`Unknown modifier: "${a}"`);(r===1||!o)&&(n?u.key=l:u.which=Ms(a)),o&&(u[o]=s?null:!0)}return u}function Vs(t,e){for(const n in t){const u=t[n];let i;if(u!=null&&(n==="key"&&e.key!=null?i=e.key.toLowerCase():n==="which"?i=u===91&&e.which===93?91:e.which:i=e[n],!(i==null&&u===!1)&&i!==u))return!1}return!0}function Ms(t){return t=oi(t),xn[t]||t.toUpperCase().charCodeAt(0)}function oi(t){return t=t.toLowerCase(),t=si[t]||t,t}const qs={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},Ws={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Hs={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]};function me(t){const e=qs[t],n=Ws[t],u=Hs[t],i=e&&wn(e),r=n&&wn(n),a=u&&wn(u);return s=>!!(i&&i(s)||Xu&&r&&r(s)||!Xu&&a&&a(s))}const Ee={isBold:me("bold"),isCompose:me("compose"),isMoveBackward:me("moveBackward"),isMoveForward:me("moveForward"),isDeleteBackward:me("deleteBackward"),isDeleteForward:me("deleteForward"),isDeleteLineBackward:me("deleteLineBackward"),isDeleteLineForward:me("deleteLineForward"),isDeleteWordBackward:me("deleteWordBackward"),isDeleteWordForward:me("deleteWordForward"),isExtendBackward:me("extendBackward"),isExtendForward:me("extendForward"),isExtendLineBackward:me("extendLineBackward"),isExtendLineForward:me("extendLineForward"),isItalic:me("italic"),isMoveLineBackward:me("moveLineBackward"),isMoveLineForward:me("moveLineForward"),isMoveWordBackward:me("moveWordBackward"),isMoveWordForward:me("moveWordForward"),isRedo:me("redo"),isSplitBlock:me("splitBlock"),isTransposeCharacter:me("transposeCharacter"),isUndo:me("undo")};function zs(t){let e,n,u;const i=t[2].default,r=le(i,t,t[1],null);return{c(){e=$("span"),r&&r.c(),this.h()},l(a){e=ee(a,"SPAN",{"data-slate-placeholder":!0,contenteditable:!0,class:!0});var s=ae(e);r&&r.l(s),s.forEach(k),this.h()},h(){m(e,"data-slate-placeholder","true"),m(e,"contenteditable","false"),m(e,"class","svelte-148q7wc"),Mi(()=>t[3].call(e))},m(a,s){H(a,e,s),r&&r.m(e,null),n=qi(e,t[3].bind(e)),u=!0},p(a,[s]){r&&r.p&&(!u||s&2)&&oe(r,i,a,a[1],u?ce(i,a[1],s,null):fe(a[1]),null)},i(a){u||(T(r,a),u=!0)},o(a){N(r,a),u=!1},d(a){a&&k(e),r&&r.d(a),n()}}}function Ks(t,e,n){let{$$slots:u={},$$scope:i}=e,{clientHeight:r=void 0}=e;function a(){r=this.clientHeight,n(0,r)}return t.$$set=s=>{"clientHeight"in s&&n(0,r=s.clientHeight),"$$scope"in s&&n(1,i=s.$$scope)},[r,i,u,a]}class fi extends X{constructor(e){super(),J(this,e,Ks,zs,te,{clientHeight:0})}}function Ys(t){let e,n;const u=t[2].default,i=le(u,t,t[1],null);return{c(){e=$("span"),i&&i.c(),this.h()},l(r){e=ee(r,"SPAN",{"data-slate-leaf":!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-leaf","true")},m(r,a){H(r,e,a),i&&i.m(e,null),n=!0},p(r,[a]){i&&i.p&&(!n||a&2)&&oe(i,u,r,r[1],n?ce(u,r[1],a,null):fe(r[1]),null)},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r)}}}function Us(t,e,n){let{$$slots:u={},$$scope:i}=e,{leaf:r}=e;return t.$$set=a=>{"leaf"in a&&n(0,r=a.leaf),"$$scope"in a&&n(1,i=a.$$scope)},[r,i,u]}class Gs extends X{constructor(e){super(),J(this,e,Us,Ys,te,{leaf:0})}}function Xs(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("div"),i&&i.c(),this.h()},l(r){e=ee(r,"DIV",{"data-slate-node":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1l7tojd")},m(r,a){H(r,e,a),i&&i.m(e,null),t[9](e),n=!0},p(r,a){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[9](null)}}}function Js(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("span"),i&&i.c(),this.h()},l(r){e=ee(r,"SPAN",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1l7tojd")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,a){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}function Zs(t){let e,n,u,i;const r=[Js,Xs],a=[];function s(l,o){return l[1]?0:1}return e=s(t),n=a[e]=r[e](t),{c(){n.c(),u=x()},l(l){n.l(l),u=x()},m(l,o){a[e].m(l,o),H(l,u,o),i=!0},p(l,[o]){let c=e;e=s(l),e===c?a[e].p(l,o):(Te(),N(a[c],1,1,()=>{a[c]=null}),Ne(),n=a[e],n?n.p(l,o):(n=a[e]=r[e](l),n.c()),T(n,1),n.m(u.parentNode,u))},i(l){i||(T(n),i=!0)},o(l){N(n),i=!1},d(l){a[e].d(l),l&&k(u)}}}function Qs(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(h){U[h?"unshift":"push"](()=>{o=h,n(0,o)})}function f(h){U[h?"unshift":"push"](()=>{o=h,n(0,o)})}return t.$$set=h=>{"element"in h&&n(5,r=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,s=h.isVoid),"contenteditable"in h&&n(3,l=h.contenteditable),"ref"in h&&n(0,o=h.ref),"dir"in h&&n(4,c=h.dir),"$$scope"in h&&n(6,i=h.$$scope)},[o,a,s,l,c,r,i,u,d,f]}class ci extends X{constructor(e){super(),J(this,e,Qs,Zs,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}const di="---",Di="A-Za-z--------",xs=new RegExp("^[^"+Di+"]*["+di+"]"),$s=new RegExp("^[^"+di+"]*["+Di+"]");function hi(t){const e=String(t||"");return xs.test(e)?"rtl":$s.test(e)?"ltr":"neutral"}function er(t){let e=`
`,n;return{c(){n=tn(e)},l(u){n=nn(u,e)},m(u,i){H(u,n,i)},d(u){u&&k(n)}}}function el(t){let e,n=t[0].text+"",u,i=t[1]&&er();return{c(){e=$("span"),u=tn(n),i&&i.c(),this.h()},l(r){e=ee(r,"SPAN",{"data-slate-string":!0});var a=ae(e);u=nn(a,n),i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-string","true")},m(r,a){H(r,e,a),Rt(e,u),i&&i.m(e,null),t[3](e)},p(r,[a]){a&1&&n!==(n=r[0].text+"")&&br(u,n),r[1]?i||(i=er(),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:_t,o:_t,d(r){r&&k(e),i&&i.d(),t[3](null)}}}function tl(t,e,n){let{leaf:u}=e,{isTrailing:i=!1}=e,r;Wi(()=>{r&&n(2,r.textContent=u.text,r)});function a(s){U[s?"unshift":"push"](()=>{r=s,n(2,r)})}return t.$$set=s=>{"leaf"in s&&n(0,u=s.leaf),"isTrailing"in s&&n(1,i=s.isTrailing)},[u,i,r,a]}class nl extends X{constructor(e){super(),J(this,e,tl,el,te,{leaf:0,isTrailing:1})}}function tr(t){let e;return{c(){e=$("br")},l(n){e=ee(n,"BR",{})},m(n,u){H(n,e,u)},d(n){n&&k(e)}}}function ul(t){let e,n="\uFEFF",u,i,r=t[1]&&tr();return{c(){e=$("span"),u=tn(n),r&&r.c(),this.h()},l(a){e=ee(a,"SPAN",{"data-slate-zero-width":!0,"data-slate-length":!0});var s=ae(e);u=nn(s,n),r&&r.l(s),s.forEach(k),this.h()},h(){m(e,"data-slate-zero-width",i=t[1]?"n":"z"),m(e,"data-slate-length",t[0])},m(a,s){H(a,e,s),Rt(e,u),r&&r.m(e,null)},p(a,[s]){a[1]?r||(r=tr(),r.c(),r.m(e,null)):r&&(r.d(1),r=null),s&2&&i!==(i=a[1]?"n":"z")&&m(e,"data-slate-zero-width",i),s&1&&m(e,"data-slate-length",a[0])},i:_t,o:_t,d(a){a&&k(e),r&&r.d()}}}function rl(t,e,n){let{length:u=0}=e,{isLineBreak:i=!1}=e;return t.$$set=r=>{"length"in r&&n(0,u=r.length),"isLineBreak"in r&&n(1,i=r.isLineBreak)},[u,i]}class $n extends X{constructor(e){super(),J(this,e,rl,ul,te,{length:0,isLineBreak:1})}}function il(t){let e,n;return e=new nl({props:{isTrailing:t[5],leaf:t[0]}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,i){re(e,u,i),n=!0},p(u,i){const r={};i&32&&(r.isTrailing=u[5]),i&1&&(r.leaf=u[0]),e.$set(r)},i(u){n||(T(e.$$.fragment,u),n=!0)},o(u){N(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function al(t){let e,n;return e=new $n({}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,i){re(e,u,i),n=!0},p:_t,i(u){n||(T(e.$$.fragment,u),n=!0)},o(u){N(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function sl(t){let e,n;return e=new $n({props:{isLineBreak:!0}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,i){re(e,u,i),n=!0},p:_t,i(u){n||(T(e.$$.fragment,u),n=!0)},o(u){N(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function ll(t){let e,n;return e=new $n({props:{length:O.string(t[1]).length}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,i){re(e,u,i),n=!0},p(u,i){const r={};i&2&&(r.length=O.string(u[1]).length),e.$set(r)},i(u){n||(T(e.$$.fragment,u),n=!0)},o(u){N(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function ol(t){let e,n,u,i;const r=[ll,sl,al,il],a=[];function s(l,o){return l[4]?0:l[3]?1:l[2]?2:3}return e=s(t),n=a[e]=r[e](t),{c(){n.c(),u=x()},l(l){n.l(l),u=x()},m(l,o){a[e].m(l,o),H(l,u,o),i=!0},p(l,[o]){let c=e;e=s(l),e===c?a[e].p(l,o):(Te(),N(a[c],1,1,()=>{a[c]=null}),Ne(),n=a[e],n?n.p(l,o):(n=a[e]=r[e](l),n.c()),T(n,1),n.m(u.parentNode,u))},i(l){i||(T(n),i=!0)},o(l){N(n),i=!1},d(l){a[e].d(l),l&&k(u)}}}function fl(t,e,n){let u,i,r,a,s,l,{isLast:o}=e,{leaf:c}=e,{parent:d}=e,{text:f}=e;const h=Xe();return t.$$set=C=>{"isLast"in C&&n(6,o=C.isLast),"leaf"in C&&n(0,c=C.leaf),"parent"in C&&n(1,d=C.parent),"text"in C&&n(7,f=C.text)},t.$$.update=()=>{t.$$.dirty&65&&n(5,u=o&&c.text.slice(-1)===`
`),t.$$.dirty&128&&n(9,i=st(f)),t.$$.dirty&512&&n(8,r=B.parent(i)),t.$$.dirty&2&&n(4,a=h.isVoid(d)),t.$$.dirty&1&&n(2,s=c.text===""),t.$$.dirty&390&&n(3,l=s&&d.children[d.children.length-1]===f&&!h.isInline(d)&&D.string(h,r)==="")},[c,d,s,l,a,u,o,f,r,i]}let cl=class extends X{constructor(e){super(),J(this,e,fl,ol,te,{isLast:6,leaf:0,parent:1,text:7})}};function nr(t){let e,n,u,i;function r(l){t[12](l)}var a=t[5];function s(l){let o={$$slots:{default:[dl]},$$scope:{ctx:l}};return l[4]!==void 0&&(o.clientHeight=l[4]),{props:o}}return a&&(e=Re(a,s(t)),U.push(()=>Se(e,"clientHeight",r))),{c(){e&&ue(e.$$.fragment),u=x()},l(l){e&&ve(e.$$.fragment,l),u=x()},m(l,o){e&&re(e,l,o),H(l,u,o),i=!0},p(l,o){const c={};if(o&8194&&(c.$$scope={dirty:o,ctx:l}),!n&&o&16&&(n=!0,c.clientHeight=l[4],Ge(()=>n=!1)),o&32&&a!==(a=l[5])){if(e){Te();const d=e;N(d.$$.fragment,1,0,()=>{ie(d,1)}),Ne()}a?(e=Re(a,s(l)),U.push(()=>Se(e,"clientHeight",r)),ue(e.$$.fragment),T(e.$$.fragment,1),re(e,u.parentNode,u)):e=null}else a&&e.$set(c)},i(l){i||(e&&T(e.$$.fragment,l),i=!0)},o(l){e&&N(e.$$.fragment,l),i=!1},d(l){l&&k(u),e&&ie(e,l)}}}function dl(t){let e=t[1].placeholder+"",n;return{c(){n=tn(e)},l(u){n=nn(u,e)},m(u,i){H(u,n,i)},p(u,i){i&2&&e!==(e=u[1].placeholder+"")&&br(n,e)},d(u){u&&k(n)}}}function Dl(t){let e,n,u,i=Lt in t[1]&&nr(t);return n=new cl({props:{isLast:t[0],leaf:t[1],parent:t[2],text:t[3]}}),{c(){i&&i.c(),e=x(),ue(n.$$.fragment)},l(r){i&&i.l(r),e=x(),ve(n.$$.fragment,r)},m(r,a){i&&i.m(r,a),H(r,e,a),re(n,r,a),u=!0},p(r,a){Lt in r[1]?i?(i.p(r,a),a&2&&T(i,1)):(i=nr(r),i.c(),T(i,1),i.m(e.parentNode,e)):i&&(Te(),N(i,1,1,()=>{i=null}),Ne());const s={};a&1&&(s.isLast=r[0]),a&2&&(s.leaf=r[1]),a&4&&(s.parent=r[2]),a&8&&(s.text=r[3]),n.$set(s)},i(r){u||(T(i),T(n.$$.fragment,r),u=!0)},o(r){N(i),N(n.$$.fragment,r),u=!1},d(r){i&&i.d(r),r&&k(e),ie(n,r)}}}function hl(t){let e,n,u;var i=t[6];function r(a){return{props:{leaf:a[1],$$slots:{default:[Dl]},$$scope:{ctx:a}}}}return i&&(e=Re(i,r(t))),{c(){e&&ue(e.$$.fragment),n=x()},l(a){e&&ve(e.$$.fragment,a),n=x()},m(a,s){e&&re(e,a,s),H(a,n,s),u=!0},p(a,[s]){const l={};if(s&2&&(l.leaf=a[1]),s&8255&&(l.$$scope={dirty:s,ctx:a}),s&64&&i!==(i=a[6])){if(e){Te();const o=e;N(o.$$.fragment,1,0,()=>{ie(o,1)}),Ne()}i?(e=Re(i,r(a)),ue(e.$$.fragment),T(e.$$.fragment,1),re(e,n.parentNode,n)):e=null}else i&&e.$set(l)},i(a){u||(e&&T(e.$$.fragment,a),u=!0)},o(a){e&&N(e.$$.fragment,a),u=!1},d(a){a&&k(n),e&&ie(e,a)}}}function gl(t,e,n){let u,i,r,a,{isLast:s}=e,{leaf:l}=e,{parent:o}=e,{text:c}=e;const d=je(Bi);rt(t,d,v=>n(11,a=v));const f=je(Ei);rt(t,f,v=>n(10,r=v));let h,C;Hi(()=>{if(Ju){const v=document.querySelector('[data-svelte-editor="true"]');v&&(v.style.minHeight="auto")}});function A(v){h=v,n(4,h)}return t.$$set=v=>{"isLast"in v&&n(0,s=v.isLast),"leaf"in v&&n(1,l=v.leaf),"parent"in v&&n(2,o=v.parent),"text"in v&&n(3,c=v.text)},t.$$.update=()=>{if(t.$$.dirty&2048&&n(6,u=a),t.$$.dirty&1024&&n(5,i=r),t.$$.dirty&528&&C!==h&&Ju){const v=document.querySelector('[data-svelte-editor="true"]');v&&(v.style.minHeight=`${h}px`),n(9,C=h)}},[s,l,o,c,h,i,u,d,f,C,r,a,A]}class ur extends X{constructor(e){super(),J(this,e,gl,hl,te,{isLast:0,leaf:1,parent:2,text:3})}}function rr(t,e,n){const u=t.slice();return u[9]=e[n],u[11]=n,u}function ir(t,e){let n,u,i,r;var a=ur;function s(l){return{props:{isLast:l[0]&&l[11]===l[5].length-1,parent:l[1],leaf:l[9],text:l[2]}}}return a&&(u=Re(a,s(e))),{key:t,first:null,c(){n=x(),u&&ue(u.$$.fragment),i=x(),this.h()},l(l){n=x(),u&&ve(u.$$.fragment,l),i=x(),this.h()},h(){this.first=n},m(l,o){H(l,n,o),u&&re(u,l,o),H(l,i,o),r=!0},p(l,o){e=l;const c={};if(o&33&&(c.isLast=e[0]&&e[11]===e[5].length-1),o&2&&(c.parent=e[1]),o&32&&(c.leaf=e[9]),o&4&&(c.text=e[2]),a!==(a=ur)){if(u){Te();const d=u;N(d.$$.fragment,1,0,()=>{ie(d,1)}),Ne()}a?(u=Re(a,s(e)),ue(u.$$.fragment),T(u.$$.fragment,1),re(u,i.parentNode,i)):u=null}else a&&u.$set(c)},i(l){r||(u&&T(u.$$.fragment,l),r=!0)},o(l){u&&N(u.$$.fragment,l),r=!1},d(l){l&&k(n),l&&k(i),u&&ie(u,l)}}}function Cl(t){let e,n=[],u=new Map,i,r=t[5];const a=s=>`${s[4]}-${s[11]}`;for(let s=0;s<r.length;s+=1){let l=rr(t,r,s),o=a(l);u.set(o,n[s]=ir(o,l))}return{c(){e=$("span");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=ee(s,"SPAN",{"data-slate-node":!0});var l=ae(e);for(let o=0;o<n.length;o+=1)n[o].l(l);l.forEach(k),this.h()},h(){m(e,"data-slate-node","text")},m(s,l){H(s,e,l);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null);t[7](e),i=!0},p(s,[l]){l&55&&(r=s[5],Te(),n=_r(n,l,a,1,s,r,u,e,wr,ir,null,rr),Ne())},i(s){if(!i){for(let l=0;l<r.length;l+=1)T(n[l]);i=!0}},o(s){for(let l=0;l<n.length;l+=1)N(n[l]);i=!1},d(s){s&&k(e);for(let l=0;l<n.length;l+=1)n[l].d();t[7](null)}}}function ml(t,e,n){let u,i,{decorations:r}=e,{isLast:a}=e,{parent:s}=e,{text:l}=e;const o=Xe();let c;function d(f){U[f?"unshift":"push"](()=>{c=f,n(3,c)})}return t.$$set=f=>{"decorations"in f&&n(6,r=f.decorations),"isLast"in f&&n(0,a=f.isLast),"parent"in f&&n(1,s=f.parent),"text"in f&&n(2,l=f.text)},t.$$.update=()=>{var f;t.$$.dirty&68&&n(5,u=j.decorations(l,r)),t.$$.dirty&4&&n(4,i=Dt(l)),t.$$.dirty&28&&c&&((f=ln.get(o))==null||f.set(i,c),Ut.set(l,c),sn.set(c,l))},[a,s,l,c,i,u,r,d]}class Mt extends X{constructor(e){super(),J(this,e,ml,Cl,te,{decorations:6,isLast:0,parent:1,text:2})}}function Bl(t){let e,n;return e=new mi({props:{node:t[0],decorations:t[1],selection:t[2]}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,i){re(e,u,i),n=!0},p(u,i){const r={};i&1&&(r.node=u[0]),i&2&&(r.decorations=u[1]),i&4&&(r.selection=u[2]),e.$set(r)},i(u){n||(T(e.$$.fragment,u),n=!0)},o(u){N(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function El(t){let e,n,u,i;const r=[Al,vl],a=[];function s(l,o){return l[4]?0:1}return e=s(t),n=a[e]=r[e](t),{c(){n.c(),u=x()},l(l){n.l(l),u=x()},m(l,o){a[e].m(l,o),H(l,u,o),i=!0},p(l,o){let c=e;e=s(l),e===c?a[e].p(l,o):(Te(),N(a[c],1,1,()=>{a[c]=null}),Ne(),n=a[e],n?n.p(l,o):(n=a[e]=r[e](l),n.c()),T(n,1),n.m(u.parentNode,u))},i(l){i||(T(n),i=!0)},o(l){N(n),i=!1},d(l){a[e].d(l),l&&k(u)}}}function vl(t){let e,n,u;var i=Mt;function r(a){return{props:{decorations:[],isLast:!1,parent:a[0],text:a[8]}}}return i&&(n=Re(i,r(t))),{c(){e=$("div"),n&&ue(n.$$.fragment),this.h()},l(a){e=ee(a,"DIV",{"data-slate-spacer":!0,class:!0});var s=ae(e);n&&ve(n.$$.fragment,s),s.forEach(k),this.h()},h(){m(e,"data-slate-spacer",""),m(e,"class","svelte-6bsca3")},m(a,s){H(a,e,s),n&&re(n,e,null),u=!0},p(a,s){const l={};if(s&1&&(l.parent=a[0]),s&256&&(l.text=a[8]),i!==(i=Mt)){if(n){Te();const o=n;N(o.$$.fragment,1,0,()=>{ie(o,1)}),Ne()}i?(n=Re(i,r(a)),ue(n.$$.fragment),T(n.$$.fragment,1),re(n,e,null)):n=null}else i&&n.$set(l)},i(a){u||(n&&T(n.$$.fragment,a),u=!0)},o(a){n&&N(n.$$.fragment,a),u=!1},d(a){a&&k(e),n&&ie(n)}}}function Al(t){let e,n,u;var i=Mt;function r(a){return{props:{decorations:[],isLast:!1,parent:a[0],text:a[8]}}}return i&&(n=Re(i,r(t))),{c(){e=$("span"),n&&ue(n.$$.fragment),this.h()},l(a){e=ee(a,"SPAN",{"data-slate-spacer":!0,class:!0});var s=ae(e);n&&ve(n.$$.fragment,s),s.forEach(k),this.h()},h(){m(e,"data-slate-spacer",""),m(e,"class","svelte-6bsca3")},m(a,s){H(a,e,s),n&&re(n,e,null),u=!0},p(a,s){const l={};if(s&1&&(l.parent=a[0]),s&256&&(l.text=a[8]),i!==(i=Mt)){if(n){Te();const o=n;N(o.$$.fragment,1,0,()=>{ie(o,1)}),Ne()}i?(n=Re(i,r(a)),ue(n.$$.fragment),T(n.$$.fragment,1),re(n,e,null)):n=null}else i&&n.$set(l)},i(a){u||(n&&T(n.$$.fragment,a),u=!0)},o(a){n&&N(n.$$.fragment,a),u=!1},d(a){a&&k(e),n&&ie(n)}}}function Fl(t){let e,n,u,i;const r=[El,Bl],a=[];function s(l,o){return l[6]&&!l[5]?0:1}return e=s(t),n=a[e]=r[e](t),{c(){n.c(),u=x()},l(l){n.l(l),u=x()},m(l,o){a[e].m(l,o),H(l,u,o),i=!0},p(l,o){let c=e;e=s(l),e===c?a[e].p(l,o):(Te(),N(a[c],1,1,()=>{a[c]=null}),Ne(),n=a[e],n?n.p(l,o):(n=a[e]=r[e](l),n.c()),T(n,1),n.m(u.parentNode,u))},i(l){i||(T(n),i=!0)},o(l){N(n),i=!1},d(l){a[e].d(l),l&&k(u)}}}function bl(t){let e,n,u,i;function r(l){t[16](l)}var a=t[10];function s(l){let o={isVoid:l[6],isInline:l[4],contenteditable:l[9],element:l[0],dir:l[7],$$slots:{default:[Fl]},$$scope:{ctx:l}};return l[3]!==void 0&&(o.ref=l[3]),{props:o}}return a&&(e=Re(a,s(t)),U.push(()=>Se(e,"ref",r))),{c(){e&&ue(e.$$.fragment),u=x()},l(l){e&&ve(e.$$.fragment,l),u=x()},m(l,o){e&&re(e,l,o),H(l,u,o),i=!0},p(l,[o]){const c={};if(o&64&&(c.isVoid=l[6]),o&16&&(c.isInline=l[4]),o&512&&(c.contenteditable=l[9]),o&1&&(c.element=l[0]),o&128&&(c.dir=l[7]),o&262519&&(c.$$scope={dirty:o,ctx:l}),!n&&o&8&&(n=!0,c.ref=l[3],Ge(()=>n=!1)),o&1024&&a!==(a=l[10])){if(e){Te();const d=e;N(d.$$.fragment,1,0,()=>{ie(d,1)}),Ne()}a?(e=Re(a,s(l)),U.push(()=>Se(e,"ref",r)),ue(e.$$.fragment),T(e.$$.fragment,1),re(e,u.parentNode,u)):e=null}else a&&e.$set(c)},i(l){i||(e&&T(e.$$.fragment,l),i=!0)},o(l){e&&N(e.$$.fragment,l),i=!1},d(l){l&&k(u),e&&ie(e,l)}}}function _l(t,e,n){let u,i,r,a,s,l,o,c,{element:d}=e,{decorations:f}=e,{selection:h=null}=e;const C=je(yt);rt(t,C,I=>n(15,c=I));const A=Xe(),v=ri();rt(t,v,I=>n(14,o=I));let F,b,y;function P(I){y=I,n(3,y)}return t.$$set=I=>{"element"in I&&n(0,d=I.element),"decorations"in I&&n(1,f=I.decorations),"selection"in I&&n(2,h=I.selection)},t.$$.update=()=>{var I;if(t.$$.dirty&32768&&n(10,u=c),t.$$.dirty&16384&&n(5,i=o),t.$$.dirty&1&&n(4,r=A.isInline(d)),t.$$.dirty&1&&n(13,a=Dt(d)),t.$$.dirty&17&&!r&&D.hasInlines(A,d)){const p=hi(O.string(d));p==="rtl"&&n(7,F=p)}if(t.$$.dirty&1&&n(6,s=D.isVoid(A,d)),t.$$.dirty&32&&n(9,l=!i),t.$$.dirty&113&&s){!i&&r&&n(9,l=!1);const[[p]]=O.texts(d);n(8,b=p),rn.set(p,0),an.set(p,d)}t.$$.dirty&8201&&y&&((I=ln.get(A))==null||I.set(a,y),Ut.set(d,y),sn.set(y,d))},[d,f,h,y,r,i,s,F,b,l,u,C,v,a,o,c,P]}class ar extends X{constructor(e){super(),J(this,e,_l,bl,te,{element:0,decorations:1,selection:2})}}function wl(t){let e,n,u;var i=ar;function r(a){return{props:{decorations:a[2],element:a[0],selection:a[1]}}}return i&&(e=Re(i,r(t))),{c(){e&&ue(e.$$.fragment),n=x()},l(a){e&&ve(e.$$.fragment,a),n=x()},m(a,s){e&&re(e,a,s),H(a,n,s),u=!0},p(a,[s]){const l={};if(s&4&&(l.decorations=a[2]),s&1&&(l.element=a[0]),s&2&&(l.selection=a[1]),i!==(i=ar)){if(e){Te();const o=e;N(o.$$.fragment,1,0,()=>{ie(o,1)}),Ne()}i?(e=Re(i,r(a)),ue(e.$$.fragment),T(e.$$.fragment,1),re(e,n.parentNode,n)):e=null}else i&&e.$set(l)},i(a){u||(e&&T(e.$$.fragment,a),u=!0)},o(a){e&&N(e.$$.fragment,a),u=!1},d(a){a&&k(n),e&&ie(e,a)}}}const gi=Ve();function Nf(){return je(gi)}function yl(t,e,n){let u,i,r,a,s,l,{parent:o}=e,{element:c}=e,{path:d}=e,{index:f}=e,{decorations:h}=e,{selection:C=null}=e;const A=Qn();rt(t,A,g=>n(18,l=g));const v=Le(gi,!1),F=Xe();let b=f,y=o,P=c,I=d,p=h,z=C;return t.$$set=g=>{"parent"in g&&n(4,o=g.parent),"element"in g&&n(5,c=g.element),"path"in g&&n(6,d=g.path),"index"in g&&n(7,f=g.index),"decorations"in g&&n(8,h=g.decorations),"selection"in g&&n(9,C=g.selection)},t.$$.update=()=>{t.$$.dirty&1152&&b!==f&&n(10,b=f),t.$$.dirty&2064&&y!==o&&n(11,y=o),t.$$.dirty&33&&P!==c&&n(0,P=c),t.$$.dirty&4160&&I!==d&&n(12,I=d),t.$$.dirty&8448&&(Gr(p,h)||n(13,p=h)),t.$$.dirty&16896&&(Xr(z,C)||n(14,z=C)),t.$$.dirty&1025&&rn.set(P,b),t.$$.dirty&2049&&an.set(P,y),t.$$.dirty&5120&&n(16,u=I.concat(b)),t.$$.dirty&65536&&n(15,i=D.range(F,u)),t.$$.dirty&262144&&n(17,r=l),t.$$.dirty&237569&&n(2,a=Ci(r([P,u]),i,p)),t.$$.dirty&49152&&n(1,s=z&&_.intersection(i,z)),t.$$.dirty&2&&v.set(!!s)},[P,s,a,A,o,c,d,f,h,C,b,y,I,p,z,i,u,r,l]}class pl extends X{constructor(e){super(),J(this,e,yl,wl,un,{parent:4,element:5,path:6,index:7,decorations:8,selection:9})}}function Ol(t){let e,n;return e=new Mt({props:{decorations:t[2],isLast:t[3],parent:t[1],text:t[0]}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,i){re(e,u,i),n=!0},p(u,[i]){const r={};i&4&&(r.decorations=u[2]),i&8&&(r.isLast=u[3]),i&2&&(r.parent=u[1]),i&1&&(r.text=u[0]),e.$set(r)},i(u){n||(T(e.$$.fragment,u),n=!0)},o(u){N(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function kl(t,e,n){let u,i,r,a,s,l,{parent:o}=e,{text:c}=e,{path:d}=e,{index:f}=e,{isLeafBlock:h}=e,{decorations:C}=e;const A=Qn();rt(t,A,p=>n(17,l=p));const v=Xe();let F=f,b=c,y=d,P=o,I=C;return t.$$set=p=>{"parent"in p&&n(5,o=p.parent),"text"in p&&n(6,c=p.text),"path"in p&&n(7,d=p.path),"index"in p&&n(8,f=p.index),"isLeafBlock"in p&&n(9,h=p.isLeafBlock),"decorations"in p&&n(10,C=p.decorations)},t.$$.update=()=>{t.$$.dirty&2304&&F!==f&&n(11,F=f),t.$$.dirty&65&&b!==c&&n(0,b=c),t.$$.dirty&4224&&y!==d&&n(12,y=d),t.$$.dirty&34&&P!==o&&n(1,P=o),t.$$.dirty&9216&&(Gr(I,C)||n(13,I=C)),t.$$.dirty&2049&&rn.set(b,F),t.$$.dirty&3&&an.set(b,P),t.$$.dirty&6144&&n(15,u=y.concat(F)),t.$$.dirty&2562&&n(3,i=h&&F===P.children.length-1),t.$$.dirty&32768&&n(14,r=D.range(v,u)),t.$$.dirty&131072&&n(16,a=l),t.$$.dirty&122881&&n(2,s=Ci(a([b,u]),r,I))},[b,P,s,i,A,o,c,d,f,h,C,F,y,I,r,u,a,l]}class Pl extends X{constructor(e){super(),J(this,e,kl,Ol,un,{parent:5,text:6,path:7,index:8,isLeafBlock:9,decorations:10})}}function sr(t,e,n){const u=t.slice();return u[7]=e[n],u[9]=n,u}function Il(t){let e,n;return e=new Pl({props:{decorations:t[0],parent:t[2],text:t[7],index:t[9],path:t[4],isLeafBlock:t[3]}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,i){re(e,u,i),n=!0},p(u,i){const r={};i&1&&(r.decorations=u[0]),i&4&&(r.parent=u[2]),i&4&&(r.text=u[7]),i&4&&(r.index=u[9]),i&16&&(r.path=u[4]),i&8&&(r.isLeafBlock=u[3]),e.$set(r)},i(u){n||(T(e.$$.fragment,u),n=!0)},o(u){N(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function Tl(t){let e,n;return e=new pl({props:{decorations:t[0],selection:t[1],element:t[7],parent:t[2],index:t[9],path:t[4]}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,i){re(e,u,i),n=!0},p(u,i){const r={};i&1&&(r.decorations=u[0]),i&2&&(r.selection=u[1]),i&4&&(r.element=u[7]),i&4&&(r.parent=u[2]),i&4&&(r.index=u[9]),i&16&&(r.path=u[4]),e.$set(r)},i(u){n||(T(e.$$.fragment,u),n=!0)},o(u){N(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function lr(t,e){let n,u,i,r,a,s;const l=[Tl,Il],o=[];function c(d,f){return f&4&&(u=null),u==null&&(u=!!L.isElement(d[7])),u?0:1}return i=c(e,-1),r=o[i]=l[i](e),{key:t,first:null,c(){n=x(),r.c(),a=x(),this.h()},l(d){n=x(),r.l(d),a=x(),this.h()},h(){this.first=n},m(d,f){H(d,n,f),o[i].m(d,f),H(d,a,f),s=!0},p(d,f){e=d;let h=i;i=c(e,f),i===h?o[i].p(e,f):(Te(),N(o[h],1,1,()=>{o[h]=null}),Ne(),r=o[i],r?r.p(e,f):(r=o[i]=l[i](e),r.c()),T(r,1),r.m(a.parentNode,a))},i(d){s||(T(r),s=!0)},o(d){N(r),s=!1},d(d){d&&k(n),o[i].d(d),d&&k(a)}}}function Nl(t){let e=[],n=new Map,u,i,r=t[2].children;const a=s=>Dt(s[7]);for(let s=0;s<r.length;s+=1){let l=sr(t,r,s),o=a(l);n.set(o,e[s]=lr(o,l))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();u=x()},l(s){for(let l=0;l<e.length;l+=1)e[l].l(s);u=x()},m(s,l){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(s,l);H(s,u,l),i=!0},p(s,[l]){l&31&&(r=s[2].children,Te(),e=_r(e,l,a,1,s,r,n,u.parentNode,wr,lr,u,sr),Ne())},i(s){if(!i){for(let l=0;l<r.length;l+=1)T(e[l]);i=!0}},o(s){for(let l=0;l<e.length;l+=1)N(e[l]);i=!1},d(s){for(let l=0;l<e.length;l+=1)e[l].d(s);s&&k(u)}}}function Ci(t,e,n=[]){for(const u of n){const i=_.intersection(u,e);i&&t.push(i)}return t}function Sl(t,e,n){let u,i,{node:r}=e,{decorations:a}=e,{selection:s=null}=e;const l=Xe();let o=r;return t.$$set=c=>{"node"in c&&n(5,r=c.node),"decorations"in c&&n(0,a=c.decorations),"selection"in c&&n(1,s=c.selection)},t.$$.update=()=>{t.$$.dirty&36&&(o!==r||r===l)&&n(2,o=r),t.$$.dirty&4&&n(4,u=st(o)),t.$$.dirty&4&&n(3,i=L.isElement(o)&&!l.isInline(o)&&D.hasInlines(l,o))},[a,s,o,i,u,r]}class mi extends X{constructor(e){super(),J(this,e,Sl,Nl,un,{node:5,decorations:0,selection:1})}}let or=t=>typeof t=="object"&&t!=null&&t.nodeType===1,fr=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",yn=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){let n=getComputedStyle(t,null);return fr(n.overflowY,e)||fr(n.overflowX,e)||(u=>{let i=(r=>{if(!r.ownerDocument||!r.ownerDocument.defaultView)return null;try{return r.ownerDocument.defaultView.frameElement}catch{return null}})(u);return!!i&&(i.clientHeight<u.scrollHeight||i.clientWidth<u.scrollWidth)})(t)}return!1},zt=(t,e,n,u,i,r,a,s)=>r<t&&a>e||r>t&&a<e?0:r<=t&&s<=n||a>=e&&s>=n?r-t-u:a>e&&s<n||r<t&&s>n?a-e+i:0,Rl=t=>{let e=t.parentElement;return e??(t.getRootNode().host||null)},cr=(t,e)=>{var n,u,i,r;if(typeof document>"u")return[];let{scrollMode:a,block:s,inline:l,boundary:o,skipOverflowHiddenElements:c}=e,d=typeof o=="function"?o:be=>be!==o;if(!or(t))throw new TypeError("Invalid target");let f=document.scrollingElement||document.documentElement,h=[],C=t;for(;or(C)&&d(C);){if(C=Rl(C),C===f){h.push(C);break}C!=null&&C===document.body&&yn(C)&&!yn(document.documentElement)||C!=null&&yn(C,c)&&h.push(C)}let A=(u=(n=window.visualViewport)==null?void 0:n.width)!=null?u:innerWidth,v=(r=(i=window.visualViewport)==null?void 0:i.height)!=null?r:innerHeight,{scrollX:F,scrollY:b}=window,{height:y,width:P,top:I,right:p,bottom:z,left:g}=t.getBoundingClientRect(),q=s==="start"||s==="nearest"?I:s==="end"?z:I+y/2,Y=l==="center"?g+P/2:l==="end"?p:g,se=[];for(let be=0;be<h.length;be++){let V=h[be],{height:we,width:he,top:S,right:de,bottom:Be,left:Ae}=V.getBoundingClientRect();if(a==="if-needed"&&I>=0&&g>=0&&z<=v&&p<=A&&I>=S&&z<=Be&&g>=Ae&&p<=de)return se;let ke=getComputedStyle(V),Pe=parseInt(ke.borderLeftWidth,10),ye=parseInt(ke.borderTopWidth,10),G=parseInt(ke.borderRightWidth,10),pe=parseInt(ke.borderBottomWidth,10),ge=0,Ce=0,Me="offsetWidth"in V?V.offsetWidth-V.clientWidth-Pe-G:0,qe="offsetHeight"in V?V.offsetHeight-V.clientHeight-ye-pe:0,Je="offsetWidth"in V?V.offsetWidth===0?0:he/V.offsetWidth:0,et="offsetHeight"in V?V.offsetHeight===0?0:we/V.offsetHeight:0;if(f===V)ge=s==="start"?q:s==="end"?q-v:s==="nearest"?zt(b,b+v,v,ye,pe,b+q,b+q+y,y):q-v/2,Ce=l==="start"?Y:l==="center"?Y-A/2:l==="end"?Y-A:zt(F,F+A,A,Pe,G,F+Y,F+Y+P,P),ge=Math.max(0,ge+b),Ce=Math.max(0,Ce+F);else{ge=s==="start"?q-S-ye:s==="end"?q-Be+pe+qe:s==="nearest"?zt(S,Be,we,ye,pe+qe,q,q+y,y):q-(S+we/2)+qe/2,Ce=l==="start"?Y-Ae-Pe:l==="center"?Y-(Ae+he/2)+Me/2:l==="end"?Y-de+G+Me:zt(Ae,de,he,Pe,G+Me,Y,Y+P,P);let{scrollLeft:Fe,scrollTop:tt}=V;ge=Math.max(0,Math.min(tt+ge/et,V.scrollHeight-we/et+qe)),Ce=Math.max(0,Math.min(Fe+Ce/Je,V.scrollWidth-he/Je+Me)),q+=tt-ge,Y+=Fe-Ce}se.push({el:V,top:ge,left:Ce})}return se},Ll=t=>typeof t=="object"&&typeof t.behavior=="function",jl=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function Vl(t,e){if(!t.isConnected||!t.ownerDocument.documentElement.contains(t))return;if(Ll(e))return e.behavior(cr(t,e));let n=typeof e=="boolean"||e==null?void 0:e.behavior;for(let{el:u,top:i,left:r}of cr(t,jl(e)))u.scroll({top:i,left:r,behavior:n})}const dr=()=>{};function Ml(t,e=0,n={}){let u=null,i=!1,r=0;const a=n.before||dr,s=n.after||dr;let l=null,o=null;function c(){u!==null&&(clearTimeout(u),u=null)}function d(){i=!1,l=null,o=null,c()}function f(){c(),h()}function h(){i&&(r=Date.now(),i=!1,t.apply(l,o),l=null,o=null,s())}const C=function(...v){const F=Date.now()-r;i||(i=!0,a()),c(),l=this,o=v;const b=!!n.isImmediate&&u===null;(n.debounceMode?b:F>e||b)?h():u=setTimeout(()=>{u=null,h()},e)};return C.cancel=d,C.flush=f,C}function ql(t,e=0,n={}){return Ml(t,e,Object.assign(Object.assign({},n),{debounceMode:!0}))}function Wl(t){let e,n,u,i,r,a,s;n=new mi({props:{node:t[6],selection:t[7],decorations:t[5]}});let l=[t[28],{role:u=t[4].readOnly?void 0:"textbox"},{spellcheck:t[1]},{autocorrect:t[2]},{autocapitalize:t[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},{contenteditable:i=!t[4].readOnly}],o={};for(let c=0;c<l.length;c+=1)o=wt(o,l[c]);return{c(){e=$("div"),ue(n.$$.fragment),this.h()},l(c){e=ee(c,"DIV",{role:!0,spellcheck:!0,autocorrect:!0,autocapitalize:!0,"data-svelte-editor":!0,"data-slate-node":!0,contenteditable:!0});var d=ae(e);ve(n.$$.fragment,d),d.forEach(k),this.h()},h(){ou(e,o),Ue(e,"svelte-e8cjio",!0)},m(c,d){H(c,e,d),re(n,e,null),t[40](e),r=!0,a||(s=[_e(e,"beforeinput",t[10]),_e(e,"keydown",t[12]),_e(e,"keyup",t[13]),_e(e,"keypress",t[14]),_e(e,"input",t[11]),_e(e,"focus",t[15]),_e(e,"blur",t[16]),_e(e,"click",t[17]),_e(e,"compositionend",t[18]),_e(e,"compositionupdate",t[19]),_e(e,"compositionstart",t[20]),_e(e,"paste",t[21]),_e(e,"copy",t[22]),_e(e,"cut",t[23]),_e(e,"dragover",t[24]),_e(e,"dragstart",t[25]),_e(e,"drop",t[26]),_e(e,"dragend",t[27])],a=!0)},p(c,d){const f={};d[0]&64&&(f.node=c[6]),d[0]&128&&(f.selection=c[7]),d[0]&32&&(f.decorations=c[5]),n.$set(f),ou(e,o=yr(l,[d[0]&268435456&&c[28],(!r||d[0]&16&&u!==(u=c[4].readOnly?void 0:"textbox"))&&{role:u},(!r||d[0]&2)&&{spellcheck:c[1]},(!r||d[0]&4)&&{autocorrect:c[2]},(!r||d[0]&8)&&{autocapitalize:c[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},(!r||d[0]&16&&i!==(i=!c[4].readOnly))&&{contenteditable:i}])),Ue(e,"svelte-e8cjio",!0)},i(c){r||(T(n.$$.fragment,c),r=!0)},o(c){N(n.$$.fragment,c),r=!1},d(c){c&&k(e),ie(n),t[40](null),a=!1,zi(s)}}}const yt=Ve(),Bi=Ve(),Ei=Ve();function vt(t,e){return Ct(e)&&Zn(t,e)}function Ye(t,e){return Ct(e)&&Zn(t,e,{editable:!0})}function Dr(t,e){if(Or.get(t))return!1;{const n=vt(t,e)&&dt(e);return D.isVoid(t,n)}}function Hl(t,e){const n=e.startContainer.parentElement,u=n.getBoundingClientRect;n.getBoundingClientRect=e.getBoundingClientRect.bind(e),Vl(n,{scrollMode:"if-needed"}),n.getBoundingClientRect=u}function zl(t,e,n){const u=["Element","Leaf","Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView","ref","spellcheck","autocorrect","autocapitalize","onKeyDown"];let i=Yt(e,u),r,a,{Element:s=ci}=e,{Leaf:l=Gs}=e,{Placeholder:o=fi}=e,{placeholder:c=void 0}=e,{readOnly:d=!1}=e,{autoFocus:f=!1}=e,{decorate:h=ai}=e,{scrollSelectionIntoView:C=Hl}=e,{ref:A=void 0}=e,{spellcheck:v=!0}=e,{autocorrect:F="true"}=e,{autocapitalize:b="true"}=e,{onKeyDown:y=()=>{}}=e;const P=Ts(),I=Le(yt,s),p=Le(Bi,l),z=Le(Ei,o),g=Xe(),q=ui();rt(t,q,E=>n(6,r=E));const Y=ri(),se=Ps(),be=Qn(),V=ii(),we=Is();rt(t,we,E=>n(7,a=E));const he=[],S={isComposing:!1,hasInsertPrefixInCompositon:!0,updateSelectionTimeoutId:null,isDraggingInternally:!1,latestElement:null,readOnly:d};let de=[],Be;function Ae(){if(S.isComposing||S.isDraggingInternally||S.updateSelectionTimeoutId)ke();else{const E=Nt(g),R=ut(g,g),M=E.getSelection();if(E.activeElement===R?(n(4,S.latestElement=E.activeElement,S),At.set(g,!0),se.set(!0)):(At.delete(g),se.set(!1)),!M){w.deselect(g);return}const ne=Ye(g,M.anchorNode)||Dr(g,M.anchorNode),W=Ye(g,M.focusNode)||Dr(g,M.focusNode);if(ne&&W){const Z=St(g,M,{exactMatch:!1,suppressThrow:!0});if(Z){w.select(g,Z);return}}w.deselect(g)}}const ke=ql(()=>fu().then(Ae),0);vr(()=>{const E=Xn(A);return E&&(kn.set(g,E),E.document.addEventListener("selectionchange",ke)),Kt.set(g,A),Ut.set(g,A),sn.set(A,g),()=>{Kt.delete(g),Ut.delete(g),E&&(kn.delete(g),E.document.removeEventListener("selectionchange",ke))}});function Pe(){if(!A)return;const E=Nt(g),R=E==null?void 0:E.getSelection();if(S.isComposing||!R||!Qu(g))return;const M=R.type!=="None";if(!g.selection&&!M)return;const ne=Kt.get(g);let W=!1;if(ne.contains(R.anchorNode)&&ne.contains(R.focusNode)&&(W=!0),M&&W&&g.selection){const We=St(g,R,{exactMatch:!0,suppressThrow:!0});if(We&&_.equals(We,g.selection))return}if(g.selection&&!ps(g,g.selection)){n(38,g.selection=St(g,R,{exactMatch:!1,suppressThrow:!1}),g),we.set(g.selection);return}const Z=g.selection&&W&&xt(g,g.selection);Z?(_.isBackward(g.selection)?R.setBaseAndExtent(Z.endContainer,Z.endOffset,Z.startContainer,Z.startOffset):R.setBaseAndExtent(Z.startContainer,Z.startOffset,Z.endContainer,Z.endOffset),C(g,Z)):R.removeAllRanges(),S.updateSelectionTimeoutId&&clearTimeout(S.updateSelectionTimeoutId);let ot=setTimeout(()=>{Z&&jn&&ut(g,g).focus(),Object.assign(S,{updateSelectionTimeoutId:null})});Object.assign(S,{updateSelectionTimeoutId:ot})}Ki(()=>fu().then(Pe));function ye(E){if(!S.readOnly&&Ye(g,E.target)){const R=E.inputType,M=E.dataTransfer||E.data||void 0;if(Oe(V,"onBeforeInput",E)===!1||E.cancelBubble||R==="insertCompositionText"||R==="deleteCompositionText")return;let ne=!1;if(R==="insertText"&&g.selection&&_.isCollapsed(g.selection)&&E.data&&E.data.length===1&&/[a-z ]/i.test(E.data)&&g.selection.anchor.offset!==0){ne=!0,g.marks&&(ne=!1);const W=D.above(g,{at:g.selection.anchor,match:Z=>D.isInline(g,Z),mode:"highest"});if(W){const[,Z]=W;D.isEnd(g,g.selection.anchor,Z)&&(ne=!1)}}if(ne||E.preventDefault(),!R.startsWith("delete")||R.startsWith("deleteBy")){const[W]=E.getTargetRanges();if(W){const Z=St(g,W,{exactMatch:!1,suppressThrow:!1});(!g.selection||!_.equals(g.selection,Z))&&w.select(g,Z)}}if(g.selection&&_.isExpanded(g.selection)&&R.startsWith("delete")){const W=R.endsWith("Backward")?"backward":"forward";D.deleteFragment(g,{direction:W});return}switch(R){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{D.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{D.deleteForward(g);break}case"deleteContentBackward":{D.deleteBackward(g);break}case"deleteEntireSoftLine":{D.deleteBackward(g,{unit:"line"}),D.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{D.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{D.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{D.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{D.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{D.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{D.deleteForward(g,{unit:"word"});break}case"insertLineBreak":{D.insertSoftBreak(g);break}case"insertParagraph":{D.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{g.selection&&_.isExpanded(g.selection)&&D.deleteFragment(g),R==="insertFromComposition"&&S.isComposing&&n(4,S.isComposing=!1,S),(M==null?void 0:M.constructor.name)==="DataTransfer"?g.insertData(M):typeof M=="string"&&(ne?he.push(()=>D.insertText(g,M)):D.insertText(g,M));break}}}}function G(E){for(const R of he)R();he.length=0}function pe(E){if(!S.readOnly&&!S.isComposing&&Ye(g,E.target)){const R=Oe(V,"onKeyDown",E);if(R===!1||E.cancelBubble)return R;const M=g.children[g.selection!==null?g.selection.focus.path[0]:0],ne=hi(O.string(M))==="rtl";if(Ee.isRedo(E)){E.preventDefault();const W=g;typeof W.redo=="function"&&W.redo()}else if(Ee.isUndo(E)){E.preventDefault();const W=g;typeof W.undo=="function"&&W.undo()}else if(Ee.isMoveLineBackward(E))E.preventDefault(),w.move(g,{unit:"line",reverse:!0});else if(Ee.isMoveLineForward(E))E.preventDefault(),w.move(g,{unit:"line"});else if(Ee.isExtendLineBackward(E))E.preventDefault(),w.move(g,{unit:"line",edge:"focus",reverse:!0});else if(Ee.isExtendLineForward(E))E.preventDefault(),w.move(g,{unit:"line",edge:"focus"});else if(Ee.isMoveBackward(E))E.preventDefault(),g.selection&&_.isCollapsed(g.selection)?w.move(g,{reverse:!ne}):w.collapse(g,{edge:"start"});else if(Ee.isMoveForward(E))E.preventDefault(),g.selection&&_.isCollapsed(g.selection)?w.move(g,{reverse:ne}):w.collapse(g,{edge:"end"});else if(Ee.isMoveWordBackward(E))E.preventDefault(),g.selection&&_.isExpanded(g.selection)&&w.collapse(g,{edge:"focus"}),w.move(g,{unit:"word",reverse:!ne});else if(Ee.isMoveWordForward(E))E.preventDefault(),g.selection&&_.isExpanded(g.selection)&&w.collapse(g,{edge:"focus"}),w.move(g,{unit:"word",reverse:ne});else if(Ls("mod+a",E))E.preventDefault(),w.select(g,D.range(g,[]));else if(Zu){if((Ur||bn)&&g.selection&&(Ee.isDeleteBackward(E)||Ee.isDeleteForward(E))&&_.isCollapsed(g.selection)){const Z=O.parent(g,g.selection.anchor.path);if(L.isElement(Z)&&D.isVoid(g,Z)&&D.isInline(g,Z)){E.preventDefault(),D.deleteBackward(g,{unit:"block"});return}}const W=y(E);if(W===!1||E.cancelBubble)return W}else{Ee.isBold(E)||Ee.isItalic(E)||Ee.isTransposeCharacter(E)?E.preventDefault():Ee.isSplitBlock(E)?(E.preventDefault(),D.insertBreak(g)):Ee.isDeleteBackward(E)?(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"backward"}):D.deleteBackward(g)):Ee.isDeleteForward(E)?(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"forward"}):D.deleteForward(g)):Ee.isDeleteLineBackward(E)?(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"backward"}):D.deleteBackward(g,{unit:"line"})):Ee.isDeleteLineForward(E)?(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"forward"}):D.deleteForward(g,{unit:"line"})):Ee.isDeleteWordBackward(E)?(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"backward"}):D.deleteBackward(g,{unit:"word"})):Ee.isDeleteWordForward(E)&&(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"forward"}):D.deleteForward(g,{unit:"word"}));const W=y(E);return W===!1||E.cancelBubble?W:Oe(V,"onKeyDown",E)}}}function ge(E){return Oe(V,"onKeyUp",E)}function Ce(E){return Oe(V,"onKeyPress",E)}function Me(E){if(!S.readOnly&&!S.updateSelectionTimeoutId&&Ye(g,E.target)){const R=ut(g,g),M=Nt(g);if(n(4,S.latestElement=M.activeElement,S),jn&&E.target!==R){R.focus();return}return At.set(g,!0),se.set(!0),Oe(V,"onFocus",E)}}function qe(E){if(S.readOnly||S.updateSelectionTimeoutId||!Ye(g,E.target))return;const R=Nt(g);if(S.latestElement===R.activeElement)return;const M=E.relatedTarget,ne=ut(g,g);if(M!==ne&&!(Qe(M)&&M.hasAttribute("data-slate-spacer"))){if(M!=null&&Ct(M)&&Zn(g,M)){const W=dt(M);if(L.isElement(W)&&!g.isVoid(W))return}if(bn){const W=R.getSelection();W==null||W.removeAllRanges()}return At.delete(g),se.set(!1),Oe(V,"onBlur",E)}}function Je(E){if(!S.readOnly&&vt(g,E.target)&&Ct(E.target)){const R=dt(E.target),M=st(R);if(D.hasPath(g,M)&&O.get(g,M)===R){const W=D.start(g,M),Z=D.end(g,M),ot=D.void(g,{at:W}),We=D.void(g,{at:Z});if(ot&&We&&B.equals(ot[1],We[1])){const mt=D.range(g,W);w.select(g,mt)}}return Oe(V,"onClick",E)}}function et(E){if(Ye(g,E.target)){n(4,S.isComposing=!1,S);const R=E.data;if(!bn&&!bs&&!vs&&!_s&&R&&D.insertText(g,R),g.selection&&_.isCollapsed(g.selection)){const M=g.selection.anchor.path,ne=O.leaf(g,M);S.hasInsertPrefixInCompositon&&(n(4,S.hasInsertPrefixInCompositon=!1,S),D.withoutNormalizing(g,()=>{const W=ne.text.replace(/^\uFEFF/,"");w.delete(g,{distance:ne.text.length,reverse:!0}),w.insertText(g,W)}))}return Oe(V,"onCompositionEnd",E)}}function Fe(E){if(Ye(g,E.target))return n(4,S.isComposing=!0,S),Oe(V,"onCompositionUpdate",E)}function tt(E){if(Ye(g,E.target)){if(g.selection){if(_.isExpanded(g.selection)){D.deleteFragment(g);return}const R=D.above(g,{match:M=>D.isInline(g,M),mode:"highest"});if(R){const[,M]=R;if(D.isEnd(g,g.selection.anchor,M)){const ne=D.after(g,M);w.setSelection(g,{anchor:ne,focus:ne})}}g.marks&&(n(4,S.hasInsertPrefixInCompositon=!0,S),w.insertNodes(g,{text:"\uFEFF",...g.marks},{select:!0}))}return Oe(V,"onCompositionStart",E)}}function Ot(E){if(!S.readOnly&&Ye(g,E.target))return(!Zu||hs(E))&&(E.preventDefault(),E.clipboardData&&g.insertData(E.clipboardData)),Oe(V,"onPaste",E)}function Dn(E){if(Ye(g,E.target))return E.preventDefault(),g.setFragmentData(E.clipboardData),Oe(V,"onCopy",E)}function hn(E){if(!S.readOnly&&Ye(g,E.target)){if(E.preventDefault(),g.setFragmentData(E.clipboardData),g.selection)if(_.isExpanded(g.selection))D.deleteFragment(g);else{const R=O.parent(g,g.selection.anchor.path);D.isVoid(g,R)&&w.delete(g)}return Oe(V,"onCut",E)}}function gn(E){if(vt(g,E.target)){const R=dt(E.target);return D.isVoid(g,R)&&E.preventDefault(),Oe(V,"onDragOver",E)}}function Cn(E){if(!S.readOnly&&vt(g,E.target)){const R=dt(E.target),M=st(R);if(D.isVoid(g,R)||D.void(g,{at:M,voids:!0})){const W=D.range(g,M);w.select(g,W)}return n(4,S.isDraggingInternally=!0,S),g.setFragmentData(E.dataTransfer),Oe(V,"onDragStart",E)}}function qt(E){if(!S.readOnly&&vt(g,E.target)){E.preventDefault();const R=g.selection,M=ys(g,E),ne=E.dataTransfer;return w.select(g,M),S.isDraggingInternally&&(R&&!_.equals(R,M)&&!D.void(g,{at:M,voids:!0})&&w.delete(g,{at:R}),n(4,S.isDraggingInternally=!1,S)),g.insertData(ne),Qu(g)||ws(g),Oe(V,"onDrop",E)}}function mn(E){if(!S.readOnly&&S.isDraggingInternally&&vt(g,E.target))return n(4,S.isDraggingInternally=!1,S),Oe(V,"onDragEnd",E)}function kt(E){U[E?"unshift":"push"](()=>{A=E,n(0,A)})}return t.$$set=E=>{e=wt(wt({},e),pr(E)),n(28,i=Yt(e,u)),"Element"in E&&n(29,s=E.Element),"Leaf"in E&&n(30,l=E.Leaf),"Placeholder"in E&&n(31,o=E.Placeholder),"placeholder"in E&&n(32,c=E.placeholder),"readOnly"in E&&n(33,d=E.readOnly),"autoFocus"in E&&n(34,f=E.autoFocus),"decorate"in E&&n(35,h=E.decorate),"scrollSelectionIntoView"in E&&n(36,C=E.scrollSelectionIntoView),"ref"in E&&n(0,A=E.ref),"spellcheck"in E&&n(1,v=E.spellcheck),"autocorrect"in E&&n(2,F=E.autocorrect),"autocapitalize"in E&&n(3,b=E.autocapitalize),"onKeyDown"in E&&n(37,y=E.onKeyDown)},t.$$.update=()=>{if(t.$$.dirty[0]&1&&P.set(A),t.$$.dirty[0]&536870912&&I.set(s),t.$$.dirty[0]&1073741824&&p.set(l),t.$$.dirty[1]&1&&z.set(o),t.$$.dirty[1]&132&&Or.set(g,d),t.$$.dirty[1]&4&&Y.set(d),t.$$.dirty[1]&4&&n(4,S.readOnly=d,S),t.$$.dirty[1]&16&&be.set(h),t.$$.dirty[0]&112|t.$$.dirty[1]&146)if(r.children.length===1&&Array.from(O.texts(r)).length===1&&O.string(r)===""&&!S.isComposing){const E=D.start(g,[]);n(5,de=[...h([g,[]]),{[Lt]:!0,placeholder:c,anchor:E,focus:E}])}else de.length&&n(5,de=h([g,[]]));t.$$.dirty[0]&1|t.$$.dirty[1]&264&&Be!==f&&A&&(f&&A.focus(),n(39,Be=f))},[A,v,F,b,S,de,r,a,q,we,ye,G,pe,ge,Ce,Me,qe,Je,et,Fe,tt,Ot,Dn,hn,gn,Cn,qt,mn,i,s,l,o,c,d,f,h,C,y,g,Be,kt]}class Kl extends X{constructor(e){super(),J(this,e,zl,Wl,un,{Element:29,Leaf:30,Placeholder:31,placeholder:32,readOnly:33,autoFocus:34,decorate:35,scrollSelectionIntoView:36,ref:0,spellcheck:1,autocorrect:2,autocapitalize:3,onKeyDown:37},null,[-1,-1])}}function hr(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=(e.top+e.bottom)/2;return t.top<=n&&t.bottom>=n}function gr(t,e,n){var r,a;const u=(r=xt(t,e))==null?void 0:r.getBoundingClientRect(),i=(a=xt(t,n))==null?void 0:a.getBoundingClientRect();return hr(u,i)&&hr(i,u)}function Yl(t,e){const n=D.range(t,_.end(e)),u=Array.from(D.positions(t,{at:e}));let i=0,r=u.length,a=Math.floor(r/2);if(gr(t,D.range(t,u[i]),n))return D.range(t,u[i],n);if(u.length<2)return D.range(t,u[u.length-1],n);for(;a!==u.length&&a!==i;)gr(t,D.range(t,u[a]),n)?r=a:i=a,a=Math.floor((i+r)/2);return D.range(t,u[r],n)}function Sf(t){const e=t,{apply:n,onChange:u,deleteBackward:i}=e;return ln.set(e,new WeakMap),e.deleteBackward=r=>{if(r!=="line")return i(r);if(t.selection&&_.isCollapsed(t.selection)){const a=D.above(t,{match:s=>D.isBlock(t,s),at:t.selection});if(a){const[,s]=a,l=D.range(t,s,t.selection.anchor),o=Yl(e,l);_.isCollapsed(o)||w.delete(t,{at:o})}}},e.apply=r=>{const a=[];switch(r.type){case"insert_text":case"remove_text":case"set_node":{for(const[s,l]of D.levels(e,{at:r.path})){const o=Dt(s);a.push([l,o])}break}case"insert_node":case"remove_node":case"merge_node":case"split_node":{for(const[s,l]of D.levels(e,{at:B.parent(r.path)})){const o=Dt(s);a.push([l,o])}break}case"move_node":{for(const[s,l]of D.levels(e,{at:B.common(B.parent(r.path),B.parent(r.newPath))})){const o=Dt(s);a.push([l,o])}break}}n(r);for(const[s,l]of a){const[o]=D.node(e,s);Pn.set(o,l)}},e.setFragmentData=r=>{const{selection:a}=e;if(!a)return;const[s,l]=_.edges(a),o=D.void(e,{at:s.path}),c=D.void(e,{at:l.path});if(_.isCollapsed(a)&&!o)return;const d=xt(e,a);if(!d)return;let f=d.cloneContents(),h=f.childNodes[0];if(f.childNodes.forEach(b=>{b.textContent&&b.textContent.trim()!==""&&(h=b)}),c){const[b]=c,y=d.cloneRange(),P=ut(e,b);y.setEndAfter(P),f=y.cloneContents()}if(o&&(h=f.querySelector("[data-slate-spacer]")),Array.from(f.querySelectorAll("[data-slate-zero-width]")).forEach(b=>{const y=b.getAttribute("data-slate-zero-width")==="n";b.textContent=y?`
`:""}),zr(h)){const b=document.createElement("span");b.style.whiteSpace="pre",b.appendChild(h),f.appendChild(b),h=b}const C=e.getFragment(),A=JSON.stringify(C),v=window.btoa(encodeURIComponent(A));h.setAttribute("data-slate-fragment",v),r.setData("application/x-slate-fragment",v);const F=document.createElement("div");return F.appendChild(f),F.setAttribute("hidden","true"),document.body.appendChild(F),r.setData("text/html",F.innerHTML),r.setData("text/plain",Yr(F)),document.body.removeChild(F),r},e.insertData=r=>{e.insertFragmentData(r)||e.insertTextData(r)},e.insertFragmentData=r=>{const a=r.getData("application/x-slate-fragment")||Es(r);if(a){const s=decodeURIComponent(window.atob(a)),l=JSON.parse(s);return e.insertFragment(l),!0}return!1},e.insertTextData=r=>{const a=r.getData("text/plain");if(a){const s=a.split(/\r\n|\r|\n/);let l=!1;for(const o of s)l&&w.splitNodes(e,{always:!0}),e.insertText(o),l=!0;return!0}return!1},e.onChange=()=>{const r=In.get(e);r&&r(),u()},e.hasOwnContext=()=>!0,e}var Ul={isHistory(t){return Ie(t)&&Array.isArray(t.redos)&&Array.isArray(t.undos)&&(t.redos.length===0||at.isOperationList(t.redos[0].operations))&&(t.undos.length===0||at.isOperationList(t.undos[0].operations))}},pn=new WeakMap,On=new WeakMap,bt={isHistoryEditor(t){return Ul.isHistory(t.history)&&D.isEditor(t)},isMerging(t){return On.get(t)},isSaving(t){return pn.get(t)},redo(t){t.redo()},undo(t){t.undo()},withoutMerging(t,e){var n=bt.isMerging(t);On.set(t,!1),e(),On.set(t,n)},withoutSaving(t,e){var n=bt.isSaving(t);pn.set(t,!1),e(),pn.set(t,n)}},Rf=t=>{var e=t,{apply:n}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:u}=e,{redos:i}=u;if(i.length>0){var r=i[i.length-1];r.selectionBefore&&w.setSelection(e,r.selectionBefore),bt.withoutSaving(e,()=>{D.withoutNormalizing(e,()=>{for(var a of r.operations)e.apply(a)})}),u.redos.pop(),u.undos.push(r)}},e.undo=()=>{var{history:u}=e,{undos:i}=u;if(i.length>0){var r=i[i.length-1];bt.withoutSaving(e,()=>{D.withoutNormalizing(e,()=>{var a=r.operations.map(at.inverse).reverse();for(var s of a)e.apply(s);r.selectionBefore&&w.setSelection(e,r.selectionBefore)})}),u.redos.push(r),u.undos.pop()}},e.apply=u=>{var{operations:i,history:r}=e,{undos:a}=r,s=a[a.length-1],l=s&&s.operations[s.operations.length-1],o=bt.isSaving(e),c=bt.isMerging(e);if(o==null&&(o=Xl(u)),o){if(c==null&&(s==null?c=!1:i.length!==0?c=!0:c=Gl(u,l)),s&&c)s.operations.push(u);else{var d={operations:[u],selectionBefore:e.selection};a.push(d)}for(;a.length>100;)a.shift();r.redos=[]}n(u)},e},Gl=(t,e)=>!!(e&&t.type==="insert_text"&&e.type==="insert_text"&&t.offset===e.offset+e.text.length&&B.equals(t.path,e.path)||e&&t.type==="remove_text"&&e.type==="remove_text"&&t.offset+t.text.length===e.offset&&B.equals(t.path,e.path)),Xl=(t,e)=>t.type!=="set_selection";function Jl(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("p"),i&&i.c(),this.h()},l(r){e=ee(r,"P",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-fghobi")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const lt="paragraph";function Zl(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,r=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,s=f.isVoid),"contenteditable"in f&&n(3,l=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,i=f.$$scope)},[o,a,s,l,c,r,i,u,d]}class Ql extends X{constructor(e){super(),J(this,e,Zl,Jl,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function xl(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("blockquote"),i&&i.c(),this.h()},l(r){e=ee(r,"BLOCKQUOTE",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-ltm0ff")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const vi="block-quote";function $l(t){return t.type===vi}function eo(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;const d=Xe();dn("onKeyDown",h=>{if(h.key==="Enter"&&h.shiftKey){const[C]=D.nodes(d,{match:$l});if(C){h.preventDefault(),h.stopPropagation();const[A,[v]]=C,F=[v+1];w.insertNodes(d,{type:lt,children:[{text:""}]},{at:F}),w.select(d,F)}}});function f(h){U[h?"unshift":"push"](()=>{o=h,n(0,o)})}return t.$$set=h=>{"element"in h&&n(5,r=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,s=h.isVoid),"contenteditable"in h&&n(3,l=h.contenteditable),"ref"in h&&n(0,o=h.ref),"dir"in h&&n(4,c=h.dir),"$$scope"in h&&n(6,i=h.$$scope)},[o,a,s,l,c,r,i,u,f]}class to extends X{constructor(e){super(),J(this,e,eo,xl,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function no(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("h1"),i&&i.c(),this.h()},l(r){e=ee(r,"H1",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1n77z")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const uo="heading1";function ro(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,r=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,s=f.isVoid),"contenteditable"in f&&n(3,l=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,i=f.$$scope)},[o,a,s,l,c,r,i,u,d]}class io extends X{constructor(e){super(),J(this,e,ro,no,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function ao(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("h2"),i&&i.c(),this.h()},l(r){e=ee(r,"H2",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1nvmq")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const so="heading2";function lo(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,r=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,s=f.isVoid),"contenteditable"in f&&n(3,l=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,i=f.$$scope)},[o,a,s,l,c,r,i,u,d]}class oo extends X{constructor(e){super(),J(this,e,lo,ao,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function fo(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("h3"),i&&i.c(),this.h()},l(r){e=ee(r,"H3",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1o8al")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const co="heading3";function Do(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,r=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,s=f.isVoid),"contenteditable"in f&&n(3,l=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,i=f.$$scope)},[o,a,s,l,c,r,i,u,d]}class ho extends X{constructor(e){super(),J(this,e,Do,fo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function go(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("h4"),i&&i.c(),this.h()},l(r){e=ee(r,"H4",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1p2nc")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const Co="heading4";function mo(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,r=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,s=f.isVoid),"contenteditable"in f&&n(3,l=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,i=f.$$scope)},[o,a,s,l,c,r,i,u,d]}class Bo extends X{constructor(e){super(),J(this,e,mo,go,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Eo(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("h5"),i&&i.c(),this.h()},l(r){e=ee(r,"H5",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1pr63")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const vo="heading5";function Ao(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,r=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,s=f.isVoid),"contenteditable"in f&&n(3,l=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,i=f.$$scope)},[o,a,s,l,c,r,i,u,d]}class Fo extends X{constructor(e){super(),J(this,e,Ao,Eo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function bo(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("h6"),i&&i.c(),this.h()},l(r){e=ee(r,"H6",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1qfla")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const _o="heading6";function wo(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,r=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,s=f.isVoid),"contenteditable"in f&&n(3,l=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,i=f.$$scope)},[o,a,s,l,c,r,i,u,d]}class yo extends X{constructor(e){super(),J(this,e,wo,bo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function po(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("li"),i&&i.c(),this.h()},l(r){e=ee(r,"LI",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h0582b")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const eu="list-item";function Oo(t){return t.type===eu}function ko(t){const{deleteBackward:e}=t;return t.deleteBackward=n=>{if(t.selection&&_.isCollapsed(t.selection)){const[u]=Array.from(D.nodes(t,{match:i=>Oo(i)&&D.isEmpty(t,i),at:t.selection}));if(u){const[i,r]=u,[a,s]=D.parent(t,r);if(a.children[a.children.length-1]===i){s[s.length-1]+=1,w.removeNodes(t,{at:r}),w.insertNodes(t,{type:lt,children:[{text:""}]},{at:s}),w.setSelection(t,{anchor:{path:[...s,0],offset:0},focus:{path:[...s,0],offset:0}});return}}}e(n)},t}function Po(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,r=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,s=f.isVoid),"contenteditable"in f&&n(3,l=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,i=f.$$scope)},[o,a,s,l,c,r,i,u,d]}class Io extends X{constructor(e){super(),J(this,e,Po,po,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function To(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("ul"),i&&i.c(),this.h()},l(r){e=ee(r,"UL",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-18dokwl")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const tu="numbered-list";function No(t){return t.type===tu}function So(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;const d=Xe();dn("onKeyDown",h=>{if(h.key==="Enter"&&h.shiftKey){const[C]=D.nodes(d,{match:No});if(C){h.preventDefault(),h.stopPropagation();const[A,[v]]=C,F=[v+1];w.insertNodes(d,{type:lt,children:[{text:""}]},{at:F}),w.select(d,F)}}});function f(h){U[h?"unshift":"push"](()=>{o=h,n(0,o)})}return t.$$set=h=>{"element"in h&&n(5,r=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,s=h.isVoid),"contenteditable"in h&&n(3,l=h.contenteditable),"ref"in h&&n(0,o=h.ref),"dir"in h&&n(4,c=h.dir),"$$scope"in h&&n(6,i=h.$$scope)},[o,a,s,l,c,r,i,u,f]}class Ro extends X{constructor(e){super(),J(this,e,So,To,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Lo(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("ol"),i&&i.c(),this.h()},l(r){e=ee(r,"OL",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-6txpqf")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const nu="bulleted-list";function jo(t){return t.type===nu}function Vo(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;const d=Xe();dn("onKeyDown",h=>{if(h.key==="Enter"&&h.shiftKey){const[C]=D.nodes(d,{match:jo});if(C){h.preventDefault(),h.stopPropagation();const[A,[v]]=C,F=[v+1];w.insertNodes(d,{type:lt,children:[{text:""}]},{at:F}),w.select(d,F)}}});function f(h){U[h?"unshift":"push"](()=>{o=h,n(0,o)})}return t.$$set=h=>{"element"in h&&n(5,r=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,s=h.isVoid),"contenteditable"in h&&n(3,l=h.contenteditable),"ref"in h&&n(0,o=h.ref),"dir"in h&&n(4,c=h.dir),"$$scope"in h&&n(6,i=h.$$scope)},[o,a,s,l,c,r,i,u,f]}class Mo extends X{constructor(e){super(),J(this,e,Vo,Lo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function qo(t,e){if(t.selection){const n=D.marks(t);return n?n[e]===!0:!1}else return!1}function Lf(t,e){qo(t,e)?D.removeMark(t,e):D.addMark(t,e,!0)}function Ai(t,e){if(t.selection){const[n]=Array.from(D.nodes(t,{at:D.unhangRange(t,t.selection),match:u=>!D.isEditor(u)&&L.isElement(u)&&u.type===e}));return!!n}else return!1}const Cr=[tu,nu];function jf(t,e){const n=Ai(t,e),u=Cr.includes(e);w.unwrapNodes(t,{match:r=>!D.isEditor(r)&&L.isElement(r)&&Cr.includes(r.type),split:!0});const i={type:n?lt:u?eu:e};if(w.setNodes(t,i),!n&&u){const r={type:e,children:[]};w.wrapNodes(t,r)}}function Vf(t){const e=window.getSelection();if(!e)return;e.removeAllRanges();const n=document.createRange();n.selectNodeContents(t),e.addRange(n)}function Wo(t){let e,n,u,i,r,a,s,l,o;const c=t[8].default,d=le(c,t,t[7],null);return{c(){e=$("div"),n=$("span"),u=$("input"),a=$("span"),d&&d.c(),this.h()},l(f){e=ee(f,"DIV",{class:!0,"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0});var h=ae(e);n=ee(h,"SPAN",{class:!0,contenteditable:!0});var C=ae(n);u=ee(C,"INPUT",{type:!0}),C.forEach(k),a=ee(h,"SPAN",{class:!0,contenteditable:!0});var A=ae(a);d&&d.l(A),A.forEach(k),h.forEach(k),this.h()},h(){m(u,"type","checkbox"),u.checked=i=t[1].checked,u.disabled=r=!t[4],m(n,"class","checkbox svelte-bf42sr"),m(n,"contenteditable",!1),m(a,"class","content svelte-bf42sr"),m(a,"contenteditable",t[4]),Ue(a,"checked",t[1].checked),m(e,"class","check-list-item svelte-bf42sr"),m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[2]),m(e,"data-slate-void",t[3]),m(e,"dir",t[5]),m(e,"contenteditable",t[4])},m(f,h){H(f,e,h),Rt(e,n),Rt(n,u),Rt(e,a),d&&d.m(a,null),t[9](e),s=!0,l||(o=_e(u,"change",t[6]),l=!0)},p(f,[h]){(!s||h&2&&i!==(i=f[1].checked))&&(u.checked=i),(!s||h&16&&r!==(r=!f[4]))&&(u.disabled=r),d&&d.p&&(!s||h&128)&&oe(d,c,f,f[7],s?ce(c,f[7],h,null):fe(f[7]),null),(!s||h&16)&&m(a,"contenteditable",f[4]),(!s||h&2)&&Ue(a,"checked",f[1].checked),(!s||h&4)&&m(e,"data-slate-inline",f[2]),(!s||h&8)&&m(e,"data-slate-void",f[3]),(!s||h&32)&&m(e,"dir",f[5]),(!s||h&16)&&m(e,"contenteditable",f[4])},i(f){s||(T(d,f),s=!0)},o(f){N(d,f),s=!1},d(f){f&&k(e),d&&d.d(f),t[9](null),l=!1,o()}}}const $t="check-list-item";function Fi(t){return t.type===$t}function Ho(t){const{deleteBackward:e}=t;return t.deleteBackward=n=>{if(t.selection&&_.isCollapsed(t.selection)){const[u]=Array.from(D.nodes(t,{match:i=>Fi(i)&&D.isEmpty(t,i),at:t.selection}));if(u){const[i,r]=u;w.setNodes(t,{type:lt},{at:r});return}}e(n)},t}function Mf(t){if(Ai(t,$t))w.unwrapNodes(t,{match:Fi,split:!0});else{const n={type:$t,checked:!1,children:[]};w.wrapNodes(t,n)}}function zo(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;const d=Xe();function f(C){l&&w.setNodes(d,{checked:C.target.checked},{at:st(r)})}function h(C){U[C?"unshift":"push"](()=>{o=C,n(0,o)})}return t.$$set=C=>{"element"in C&&n(1,r=C.element),"isInline"in C&&n(2,a=C.isInline),"isVoid"in C&&n(3,s=C.isVoid),"contenteditable"in C&&n(4,l=C.contenteditable),"ref"in C&&n(0,o=C.ref),"dir"in C&&n(5,c=C.dir),"$$scope"in C&&n(7,i=C.$$scope)},[o,r,a,s,l,c,f,i,u,h]}class Ko extends X{constructor(e){super(),J(this,e,zo,Wo,te,{element:1,isInline:2,isVoid:3,contenteditable:4,ref:0,dir:5})}}function Yo(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("td"),i&&i.c(),this.h()},l(r){e=ee(r,"TD",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-62tis6")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const uu="table-row-data";function ru(t){return t.type===uu}function Uo(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,r=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,s=f.isVoid),"contenteditable"in f&&n(3,l=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,i=f.$$scope)},[o,a,s,l,c,r,i,u,d]}class Go extends X{constructor(e){super(),J(this,e,Uo,Yo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Xo(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("th"),i&&i.c(),this.h()},l(r){e=ee(r,"TH",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-12ex41")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const iu="table-row-header";function en(t){return t.type===iu}function Jo(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,r=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,s=f.isVoid),"contenteditable"in f&&n(3,l=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,i=f.$$scope)},[o,a,s,l,c,r,i,u,d]}class Zo extends X{constructor(e){super(),J(this,e,Jo,Xo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Qo(t){let e,n,u;function i(a){t[8](a)}let r={element:t[1],isInline:t[2],isVoid:t[3],dir:t[5],contenteditable:t[4],$$slots:{default:[$o]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.ref=t[0]),e=new Zo({props:r}),U.push(()=>Se(e,"ref",i)),{c(){ue(e.$$.fragment)},l(a){ve(e.$$.fragment,a)},m(a,s){re(e,a,s),u=!0},p(a,s){const l={};s&2&&(l.element=a[1]),s&4&&(l.isInline=a[2]),s&8&&(l.isVoid=a[3]),s&32&&(l.dir=a[5]),s&16&&(l.contenteditable=a[4]),s&512&&(l.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,l.ref=a[0],Ge(()=>n=!1)),e.$set(l)},i(a){u||(T(e.$$.fragment,a),u=!0)},o(a){N(e.$$.fragment,a),u=!1},d(a){ie(e,a)}}}function xo(t){let e,n,u;function i(a){t[7](a)}let r={element:t[1],isInline:t[2],isVoid:t[3],dir:t[5],contenteditable:t[4],$$slots:{default:[ef]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.ref=t[0]),e=new Go({props:r}),U.push(()=>Se(e,"ref",i)),{c(){ue(e.$$.fragment)},l(a){ve(e.$$.fragment,a)},m(a,s){re(e,a,s),u=!0},p(a,s){const l={};s&2&&(l.element=a[1]),s&4&&(l.isInline=a[2]),s&8&&(l.isVoid=a[3]),s&32&&(l.dir=a[5]),s&16&&(l.contenteditable=a[4]),s&512&&(l.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,l.ref=a[0],Ge(()=>n=!1)),e.$set(l)},i(a){u||(T(e.$$.fragment,a),u=!0)},o(a){N(e.$$.fragment,a),u=!1},d(a){ie(e,a)}}}function $o(t){let e;const n=t[6].default,u=le(n,t,t[9],null);return{c(){u&&u.c()},l(i){u&&u.l(i)},m(i,r){u&&u.m(i,r),e=!0},p(i,r){u&&u.p&&(!e||r&512)&&oe(u,n,i,i[9],e?ce(n,i[9],r,null):fe(i[9]),null)},i(i){e||(T(u,i),e=!0)},o(i){N(u,i),e=!1},d(i){u&&u.d(i)}}}function ef(t){let e;const n=t[6].default,u=le(n,t,t[9],null);return{c(){u&&u.c()},l(i){u&&u.l(i)},m(i,r){u&&u.m(i,r),e=!0},p(i,r){u&&u.p&&(!e||r&512)&&oe(u,n,i,i[9],e?ce(n,i[9],r,null):fe(i[9]),null)},i(i){e||(T(u,i),e=!0)},o(i){N(u,i),e=!1},d(i){u&&u.d(i)}}}function tf(t){let e,n,u,i,r,a;const s=[xo,Qo],l=[];function o(c,d){return d&2&&(e=null),d&2&&(n=null),e==null&&(e=!!ru(c[1])),e?0:(n==null&&(n=!!en(c[1])),n?1:-1)}return~(u=o(t,-1))&&(i=l[u]=s[u](t)),{c(){i&&i.c(),r=x()},l(c){i&&i.l(c),r=x()},m(c,d){~u&&l[u].m(c,d),H(c,r,d),a=!0},p(c,[d]){let f=u;u=o(c,d),u===f?~u&&l[u].p(c,d):(i&&(Te(),N(l[f],1,1,()=>{l[f]=null}),Ne()),~u?(i=l[u],i?i.p(c,d):(i=l[u]=s[u](c),i.c()),T(i,1),i.m(r.parentNode,r)):i=null)},i(c){a||(T(i),a=!0)},o(c){N(i),a=!1},d(c){~u&&l[u].d(c),c&&k(r)}}}function nf(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;const d=je(wi);Jr(yt,d);function f(C){o=C,n(0,o)}function h(C){o=C,n(0,o)}return t.$$set=C=>{"element"in C&&n(1,r=C.element),"isInline"in C&&n(2,a=C.isInline),"isVoid"in C&&n(3,s=C.isVoid),"contenteditable"in C&&n(4,l=C.contenteditable),"ref"in C&&n(0,o=C.ref),"dir"in C&&n(5,c=C.dir),"$$scope"in C&&n(9,i=C.$$scope)},[o,r,a,s,l,c,u,f,h,i]}class uf extends X{constructor(e){super(),J(this,e,nf,tf,te,{element:1,isInline:2,isVoid:3,contenteditable:4,ref:0,dir:5})}}function rf(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("tr"),i&&i.c(),this.h()},l(r){e=ee(r,"TR",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-62pa10")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const bi="table-row";function af(t,e,n){let{$$slots:u={},$$scope:i}=e,{element:r}=e,{isInline:a}=e,{isVoid:s}=e,{contenteditable:l}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;Le(yt,uf);function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,r=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,s=f.isVoid),"contenteditable"in f&&n(3,l=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,i=f.$$scope)},[o,a,s,l,c,r,i,u,d]}class sf extends X{constructor(e){super(),J(this,e,af,rf,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function lf(t){let e,n;const u=t[7].default,i=le(u,t,t[6],null);return{c(){e=$("table"),i&&i.c(),this.h()},l(r){e=ee(r,"TABLE",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-13zewjb")},m(r,a){H(r,e,a),i&&i.m(e,null),t[8](e),n=!0},p(r,[a]){i&&i.p&&(!n||a&64)&&oe(i,u,r,r[6],n?ce(u,r[6],a,null):fe(r[6]),null),(!n||a&2)&&m(e,"data-slate-inline",r[1]),(!n||a&4)&&m(e,"data-slate-void",r[2]),(!n||a&16)&&m(e,"dir",r[4]),(!n||a&8)&&m(e,"contenteditable",r[3])},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r),t[8](null)}}}const au="table";function _i(t){return t.type===au}function of(t){const{deleteBackward:e}=t;return t.deleteBackward=(...n)=>{if(t.selection&&_.isCollapsed(t.selection)){const[u]=D.nodes(t,{match:ru});if(u){const[r,a]=u;if(a[0]===t.selection.focus.path[0]&&a[1]===t.selection.focus.path[1]&&t.selection.focus.path[2]===0&&D.isEmpty(t,r)){w.delete(t,{at:[a[0],a[1]]});return}}const[i]=D.nodes(t,{match:en});if(i){const[r]=i;if(D.isEmpty(t,r)){const[a]=D.nodes(t,{match:_i}),[s,[l]]=a,o=s;for(let c=o.children.length-1;c>=0;c--){const d=o.children[c];w.delete(t,{at:[l,c,d.children.length-1]})}return}}}e(...n)},t}function qf(t){const e={type:au,children:[{type:bi,children:[{type:iu,children:[{text:""}]}]}]};w.insertNodes(t,e)}const wi=Ve();function ff(t){return[...new Array(t)].map(()=>({type:uu,children:[{text:""}]}))}function cf(t,e,n){let{$$slots:u={},$$scope:i}=e;const r=Xe();let{element:a}=e,{isInline:s}=e,{isVoid:l}=e,{contenteditable:o}=e,{ref:c=void 0}=e,{dir:d=void 0}=e;Jr(wi,je(yt)),Le(yt,sf),dn("onKeyDown",h=>{if(r.selection){if(h.key==="Enter"){const[C]=D.nodes(r,{match:_i});if(C){h.preventDefault(),h.stopPropagation();const[A,[v]]=C,F=A;if(h.shiftKey){const[b]=D.nodes(r,{match:en});if(b)F.children.forEach((y,P)=>{w.insertNodes(r,{type:P!==0?uu:iu,children:[{text:""}]},{at:[v,P,y.children.length]})}),w.select(r,[v,0,F.children[0].children.length]);else{const y=[v+1];w.insertNodes(r,{type:lt,children:[{text:""}]},{at:y}),w.select(r,y)}}else{const b=[v,r.selection.focus.path[1]+1];w.insertNodes(r,{type:bi,children:ff(F.children[0].children.length)},{at:b}),w.select(r,b)}}}else if(h.key==="Tab"){const[C]=D.nodes(r,{match:A=>ru(A)||en(A)});if(C){h.preventDefault(),h.stopPropagation();const[A,v]=C,[F,b]=D.parent(r,v),[y,P]=D.parent(r,b),I=y,p=I.children.length,z=I.children[0].children.length,g=(v[2]+1)%z,q=(v[1]+(g===0?1:0))%p;w.select(r,[v[0],q,g])}}}});function f(h){U[h?"unshift":"push"](()=>{c=h,n(0,c)})}return t.$$set=h=>{"element"in h&&n(5,a=h.element),"isInline"in h&&n(1,s=h.isInline),"isVoid"in h&&n(2,l=h.isVoid),"contenteditable"in h&&n(3,o=h.contenteditable),"ref"in h&&n(0,c=h.ref),"dir"in h&&n(4,d=h.dir),"$$scope"in h&&n(6,i=h.$$scope)},[c,s,l,o,d,a,i,u,f]}class df extends X{constructor(e){super(),J(this,e,cf,lf,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}const Df={[vi]:to,[lt]:Ql,[uo]:io,[so]:oo,[co]:ho,[Co]:Bo,[vo]:Fo,[_o]:yo,[eu]:{component:Io,withFn:ko},[tu]:Ro,[nu]:Mo,[$t]:{component:Ko,withFn:Ho},[au]:{component:df,withFn:of}};function hf(t){let e;const n=t[7].default,u=le(n,t,t[11],null);return{c(){u&&u.c()},l(i){u&&u.l(i)},m(i,r){u&&u.m(i,r),e=!0},p(i,r){u&&u.p&&(!e||r&2048)&&oe(u,n,i,i[11],e?ce(n,i[11],r,null):fe(i[11]),null)},i(i){e||(T(u,i),e=!0)},o(i){N(u,i),e=!1},d(i){u&&u.d(i)}}}function gf(t){let e,n,u,i,r;function a(c){t[8](c)}function s(c){t[9](c)}function l(c){t[10](c)}let o={$$slots:{default:[hf]},$$scope:{ctx:t}};return t[0]!==void 0&&(o.editor=t[0]),t[1]!==void 0&&(o.value=t[1]),t[2]!==void 0&&(o.selection=t[2]),e=new Ss({props:o}),U.push(()=>Se(e,"editor",a)),U.push(()=>Se(e,"value",s)),U.push(()=>Se(e,"selection",l)),e.$on("value",t[3]),e.$on("selection",t[4]),{c(){ue(e.$$.fragment)},l(c){ve(e.$$.fragment,c)},m(c,d){re(e,c,d),r=!0},p(c,[d]){const f={};d&2048&&(f.$$scope={dirty:d,ctx:c}),!n&&d&1&&(n=!0,f.editor=c[0],Ge(()=>n=!1)),!u&&d&2&&(u=!0,f.value=c[1],Ge(()=>u=!1)),!i&&d&4&&(i=!0,f.selection=c[2],Ge(()=>i=!1)),e.$set(f)},i(c){r||(T(e.$$.fragment,c),r=!0)},o(c){N(e.$$.fragment,c),r=!1},d(c){ie(e,c)}}}const yi=Ve();function Cf(){return je(yi)}function pi(t){return"component"in t}function mf(t,e){return Object.values(e).reduce((n,u)=>pi(u)&&u.withFn?u.withFn(n,u.options):n,t)}function Bf(t){return Object.entries(t).reduce((e,[n,u])=>(e[n]=pi(u)?u.component:u,e),{})}function Ef(t,e,n){let u,{$$slots:i={},$$scope:r}=e,{plugins:a=Df}=e,{editor:s}=e,{value:l=s.children}=e,{selection:o=s.selection}=e;const c=Fr();function d(b){c("value",b.detail)}function f(b){c("selection",b.detail)}let h=s;const C=Le(yi,u);function A(b){s=b,n(0,s),n(13,h),n(5,a)}function v(b){l=b,n(1,l)}function F(b){o=b,n(2,o)}return t.$$set=b=>{"plugins"in b&&n(5,a=b.plugins),"editor"in b&&n(0,s=b.editor),"value"in b&&n(1,l=b.value),"selection"in b&&n(2,o=b.selection),"$$scope"in b&&n(11,r=b.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(0,s=mf(h,a)),t.$$.dirty&32&&n(6,u=Bf(a)),t.$$.dirty&64&&C.set(u)},[s,l,o,d,f,a,u,i,A,v,F,r]}class Wf extends X{constructor(e){super(),J(this,e,Ef,gf,te,{plugins:5,editor:0,value:1,selection:2})}}function vf(t){let e;const n=t[10].default,u=le(n,t,t[13],null);return{c(){u&&u.c()},l(i){u&&u.l(i)},m(i,r){u&&u.m(i,r),e=!0},p(i,r){u&&u.p&&(!e||r&8192)&&oe(u,n,i,i[13],e?ce(n,i[13],r,null):fe(i[13]),null)},i(i){e||(T(u,i),e=!0)},o(i){N(u,i),e=!1},d(i){u&&u.d(i)}}}function Af(t){let e,n,u,i,r;function a(c){t[11](c)}function s(c){t[12](c)}var l=t[6];function o(c){let d={element:c[2],isInline:c[3],isVoid:c[4],contenteditable:c[5],$$slots:{default:[vf]},$$scope:{ctx:c}};return c[0]!==void 0&&(d.ref=c[0]),c[1]!==void 0&&(d.dir=c[1]),{props:d}}return l&&(e=Re(l,o(t)),U.push(()=>Se(e,"ref",a)),U.push(()=>Se(e,"dir",s))),{c(){e&&ue(e.$$.fragment),i=x()},l(c){e&&ve(e.$$.fragment,c),i=x()},m(c,d){e&&re(e,c,d),H(c,i,d),r=!0},p(c,[d]){const f={};if(d&4&&(f.element=c[2]),d&8&&(f.isInline=c[3]),d&16&&(f.isVoid=c[4]),d&32&&(f.contenteditable=c[5]),d&8192&&(f.$$scope={dirty:d,ctx:c}),!n&&d&1&&(n=!0,f.ref=c[0],Ge(()=>n=!1)),!u&&d&2&&(u=!0,f.dir=c[1],Ge(()=>u=!1)),d&64&&l!==(l=c[6])){if(e){Te();const h=e;N(h.$$.fragment,1,0,()=>{ie(h,1)}),Ne()}l?(e=Re(l,o(c)),U.push(()=>Se(e,"ref",a)),U.push(()=>Se(e,"dir",s)),ue(e.$$.fragment),T(e.$$.fragment,1),re(e,i.parentNode,i)):e=null}else l&&e.$set(f)},i(c){r||(e&&T(e.$$.fragment,c),r=!0)},o(c){e&&N(e.$$.fragment,c),r=!1},d(c){c&&k(i),e&&ie(e,c)}}}function Ff(t,e,n){let u,i,r,{$$slots:a={},$$scope:s}=e,{element:l}=e,{isInline:o}=e,{isVoid:c}=e,{contenteditable:d}=e,{ref:f=void 0}=e,{dir:h=void 0}=e;const C=Cf();rt(t,C,F=>n(9,r=F));function A(F){f=F,n(0,f)}function v(F){h=F,n(1,h)}return t.$$set=F=>{"element"in F&&n(2,l=F.element),"isInline"in F&&n(3,o=F.isInline),"isVoid"in F&&n(4,c=F.isVoid),"contenteditable"in F&&n(5,d=F.contenteditable),"ref"in F&&n(0,f=F.ref),"dir"in F&&n(1,h=F.dir),"$$scope"in F&&n(13,s=F.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&n(8,u=r),t.$$.dirty&260&&n(6,i=u[l.type]||ci)},[f,h,l,o,c,d,i,C,u,r,a,A,v,s]}class mr extends X{constructor(e){super(),J(this,e,Ff,Af,te,{element:2,isInline:3,isVoid:4,contenteditable:5,ref:0,dir:1})}}function bf(t){let e,n;const u=t[2].default,i=le(u,t,t[1],null);return{c(){e=$("span"),i&&i.c(),this.h()},l(r){e=ee(r,"SPAN",{"data-slate-leaf":!0,class:!0});var a=ae(e);i&&i.l(a),a.forEach(k),this.h()},h(){m(e,"data-slate-leaf","true"),m(e,"class","svelte-186l2b2"),Ue(e,"bold",t[0].bold),Ue(e,"italic",t[0].italic),Ue(e,"code",t[0].code),Ue(e,"underline",t[0].underline)},m(r,a){H(r,e,a),i&&i.m(e,null),n=!0},p(r,[a]){i&&i.p&&(!n||a&2)&&oe(i,u,r,r[1],n?ce(u,r[1],a,null):fe(r[1]),null),(!n||a&1)&&Ue(e,"bold",r[0].bold),(!n||a&1)&&Ue(e,"italic",r[0].italic),(!n||a&1)&&Ue(e,"code",r[0].code),(!n||a&1)&&Ue(e,"underline",r[0].underline)},i(r){n||(T(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&k(e),i&&i.d(r)}}}function _f(t,e,n){let{$$slots:u={},$$scope:i}=e,{leaf:r}=e;return t.$$set=a=>{"leaf"in a&&n(0,r=a.leaf),"$$scope"in a&&n(1,i=a.$$scope)},[r,i,u]}class Br extends X{constructor(e){super(),J(this,e,_f,bf,te,{leaf:0})}}function wf(t){let e,n,u,i,r;const a=[t[11],{Element:mr},{Leaf:Br},{Placeholder:t[3]},{placeholder:t[4]},{readOnly:t[5]},{autoFocus:t[6]},{spellcheck:t[7]},{autocorrect:t[8]},{autocapitalize:t[9]},{onKeyDown:t[10]}];function s(d){t[12](d)}function l(d){t[13](d)}function o(d){t[14](d)}let c={};for(let d=0;d<a.length;d+=1)c=wt(c,a[d]);return t[2]!==void 0&&(c.ref=t[2]),t[0]!==void 0&&(c.decorate=t[0]),t[1]!==void 0&&(c.scrollSelectionIntoView=t[1]),e=new Kl({props:c}),U.push(()=>Se(e,"ref",s)),U.push(()=>Se(e,"decorate",l)),U.push(()=>Se(e,"scrollSelectionIntoView",o)),{c(){ue(e.$$.fragment)},l(d){ve(e.$$.fragment,d)},m(d,f){re(e,d,f),r=!0},p(d,[f]){const h=f&4088?yr(a,[f&2048&&Yi(d[11]),f&0&&{Element:mr},f&0&&{Leaf:Br},f&8&&{Placeholder:d[3]},f&16&&{placeholder:d[4]},f&32&&{readOnly:d[5]},f&64&&{autoFocus:d[6]},f&128&&{spellcheck:d[7]},f&256&&{autocorrect:d[8]},f&512&&{autocapitalize:d[9]},f&1024&&{onKeyDown:d[10]}]):{};!n&&f&4&&(n=!0,h.ref=d[2],Ge(()=>n=!1)),!u&&f&1&&(u=!0,h.decorate=d[0],Ge(()=>u=!1)),!i&&f&2&&(i=!0,h.scrollSelectionIntoView=d[1],Ge(()=>i=!1)),e.$set(h)},i(d){r||(T(e.$$.fragment,d),r=!0)},o(d){N(e.$$.fragment,d),r=!1},d(d){ie(e,d)}}}function yf(t,e,n){const u=["Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView","ref","spellcheck","autocorrect","autocapitalize","onKeyDown"];let i=Yt(e,u),{Placeholder:r=fi}=e,{placeholder:a=void 0}=e,{readOnly:s=!1}=e,{autoFocus:l=!1}=e,{decorate:o=void 0}=e,{scrollSelectionIntoView:c=void 0}=e,{ref:d=void 0}=e,{spellcheck:f=!0}=e,{autocorrect:h="true"}=e,{autocapitalize:C="true"}=e,{onKeyDown:A=()=>{}}=e;function v(y){d=y,n(2,d)}function F(y){o=y,n(0,o)}function b(y){c=y,n(1,c)}return t.$$set=y=>{e=wt(wt({},e),pr(y)),n(11,i=Yt(e,u)),"Placeholder"in y&&n(3,r=y.Placeholder),"placeholder"in y&&n(4,a=y.placeholder),"readOnly"in y&&n(5,s=y.readOnly),"autoFocus"in y&&n(6,l=y.autoFocus),"decorate"in y&&n(0,o=y.decorate),"scrollSelectionIntoView"in y&&n(1,c=y.scrollSelectionIntoView),"ref"in y&&n(2,d=y.ref),"spellcheck"in y&&n(7,f=y.spellcheck),"autocorrect"in y&&n(8,h=y.autocorrect),"autocapitalize"in y&&n(9,C=y.autocapitalize),"onKeyDown"in y&&n(10,A=y.onKeyDown)},[o,c,d,r,a,s,l,f,h,C,A,i,v,F,b]}class Hf extends X{constructor(e){super(),J(this,e,yf,wf,te,{Placeholder:3,placeholder:4,readOnly:5,autoFocus:6,decorate:0,scrollSelectionIntoView:1,ref:2,spellcheck:7,autocorrect:8,autocapitalize:9,onKeyDown:10})}}export{Vf as A,qf as B,Is as C,Df as D,Hf as E,uo as H,Bi as L,O as N,lt as P,_ as R,Wf as S,w as T,Sf as a,D as b,Pf as c,Nf as d,Ps as e,ri as f,Xe as g,st as h,Ls as i,Dt as j,If as k,Le as l,dn as m,j as n,Ve as o,yt as p,$r as q,ui as r,Ai as s,Lf as t,Mf as u,qo as v,Rf as w,jf as x,Ts as y,B as z};
