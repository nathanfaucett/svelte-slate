var Yi=Object.defineProperty;var Ui=(t,e,n)=>e in t?Yi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sr=(t,e,n)=>(Ui(t,typeof e!="symbol"?e+"":e,n),n);import{a2 as yu,a3 as Gi,S as X,i as J,H as ne,I as fe,L as ce,M as de,N as he,d as S,b as I,o as _u,a4 as Pu,a5 as Nu,h as ee,j as te,k as le,f as N,l as C,a6 as Xi,a as W,a7 as Ji,e as x,r as Ne,c as Se,u as G,n as tn,p as nn,K as jt,q as Su,G as wt,a8 as Zi,w as ue,x as Ae,y as ie,z as ae,v as Re,O as it,a9 as Qi,P as Te,Q as Xe,aa as Iu,ab as Tu,s as rn,A as pt,ac as lr,T as Ge,R as we,B as Ru,W as xi,ad as Yt,g as $i,t as or,D as ju,C as ea}from"./index.63937b64.js";import{w as ta}from"./index.8b7f7246.js";const un=new WeakMap,an=new WeakMap,yn=new WeakMap,Kt=new WeakMap,sn=new WeakMap,Ut=new WeakMap,_n=new WeakMap,ln=new WeakMap,ku=new WeakMap,At=new WeakMap,Pn=new WeakMap,Lt=Symbol("placeholder");/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function fr(t){return Object.prototype.toString.call(t)==="[object Object]"}function Pe(t){var e,n;return fr(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(fr(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Qe(t){for(var e=arguments.length,n=Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function mt(t){return!!t&&!!t[We]}function Ct(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var u=Object.getPrototypeOf(n);if(u===null)return!0;var r=Object.hasOwnProperty.call(u,"constructor")&&u.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===oa}(t)||Array.isArray(t)||!!t[vr]||!!(!((e=t.constructor)===null||e===void 0)&&e[vr])||kn(t)||Ln(t))}function Vt(t,e,n){n===void 0&&(n=!1),yt(t)===0?(n?Object.keys:Wn)(t).forEach(function(u){n&&typeof u=="symbol"||e(u,t[u],t)}):t.forEach(function(u,r){return e(r,u,t)})}function yt(t){var e=t[We];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:kn(t)?2:Ln(t)?3:0}function Nn(t,e){return yt(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function na(t,e){return yt(t)===2?t.get(e):t[e]}function Lu(t,e,n){var u=yt(t);u===2?t.set(e,n):u===3?t.add(n):t[e]=n}function ra(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function kn(t){return sa&&t instanceof Map}function Ln(t){return la&&t instanceof Set}function ht(t){return t.o||t.t}function Vn(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=fa(t);delete e[We];for(var n=Wn(e),u=0;u<n.length;u++){var r=n[u],i=e[r];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[r]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[r]})}return Object.create(Object.getPrototypeOf(t),e)}function Mn(t,e){return e===void 0&&(e=!1),qn(t)||mt(t)||!Ct(t)||(yt(t)>1&&(t.set=t.add=t.clear=t.delete=ua),Object.freeze(t),e&&Vt(t,function(n,u){return Mn(u,!0)},!0)),t}function ua(){Qe(2)}function qn(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function nt(t){var e=ca[t];return e||Qe(18,t),e}function cr(){return Mt}function Cn(t,e){e&&(nt("Patches"),t.u=[],t.s=[],t.v=e)}function Gt(t){Sn(t),t.p.forEach(ia),t.p=null}function Sn(t){t===Mt&&(Mt=t.l)}function dr(t){return Mt={p:[],l:Mt,h:t,m:!0,_:0}}function ia(t){var e=t[We];e.i===0||e.i===1?e.j():e.g=!0}function vn(t,e){e._=e.p.length;var n=e.p[0],u=t!==void 0&&t!==n;return e.h.O||nt("ES5").S(e,t,u),u?(n[We].P&&(Gt(e),Qe(4)),Ct(t)&&(t=Xt(e,t),e.l||Jt(e,t)),e.u&&nt("Patches").M(n[We].t,t,e.u,e.s)):t=Xt(e,n,[]),Gt(e),e.u&&e.v(e.u,e.s),t!==Vu?t:void 0}function Xt(t,e,n){if(qn(e))return e;var u=e[We];if(!u)return Vt(e,function(l,s){return hr(t,u,e,l,s,n)},!0),e;if(u.A!==t)return e;if(!u.P)return Jt(t,u.t,!0),u.t;if(!u.I){u.I=!0,u.A._--;var r=u.i===4||u.i===5?u.o=Vn(u.k):u.o,i=r,a=!1;u.i===3&&(i=new Set(r),r.clear(),a=!0),Vt(i,function(l,s){return hr(t,u,r,l,s,n,a)}),Jt(t,r,!1),n&&t.u&&nt("Patches").N(u,n,t.u,t.s)}return u.o}function hr(t,e,n,u,r,i,a){if(mt(r)){var l=Xt(t,r,i&&e&&e.i!==3&&!Nn(e.R,u)?i.concat(u):void 0);if(Lu(n,u,l),!mt(l))return;t.m=!1}else a&&n.add(r);if(Ct(r)&&!qn(r)){if(!t.h.D&&t._<1)return;Xt(t,r),e&&e.A.l||Jt(t,r)}}function Jt(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Mn(e,n)}function Bn(t,e){var n=t[We];return(n?ht(n):t)[e]}function Dr(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var u=Object.getOwnPropertyDescriptor(n,e);if(u)return u;n=Object.getPrototypeOf(n)}}function In(t){t.P||(t.P=!0,t.l&&In(t.l))}function En(t){t.o||(t.o=Vn(t.t))}function Tn(t,e,n){var u=kn(e)?nt("MapSet").F(e,n):Ln(e)?nt("MapSet").T(e,n):t.O?function(r,i){var a=Array.isArray(r),l={i:a?1:0,A:i?i.A:cr(),P:!1,I:!1,R:{},l:i,t:r,k:null,o:null,j:null,C:!1},s=l,o=Rn;a&&(s=[l],o=It);var f=Proxy.revocable(s,o),d=f.revoke,c=f.proxy;return l.k=c,l.j=d,c}(e,n):nt("ES5").J(e,n);return(n?n.A:cr()).p.push(u),u}function aa(t){return mt(t)||Qe(22,t),function e(n){if(!Ct(n))return n;var u,r=n[We],i=yt(n);if(r){if(!r.P&&(r.i<4||!nt("ES5").K(r)))return r.t;r.I=!0,u=gr(n,i),r.I=!1}else u=gr(n,i);return Vt(u,function(a,l){r&&na(r.t,a)===l||Lu(u,a,e(l))}),i===3?new Set(u):u}(t)}function gr(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Vn(t)}var mr,Mt,zn=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",sa=typeof Map<"u",la=typeof Set<"u",Cr=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Vu=zn?Symbol.for("immer-nothing"):((mr={})["immer-nothing"]=!0,mr),vr=zn?Symbol.for("immer-draftable"):"__$immer_draftable",We=zn?Symbol.for("immer-state"):"__$immer_state",oa=""+Object.prototype.constructor,Wn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,fa=Object.getOwnPropertyDescriptors||function(t){var e={};return Wn(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},ca={},Rn={get:function(t,e){if(e===We)return t;var n=ht(t);if(!Nn(n,e))return function(r,i,a){var l,s=Dr(i,a);return s?"value"in s?s.value:(l=s.get)===null||l===void 0?void 0:l.call(r.k):void 0}(t,n,e);var u=n[e];return t.I||!Ct(u)?u:u===Bn(t.t,e)?(En(t),t.o[e]=Tn(t.A.h,u,t)):u},has:function(t,e){return e in ht(t)},ownKeys:function(t){return Reflect.ownKeys(ht(t))},set:function(t,e,n){var u=Dr(ht(t),e);if(u!=null&&u.set)return u.set.call(t.k,n),!0;if(!t.P){var r=Bn(ht(t),e),i=r==null?void 0:r[We];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(ra(n,r)&&(n!==void 0||Nn(t.t,e)))return!0;En(t),In(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Bn(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,En(t),In(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ht(t),u=Reflect.getOwnPropertyDescriptor(n,e);return u&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:u.enumerable,value:n[e]}},defineProperty:function(){Qe(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Qe(12)}},It={};Vt(Rn,function(t,e){It[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),It.deleteProperty=function(t,e){return It.set.call(this,t,e,void 0)},It.set=function(t,e,n){return Rn.set.call(this,t[0],e,n,t[0])};var da=function(){function t(n){var u=this;this.O=Cr,this.D=!0,this.produce=function(r,i,a){if(typeof r=="function"&&typeof i!="function"){var l=i;i=r;var s=u;return function(E){var F=this;E===void 0&&(E=l);for(var A=arguments.length,b=Array(A>1?A-1:0),w=1;w<A;w++)b[w-1]=arguments[w];return s.produce(E,function(P){var y;return(y=i).call.apply(y,[F,P].concat(b))})}}var o;if(typeof i!="function"&&Qe(6),a!==void 0&&typeof a!="function"&&Qe(7),Ct(r)){var f=dr(u),d=Tn(u,r,void 0),c=!0;try{o=i(d),c=!1}finally{c?Gt(f):Sn(f)}return typeof Promise<"u"&&o instanceof Promise?o.then(function(E){return Cn(f,a),vn(E,f)},function(E){throw Gt(f),E}):(Cn(f,a),vn(o,f))}if(!r||typeof r!="object"){if((o=i(r))===void 0&&(o=r),o===Vu&&(o=void 0),u.D&&Mn(o,!0),a){var D=[],m=[];nt("Patches").M(r,o,D,m),a(D,m)}return o}Qe(21,r)},this.produceWithPatches=function(r,i){if(typeof r=="function")return function(o){for(var f=arguments.length,d=Array(f>1?f-1:0),c=1;c<f;c++)d[c-1]=arguments[c];return u.produceWithPatches(o,function(D){return r.apply(void 0,[D].concat(d))})};var a,l,s=u.produce(r,i,function(o,f){a=o,l=f});return typeof Promise<"u"&&s instanceof Promise?s.then(function(o){return[o,a,l]}):[s,a,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Ct(n)||Qe(8),mt(n)&&(n=aa(n));var u=dr(this),r=Tn(this,n,void 0);return r[We].C=!0,Sn(u),r},e.finishDraft=function(n,u){var r=n&&n[We],i=r.A;return Cn(i,u),vn(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Cr&&Qe(20),this.O=n},e.applyPatches=function(n,u){var r;for(r=u.length-1;r>=0;r--){var i=u[r];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}r>-1&&(u=u.slice(r+1));var a=nt("Patches").$;return mt(n)?a(n,u):this.produce(n,function(l){return a(l,u)})},t}(),He=new da,Hn=He.produce;He.produceWithPatches.bind(He);He.setAutoFreeze.bind(He);He.setUseProxies.bind(He);He.applyPatches.bind(He);var Br=He.createDraft.bind(He),Er=He.finishDraft.bind(He),ha={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var r=v.transform(n,e,{affinity:u});t.current=r,r==null&&t.unref()}}},Da={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var r=Q.transform(n,e,{affinity:u});t.current=r,r==null&&t.unref()}}},ga={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var r=p.transform(n,e,{affinity:u});t.current=r,r==null&&t.unref()}}},Zt=new WeakMap,Qt=new WeakMap,kt=new WeakMap,Mu=new WeakMap,Ar=new WeakMap,Fr=new WeakMap,br=new WeakMap,v={ancestors(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,u=v.levels(t,e);return n?u=u.slice(1):u=u.slice(0,-1),u},common(t,e){for(var n=[],u=0;u<t.length&&u<e.length;u++){var r=t[u],i=e[u];if(r!==i)break;n.push(r)}return n},compare(t,e){for(var n=Math.min(t.length,e.length),u=0;u<n;u++){if(t[u]<e[u])return-1;if(t[u]>e[u])return 1}return 0},endsAfter(t,e){var n=t.length-1,u=t.slice(0,n),r=e.slice(0,n),i=t[n],a=e[n];return v.equals(u,r)&&i>a},endsAt(t,e){var n=t.length,u=t.slice(0,n),r=e.slice(0,n);return v.equals(u,r)},endsBefore(t,e){var n=t.length-1,u=t.slice(0,n),r=e.slice(0,n),i=t[n],a=e[n];return v.equals(u,r)&&i<a},equals(t,e){return t.length===e.length&&t.every((n,u)=>n===e[u])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return v.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&v.compare(t,e)===0},isBefore(t,e){return v.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&v.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&v.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&v.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&v.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;var n=t.slice(0,-1),u=e.slice(0,-1),r=t[t.length-1],i=e[e.length-1];return r!==i&&v.equals(n,u)},levels(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,u=[],r=0;r<=t.length;r++)u.push(t.slice(0,r));return n&&u.reverse(),u},next(t){if(t.length===0)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!v.isAncestor(e,t)&&!v.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return null;var u=[...t],{affinity:r="forward"}=n;if(t.length===0)return u;switch(e.type){case"insert_node":{var{path:i}=e;(v.equals(i,u)||v.endsBefore(i,u)||v.isAncestor(i,u))&&(u[i.length-1]+=1);break}case"remove_node":{var{path:a}=e;if(v.equals(a,u)||v.isAncestor(a,u))return null;v.endsBefore(a,u)&&(u[a.length-1]-=1);break}case"merge_node":{var{path:l,position:s}=e;v.equals(l,u)||v.endsBefore(l,u)?u[l.length-1]-=1:v.isAncestor(l,u)&&(u[l.length-1]-=1,u[l.length]+=s);break}case"split_node":{var{path:o,position:f}=e;if(v.equals(o,u)){if(r==="forward")u[u.length-1]+=1;else if(r!=="backward")return null}else v.endsBefore(o,u)?u[o.length-1]+=1:v.isAncestor(o,u)&&t[o.length]>=f&&(u[o.length-1]+=1,u[o.length]-=f);break}case"move_node":{var{path:d,newPath:c}=e;if(v.equals(d,c))return u;if(v.isAncestor(d,u)||v.equals(d,u)){var D=c.slice();return v.endsBefore(d,c)&&d.length<c.length&&(D[d.length-1]-=1),D.concat(u.slice(d.length))}else v.isSibling(d,c)&&(v.isAncestor(c,u)||v.equals(c,u))?v.endsBefore(d,u)?u[d.length-1]-=1:u[d.length-1]+=1:v.endsBefore(c,u)||v.equals(c,u)||v.isAncestor(c,u)?(v.endsBefore(d,u)&&(u[d.length-1]-=1),u[c.length-1]+=1):v.endsBefore(d,u)&&(v.equals(c,u)&&(u[c.length-1]+=1),u[d.length-1]-=1);break}}return u}};function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var ma=(t,e,n)=>{switch(n.type){case"insert_node":{var{path:u,node:r}=n,i=_.parent(t,u),a=u[u.length-1];if(a>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(u,"] because the destination is past the end of the node."));if(i.children.splice(a,0,r),e)for(var[l,s]of p.points(e))e[s]=Q.transform(l,n);break}case"insert_text":{var{path:o,offset:f,text:d}=n;if(d.length===0)break;var c=_.leaf(t,o),D=c.text.slice(0,f),m=c.text.slice(f);if(c.text=D+d+m,e)for(var[E,F]of p.points(e))e[F]=Q.transform(E,n);break}case"merge_node":{var{path:A}=n,b=_.get(t,A),w=v.previous(A),P=_.get(t,w),y=_.parent(t,A),R=A[A.length-1];if(V.isText(b)&&V.isText(P))P.text+=b.text;else if(!V.isText(b)&&!V.isText(P))P.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(A,"] to nodes of different interfaces: ").concat(ze.stringify(b)," ").concat(ze.stringify(P)));if(y.children.splice(R,1),e)for(var[j,g]of p.points(e))e[g]=Q.transform(j,n);break}case"move_node":{var{path:K,newPath:Y}=n;if(v.isAncestor(K,Y))throw new Error("Cannot move a path [".concat(K,"] to new path [").concat(Y,"] because the destination is inside itself."));var $=_.get(t,K),De=_.parent(t,K),M=K[K.length-1];De.children.splice(M,1);var me=v.transform(K,n),pe=_.get(t,v.parent(me)),T=me[me.length-1];if(pe.children.splice(T,0,$),e)for(var[ye,Fe]of p.points(e))e[Fe]=Q.transform(ye,n);break}case"remove_node":{var{path:se}=n,Be=se[se.length-1],Ie=_.parent(t,se);if(Ie.children.splice(Be,1),e)for(var[be,Ke]of p.points(e)){var U=Q.transform(be,n);if(e!=null&&U!=null)e[Ke]=U;else{var oe=void 0,ge=void 0;for(var[Me,Ye]of _.texts(t))if(v.compare(Ye,se)===-1)oe=[Me,Ye];else{ge=[Me,Ye];break}var Ze=!1;oe&&ge&&(v.equals(ge[1],se)?Ze=!v.hasPrevious(ge[1]):Ze=v.common(oe[1],se).length<v.common(ge[1],se).length),oe&&!Ze?(be.path=oe[1],be.offset=oe[0].text.length):ge?(be.path=ge[1],be.offset=0):e=null}}break}case"remove_text":{var{path:$e,offset:et,text:tt}=n;if(tt.length===0)break;var st=_.leaf(t,$e),_e=st.text.slice(0,et),Pt=st.text.slice(et+tt.length);if(st.text=_e+Pt,e)for(var[hn,Dn]of p.points(e))e[Dn]=Q.transform(hn,n);break}case"set_node":{var{path:zt,properties:gn,newProperties:Nt}=n;if(zt.length===0)throw new Error("Cannot set properties on the root node!");var B=_.get(t,zt);for(var k in Nt){if(k==="children"||k==="text")throw new Error('Cannot set the "'.concat(k,'" property of nodes!'));var q=Nt[k];q==null?delete B[k]:B[k]=q}for(var re in gn)Nt.hasOwnProperty(re)||delete B[re];break}case"set_selection":{var{newProperties:z}=n;if(z==null)e=z;else{if(e==null){if(!p.isRange(z))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(ze.stringify(z)," when there is no current selection."));e=St({},z)}for(var Z in z){var ct=z[Z];if(ct==null){if(Z==="anchor"||Z==="focus")throw new Error('Cannot remove the "'.concat(Z,'" selection property'));delete e[Z]}else e[Z]=ct}}break}case"split_node":{var{path:qe,position:Bt,properties:ar}=n;if(qe.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(qe,"] because the root node cannot be split."));var dt=_.get(t,qe),Li=_.parent(t,qe),Vi=qe[qe.length-1],mn;if(V.isText(dt)){var Mi=dt.text.slice(0,Bt),qi=dt.text.slice(Bt);dt.text=Mi,mn=St(St({},ar),{},{text:qi})}else{var zi=dt.children.slice(0,Bt),Wi=dt.children.slice(Bt);dt.children=zi,mn=St(St({},ar),{},{children:Wi})}if(Li.children.splice(Vi+1,0,mn),e)for(var[Hi,Ki]of p.points(e))e[Ki]=Q.transform(Hi,n);break}}return e},Ca={transform(t,e){t.children=Br(t.children);var n=t.selection&&Br(t.selection);try{n=ma(t,n,e)}finally{t.children=Er(t.children),n?t.selection=mt(n)?Er(n):n:t.selection=null}}},va={insertNodes(t,e,n){t.insertNodes(e,n)},liftNodes(t,e){t.liftNodes(e)},mergeNodes(t,e){t.mergeNodes(e)},moveNodes(t,e){t.moveNodes(e)},removeNodes(t,e){t.removeNodes(e)},setNodes(t,e,n){t.setNodes(e,n)},splitNodes(t,e){t.splitNodes(e)},unsetNodes(t,e,n){t.unsetNodes(e,n)},unwrapNodes(t,e){t.unwrapNodes(e)},wrapNodes(t,e,n){t.wrapNodes(e,n)}},Ba={collapse(t,e){t.collapse(e)},deselect(t){t.deselect()},move(t,e){t.move(e)},select(t,e){t.select(e)},setPoint(t,e,n){t.setPoint(e,n)},setSelection(t,e){t.setSelection(e)}},qu=(t,e)=>{for(var n in t){var u=t[n],r=e[n];if(Pe(u)&&Pe(r)){if(!qu(u,r))return!1}else if(Array.isArray(u)&&Array.isArray(r)){if(u.length!==r.length)return!1;for(var i=0;i<u.length;i++)if(u[i]!==r[i])return!1}else if(u!==r)return!1}for(var a in e)if(t[a]===void 0&&e[a]!==void 0)return!1;return!0};function Ea(t,e){if(t==null)return{};var n={},u=Object.keys(t),r,i;for(i=0;i<u.length;i++)r=u[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function at(t,e){if(t==null)return{};var n=Ea(t,e),u,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)u=i[r],!(e.indexOf(u)>=0)&&Object.prototype.propertyIsEnumerable.call(t,u)&&(n[u]=t[u])}return n}var Aa=["anchor","focus"];function pr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var p={edges(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,{anchor:u,focus:r}=t;return p.isBackward(t)===n?[u,r]:[r,u]},end(t){var[,e]=p.edges(t);return e},equals(t,e){return Q.equals(t.anchor,e.anchor)&&Q.equals(t.focus,e.focus)},includes(t,e){if(p.isRange(e)){if(p.includes(t,e.anchor)||p.includes(t,e.focus))return!0;var[n,u]=p.edges(t),[r,i]=p.edges(e);return Q.isBefore(n,r)&&Q.isAfter(u,i)}var[a,l]=p.edges(t),s=!1,o=!1;return Q.isPoint(e)?(s=Q.compare(e,a)>=0,o=Q.compare(e,l)<=0):(s=v.compare(e,a.path)>=0,o=v.compare(e,l.path)<=0),s&&o},intersection(t,e){var n=at(t,Aa),[u,r]=p.edges(t),[i,a]=p.edges(e),l=Q.isBefore(u,i)?i:u,s=Q.isBefore(r,a)?r:a;return Q.isBefore(s,l)?null:Fa({anchor:l,focus:s},n)},isBackward(t){var{anchor:e,focus:n}=t;return Q.isAfter(e,n)},isCollapsed(t){var{anchor:e,focus:n}=t;return Q.equals(e,n)},isExpanded(t){return!p.isCollapsed(t)},isForward(t){return!p.isBackward(t)},isRange(t){return Pe(t)&&Q.isPoint(t.anchor)&&Q.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=p.edges(t);return e},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Hn(t,u=>{if(u===null)return null;var{affinity:r="inward"}=n,i,a;if(r==="inward"){var l=p.isCollapsed(u);p.isForward(u)?(i="forward",a=l?i:"backward"):(i="backward",a=l?i:"forward")}else r==="outward"?p.isForward(u)?(i="backward",a="forward"):(i="forward",a="backward"):(i=r,a=r);var s=Q.transform(u.anchor,e,{affinity:i}),o=Q.transform(u.focus,e,{affinity:a});if(!s||!o)return null;u.anchor=s,u.focus=o})}},Or=t=>Pe(t)&&_.isNodeList(t.children)&&!h.isEditor(t),L={isAncestor(t){return Pe(t)&&_.isNodeList(t.children)},isElement:Or,isElementList(t){return Array.isArray(t)&&t.every(e=>L.isElement(e))},isElementProps(t){return t.children!==void 0},isElementType:function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Or(e)&&e[u]===n},matches(t,e){for(var n in e)if(n!=="children"&&t[n]!==e[n])return!1;return!0}},ba=["children"],wa=["text"],yr=new WeakMap,_={ancestor(t,e){var n=_.get(t,e);if(V.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(ze.stringify(n)));return n},*ancestors(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var u of v.ancestors(e,n)){var r=_.ancestor(t,u),i=[r,u];yield i}},child(t,e){if(V.isText(t))throw new Error("Cannot get the child of a text node: ".concat(ze.stringify(t)));var n=t.children[e];if(n==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(ze.stringify(t)));return n},*children(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:u=!1}=n,r=_.ancestor(t,e),{children:i}=r,a=u?i.length-1:0;u?a>=0:a<i.length;){var l=_.child(r,a),s=e.concat(a);yield[l,s],a=u?a-1:a+1}},common(t,e,n){var u=v.common(e,n),r=_.get(t,u);return[r,u]},descendant(t,e){var n=_.get(t,e);if(h.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(ze.stringify(n)));return n},*descendants(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of _.nodes(t,e))u.length!==0&&(yield[n,u])},*elements(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of _.nodes(t,e))L.isElement(n)&&(yield[n,u])},extractProps(t){if(L.isAncestor(t)){var e=at(t,ba);return e}else{var e=at(t,wa);return e}},first(t,e){for(var n=e.slice(),u=_.get(t,n);u&&!(V.isText(u)||u.children.length===0);)u=u.children[0],n.push(0);return[u,n]},fragment(t,e){if(V.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(ze.stringify(t)));var n=Hn({children:t.children},u=>{var[r,i]=p.edges(e),a=_.nodes(u,{reverse:!0,pass:c=>{var[,D]=c;return!p.includes(e,D)}});for(var[,l]of a){if(!p.includes(e,l)){var s=_.parent(u,l),o=l[l.length-1];s.children.splice(o,1)}if(v.equals(l,i.path)){var f=_.leaf(u,l);f.text=f.text.slice(0,i.offset)}if(v.equals(l,r.path)){var d=_.leaf(u,l);d.text=d.text.slice(r.offset)}}h.isEditor(u)&&(u.selection=null)});return n.children},get(t,e){for(var n=t,u=0;u<e.length;u++){var r=e[u];if(V.isText(n)||!n.children[r])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(ze.stringify(t)));n=n.children[r]}return n},has(t,e){for(var n=t,u=0;u<e.length;u++){var r=e[u];if(V.isText(n)||!n.children[r])return!1;n=n.children[r]}return!0},isNode(t){return V.isText(t)||L.isElement(t)||h.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=yr.get(t);if(e!==void 0)return e;var n=t.every(u=>_.isNode(u));return yr.set(t,n),n},last(t,e){for(var n=e.slice(),u=_.get(t,n);u&&!(V.isText(u)||u.children.length===0);){var r=u.children.length-1;u=u.children[r],n.push(r)}return[u,n]},leaf(t,e){var n=_.get(t,e);if(!V.isText(n))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(ze.stringify(n)));return n},*levels(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var u of v.levels(e,n)){var r=_.get(t,u);yield[r,u]}},matches(t,e){return L.isElement(t)&&L.isElementProps(e)&&L.matches(t,e)||V.isText(t)&&V.isTextProps(e)&&V.matches(t,e)},*nodes(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:u=!1}=e,{from:r=[],to:i}=e,a=new Set,l=[],s=t;!(i&&(u?v.isBefore(l,i):v.isAfter(l,i)));){if(a.has(s)||(yield[s,l]),!a.has(s)&&!V.isText(s)&&s.children.length!==0&&(n==null||n([s,l])===!1)){a.add(s);var o=u?s.children.length-1:0;v.isAncestor(l,r)&&(o=r[l.length]),l=l.concat(o),s=_.get(t,l);continue}if(l.length===0)break;if(!u){var f=v.next(l);if(_.has(t,f)){l=f,s=_.get(t,l);continue}}if(u&&l[l.length-1]!==0){var d=v.previous(l);l=d,s=_.get(t,l);continue}l=v.parent(l),s=_.get(t,l),a.add(s)}},parent(t,e){var n=v.parent(e),u=_.get(t,n);if(V.isText(u))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return u},string(t){return V.isText(t)?t.text:t.children.map(_.string).join("")},*texts(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of _.nodes(t,e))V.isText(n)&&(yield[n,u])}};function _r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_r(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var lt={isNodeOperation(t){return lt.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!Pe(t))return!1;switch(t.type){case"insert_node":return v.isPath(t.path)&&_.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&v.isPath(t.path);case"merge_node":return typeof t.position=="number"&&v.isPath(t.path)&&Pe(t.properties);case"move_node":return v.isPath(t.path)&&v.isPath(t.newPath);case"remove_node":return v.isPath(t.path)&&_.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&v.isPath(t.path);case"set_node":return v.isPath(t.path)&&Pe(t.properties)&&Pe(t.newProperties);case"set_selection":return t.properties===null&&p.isRange(t.newProperties)||t.newProperties===null&&p.isRange(t.properties)||Pe(t.properties)&&Pe(t.newProperties);case"split_node":return v.isPath(t.path)&&typeof t.position=="number"&&Pe(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>lt.isOperation(e))},isSelectionOperation(t){return lt.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return lt.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return Ce(Ce({},t),{},{type:"remove_node"});case"insert_text":return Ce(Ce({},t),{},{type:"remove_text"});case"merge_node":return Ce(Ce({},t),{},{type:"split_node",path:v.previous(t.path)});case"move_node":{var{newPath:e,path:n}=t;if(v.equals(e,n))return t;if(v.isSibling(n,e))return Ce(Ce({},t),{},{path:e,newPath:n});var u=v.transform(n,t),r=v.transform(v.next(n),t);return Ce(Ce({},t),{},{path:u,newPath:r})}case"remove_node":return Ce(Ce({},t),{},{type:"insert_node"});case"remove_text":return Ce(Ce({},t),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:a}=t;return Ce(Ce({},t),{},{properties:a,newProperties:i})}case"set_selection":{var{properties:l,newProperties:s}=t;return l==null?Ce(Ce({},t),{},{properties:s,newProperties:null}):s==null?Ce(Ce({},t),{},{properties:null,newProperties:l}):Ce(Ce({},t),{},{properties:s,newProperties:l})}case"split_node":return Ce(Ce({},t),{},{type:"merge_node",path:v.next(t.path)})}}},Pr=new WeakMap,pa=t=>{var e=Pr.get(t);if(e!==void 0)return e;if(!Pe(t))return!1;var n=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||Pe(t.marks))&&(t.selection===null||p.isRange(t.selection))&&_.isNodeList(t.children)&&lt.isOperationList(t.operations);return Pr.set(t,n),n},h={above(t,e){return t.above(e)},addMark(t,e,n){t.addMark(e,n)},after(t,e,n){return t.after(e,n)},before(t,e,n){return t.before(e,n)},deleteBackward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=e;t.deleteBackward(n)},deleteForward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=e;t.deleteForward(n)},deleteFragment(t,e){t.deleteFragment(e)},edges(t,e){return t.edges(e)},elementReadOnly(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.elementReadOnly(e)},end(t,e){return t.end(e)},first(t,e){return t.first(e)},fragment(t,e){return t.fragment(e)},hasBlocks(t,e){return t.hasBlocks(e)},hasInlines(t,e){return t.hasInlines(e)},hasPath(t,e){return t.hasPath(e)},hasTexts(t,e){return t.hasTexts(e)},insertBreak(t){t.insertBreak()},insertFragment(t,e,n){t.insertFragment(e,n)},insertNode(t,e){t.insertNode(e)},insertSoftBreak(t){t.insertSoftBreak()},insertText(t,e){t.insertText(e)},isBlock(t,e){return t.isBlock(e)},isEdge(t,e,n){return t.isEdge(e,n)},isEditor(t){return pa(t)},isElementReadOnly(t,e){return t.isElementReadOnly(e)},isEmpty(t,e){return t.isEmpty(e)},isEnd(t,e,n){return t.isEnd(e,n)},isInline(t,e){return t.isInline(e)},isNormalizing(t){return t.isNormalizing()},isSelectable(t,e){return t.isSelectable(e)},isStart(t,e,n){return t.isStart(e,n)},isVoid(t,e){return t.isVoid(e)},last(t,e){return t.last(e)},leaf(t,e,n){return t.leaf(e,n)},levels(t,e){return t.levels(e)},marks(t){return t.getMarks()},next(t,e){return t.next(e)},node(t,e,n){return t.node(e,n)},nodes(t,e){return t.nodes(e)},normalize(t,e){t.normalize(e)},parent(t,e,n){return t.parent(e,n)},path(t,e,n){return t.path(e,n)},pathRef(t,e,n){return t.pathRef(e,n)},pathRefs(t){return t.pathRefs()},point(t,e,n){return t.point(e,n)},pointRef(t,e,n){return t.pointRef(e,n)},pointRefs(t){return t.pointRefs()},positions(t,e){return t.positions(e)},previous(t,e){return t.previous(e)},range(t,e,n){return t.range(e,n)},rangeRef(t,e,n){return t.rangeRef(e,n)},rangeRefs(t){return t.rangeRefs()},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){t.setNormalizing(e)},start(t,e){return t.start(e)},string(t,e,n){return t.string(e,n)},unhangRange(t,e,n){return t.unhangRange(e,n)},void(t,e){return t.void(e)},withoutNormalizing(t,e){t.withoutNormalizing(e)}},Oa={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(v.isPath)}};function Nr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Q={compare(t,e){var n=v.compare(t.path,e.path);return n===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:n},isAfter(t,e){return Q.compare(t,e)===1},isBefore(t,e){return Q.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&v.equals(t.path,e.path)},isPoint(t){return Pe(t)&&typeof t.offset=="number"&&v.isPath(t.path)},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Hn(t,u=>{if(u===null)return null;var{affinity:r="forward"}=n,{path:i,offset:a}=u;switch(e.type){case"insert_node":case"move_node":{u.path=v.transform(i,e,n);break}case"insert_text":{v.equals(e.path,i)&&(e.offset<a||e.offset===a&&r==="forward")&&(u.offset+=e.text.length);break}case"merge_node":{v.equals(e.path,i)&&(u.offset+=e.position),u.path=v.transform(i,e,n);break}case"remove_text":{v.equals(e.path,i)&&e.offset<=a&&(u.offset-=Math.min(a-e.offset,e.text.length));break}case"remove_node":{if(v.equals(e.path,i)||v.isAncestor(e.path,i))return null;u.path=v.transform(i,e,n);break}case"split_node":{if(v.equals(e.path,i)){if(e.position===a&&r==null)return null;(e.position<a||e.position===a&&r==="forward")&&(u.offset-=e.position,u.path=v.transform(i,e,Sr(Sr({},n),{},{affinity:"forward"})))}else u.path=v.transform(i,e,n);break}}})}},Ir=void 0,ze={setScrubber(t){Ir=t},stringify(t){return JSON.stringify(t,Ir)}},ya=["text"],_a=["anchor","focus"];function Tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var V={equals(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:u=!1}=n;function r(i){var a=at(i,ya);return a}return qu(u?r(t):t,u?r(e):e)},isText(t){return Pe(t)&&typeof t.text=="string"},isTextList(t){return Array.isArray(t)&&t.every(e=>V.isText(e))},isTextProps(t){return t.text!==void 0},matches(t,e){for(var n in e)if(n!=="text"&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;return!0},decorations(t,e){var n=[rt({},t)];for(var u of e){var r=at(u,_a),[i,a]=p.edges(u),l=[],s=0,o=i.offset,f=a.offset;for(var d of n){var{length:c}=d.text,D=s;if(s+=c,o<=D&&s<=f){Object.assign(d,r),l.push(d);continue}if(o!==f&&(o===s||f===D)||o>s||f<D||f===D&&D!==0){l.push(d);continue}var m=d,E=void 0,F=void 0;if(f<s){var A=f-D;F=rt(rt({},m),{},{text:m.text.slice(A)}),m=rt(rt({},m),{},{text:m.text.slice(0,A)})}if(o>D){var b=o-D;E=rt(rt({},m),{},{text:m.text.slice(0,b)}),m=rt(rt({},m),{},{text:m.text.slice(b)})}Object.assign(m,r),E&&l.push(E),l.push(m),F&&l.push(F)}n=l}return n}},Kn=t=>t.selection?t.selection:t.children.length>0?h.end(t,[]):[0],_t=(t,e)=>{var[n]=h.node(t,e);return u=>u===n},Yn=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=!n,r=n?Ra(e):e,i=H.None,a=H.None,l=0,s=null,o=null;for(var f of r){var d=f.codePointAt(0);if(!d)break;var c=Ua(f,d);if([i,a]=u?[a,c]:[c,i],Ft(i,H.ZWJ)&&Ft(a,H.ExtPict)&&(u?s=Rr(e.substring(0,l)):s=Rr(e.substring(0,e.length-l)),!s)||Ft(i,H.RI)&&Ft(a,H.RI)&&(o!==null?o=!o:u?o=!0:o=Qa(e.substring(0,e.length-l)),!o)||i!==H.None&&a!==H.None&&Xa(i,a))break;l+=f.length}return l||1},Pa=/\s/,Na=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Sa=/['\u2018\u2019]/,Ia=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=0,r=!1;e.length>0;){var i=Yn(e,n),[a,l]=Un(e,i,n);if(Ta(a,l,n))r=!0,u+=i;else if(!r)u+=i;else break;e=l}return u},Un=(t,e,n)=>{if(n){var u=t.length-e;return[t.slice(u,t.length),t.slice(0,u)]}return[t.slice(0,e),t.slice(e)]},Ta=function t(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Pa.test(e))return!1;if(Sa.test(e)){var r=Yn(n,u),[i,a]=Un(n,r,u);if(t(i,a,u))return!0}return!Na.test(e)},Ra=function*(e){for(var n=e.length-1,u=0;u<e.length;u++){var r=e.charAt(n-u);if(ka(r.charCodeAt(0))){var i=e.charAt(n-u-1);if(ja(i.charCodeAt(0))){yield i+r,u++;continue}}yield r}},ja=t=>t>=55296&&t<=56319,ka=t=>t>=56320&&t<=57343,H;(function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"})(H||(H={}));var La=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Va=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Ma=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,qa=/^[\u1100-\u115F\uA960-\uA97C]$/,za=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Wa=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Ha=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Ka=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Ya=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Ua=(t,e)=>{var n=H.Any;return t.search(La)!==-1&&(n|=H.Extend),e===8205&&(n|=H.ZWJ),e>=127462&&e<=127487&&(n|=H.RI),t.search(Va)!==-1&&(n|=H.Prepend),t.search(Ma)!==-1&&(n|=H.SpacingMark),t.search(qa)!==-1&&(n|=H.L),t.search(za)!==-1&&(n|=H.V),t.search(Wa)!==-1&&(n|=H.T),t.search(Ha)!==-1&&(n|=H.LV),t.search(Ka)!==-1&&(n|=H.LVT),t.search(Ya)!==-1&&(n|=H.ExtPict),n};function Ft(t,e){return(t&e)!==0}var Ga=[[H.L,H.L|H.V|H.LV|H.LVT],[H.LV|H.V,H.V|H.T],[H.LVT|H.T,H.T],[H.Any,H.Extend|H.ZWJ],[H.Any,H.SpacingMark],[H.Prepend,H.Any],[H.ZWJ,H.ExtPict],[H.RI,H.RI]];function Xa(t,e){return Ga.findIndex(n=>Ft(t,n[0])&&Ft(e,n[1]))===-1}var Ja=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Rr=t=>t.search(Ja)!==-1,Za=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Qa=t=>{var e=t.match(Za);if(e===null)return!1;var n=e[0].length/2;return n%2===1},xa={delete(t,e){t.delete(e)},insertFragment(t,e,n){t.insertFragment(e,n)},insertText(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(t,()=>{var{voids:u=!1}=n,{at:r=Kn(t)}=n;if(v.isPath(r)&&(r=h.range(t,r)),p.isRange(r))if(p.isCollapsed(r))r=r.anchor;else{var i=p.end(r);if(!u&&h.void(t,{at:i}))return;var a=p.start(r),l=h.pointRef(t,a),s=h.pointRef(t,i);O.delete(t,{at:r,voids:u});var o=l.unref(),f=s.unref();r=o||f,O.setSelection(t,{anchor:r,focus:r})}if(!(!u&&h.void(t,{at:r})||h.elementReadOnly(t,{at:r}))){var{path:d,offset:c}=r;e.length>0&&t.apply({type:"insert_text",path:d,offset:c,text:e})}})}};function jr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var O=Wt(Wt(Wt(Wt({},Ca),va),Ba),xa),$a=(t,e)=>{for(var n of h.pathRefs(t))ha.transform(n,e);for(var u of h.pointRefs(t))Da.transform(u,e);for(var r of h.rangeRefs(t))ga.transform(r,e);var i=Zt.get(t)||[],a=Qt.get(t)||new Set,l,s,o=m=>{if(m){var E=m.join(",");s.has(E)||(s.add(E),l.push(m))}};if(v.operationCanTransformPath(e)){l=[],s=new Set;for(var f of i){var d=v.transform(f,e);o(d)}}else l=i,s=a;var c=t.getDirtyPaths(e);for(var D of c)o(D);Zt.set(t,l),Qt.set(t,s),O.transform(t,e),t.operations.push(e),h.normalize(t,{operation:e}),e.type==="set_selection"&&(t.marks=null),kt.get(t)||(kt.set(t,!0),Promise.resolve().then(()=>{kt.set(t,!1),t.onChange({operation:e}),t.operations=[]}))},es=(t,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=e;return v.levels(n)}case"insert_node":{var{node:u,path:r}=e,i=v.levels(r),a=V.isText(u)?[]:Array.from(_.nodes(u),Y=>{var[,$]=Y;return r.concat($)});return[...i,...a]}case"merge_node":{var{path:l}=e,s=v.ancestors(l),o=v.previous(l);return[...s,o]}case"move_node":{var{path:f,newPath:d}=e;if(v.equals(f,d))return[];var c=[],D=[];for(var m of v.ancestors(f)){var E=v.transform(m,e);c.push(E)}for(var F of v.ancestors(d)){var A=v.transform(F,e);D.push(A)}var b=D[D.length-1],w=d[d.length-1],P=b.concat(w);return[...c,...D,P]}case"remove_node":{var{path:y}=e,R=v.ancestors(y);return[...R]}case"split_node":{var{path:j}=e,g=v.levels(j),K=v.next(j);return[...g,K]}default:return[]}},ts=t=>{var{selection:e}=t;return e?_.fragment(t,e):[]},ns=(t,e)=>{var[n,u]=e;if(!V.isText(n)){if(L.isElement(n)&&n.children.length===0){var r={text:""};O.insertNodes(t,r,{at:u.concat(0),voids:!0});return}for(var i=h.isEditor(n)?!1:L.isElement(n)&&(t.isInline(n)||n.children.length===0||V.isText(n.children[0])||t.isInline(n.children[0])),a=0,l=0;l<n.children.length;l++,a++){var s=_.get(t,u);if(!V.isText(s)){var o=s.children[a],f=s.children[a-1],d=l===n.children.length-1,c=V.isText(o)||L.isElement(o)&&t.isInline(o);if(c!==i)O.removeNodes(t,{at:u.concat(a),voids:!0}),a--;else if(L.isElement(o)){if(t.isInline(o)){if(f==null||!V.isText(f)){var D={text:""};O.insertNodes(t,D,{at:u.concat(a),voids:!0}),a++}else if(d){var m={text:""};O.insertNodes(t,m,{at:u.concat(a+1),voids:!0}),a++}}}else f!=null&&V.isText(f)&&(V.equals(o,f,{loose:!0})?(O.mergeNodes(t,{at:u.concat(a),voids:!0}),a--):f.text===""?(O.removeNodes(t,{at:u.concat(a-1),voids:!0}),a--):o.text===""&&(O.removeNodes(t,{at:u.concat(a),voids:!0}),a--))}}}},rs=(t,e)=>{var{iteration:n,initialDirtyPathsLength:u}=e,r=u*42;if(n>r)throw new Error("Could not completely normalize the editor after ".concat(r," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},us=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:u=!1,mode:r="lowest",at:i=e.selection,match:a}=n;if(i){var l=h.path(e,i),s=r==="lowest";for(var[o,f]of h.levels(e,{at:l,voids:u,match:a,reverse:s}))if(!V.isText(o)){if(p.isRange(i)){if(v.isAncestor(f,i.anchor.path)&&v.isAncestor(f,i.focus.path))return[o,f]}else if(!v.equals(l,f))return[o,f]}}};function kr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var is=(t,e,n)=>{var{selection:u}=t;if(u){var r=(d,c)=>{if(!V.isText(d))return!1;var[D,m]=h.parent(t,c);return!t.isVoid(D)||t.markableVoid(D)},i=p.isExpanded(u),a=!1;if(!i){var[l,s]=h.node(t,u);if(l&&r(l,s)){var[o]=h.parent(t,s);a=o&&t.markableVoid(o)}}if(i||a)O.setNodes(t,{[e]:n},{match:r,split:!0,voids:!0});else{var f=Lr(Lr({},h.marks(t)||{}),{},{[e]:n});t.marks=f,kt.get(t)||t.onChange()}}};function Vr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var as=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=h.point(e,n,{edge:"end"}),i=h.end(e,[]),a={anchor:r,focus:i},{distance:l=1}=u,s=0,o;for(var f of h.positions(e,Mr(Mr({},u),{},{at:a}))){if(s>l)break;s!==0&&(o=f),s++}return o};function qr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var ss=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=h.start(e,[]),i=h.point(e,n,{edge:"start"}),a={anchor:r,focus:i},{distance:l=1}=u,s=0,o;for(var f of h.positions(e,zr(zr({},u),{},{at:a,reverse:!0}))){if(s>l)break;s!==0&&(o=f),s++}return o},ls=(t,e)=>{var{selection:n}=t;n&&p.isCollapsed(n)&&O.delete(t,{unit:e,reverse:!0})},os=(t,e)=>{var{selection:n}=t;n&&p.isCollapsed(n)&&O.delete(t,{unit:e})},fs=function(e){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:u}=e;u&&p.isExpanded(u)&&O.delete(e,{reverse:n==="backward"})},cs=(t,e)=>[h.start(t,e),h.end(t,e)];function Wr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var ds=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return h.above(e,Hr(Hr({},n),{},{match:u=>L.isElement(u)&&h.isElementReadOnly(e,u)}))},hs=(t,e)=>h.point(t,e,{edge:"end"}),Ds=(t,e)=>{var n=h.path(t,e,{edge:"start"});return h.node(t,n)},gs=(t,e)=>{var n=h.range(t,e);return _.fragment(t,n)};function Kr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var ms=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return h.above(e,Yr(Yr({},n),{},{match:u=>L.isElement(u)&&h.isVoid(e,u)}))},Cs=(t,e)=>e.children.some(n=>L.isElement(n)&&h.isBlock(t,n)),vs=(t,e)=>e.children.some(n=>V.isText(n)||h.isInline(t,n)),Bs=(t,e)=>_.has(t,e),Es=(t,e)=>e.children.every(n=>V.isText(n)),As=t=>{O.splitNodes(t,{always:!0})},Fs=(t,e,n)=>{O.insertNodes(t,e,n)},bs=t=>{O.splitNodes(t,{always:!0})};function Ur(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ur(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var ps=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:r,marks:i}=e;if(r){if(i){var a=ws({text:n},i);O.insertNodes(e,a,{at:u.at,voids:u.voids})}else O.insertText(e,n,u);e.marks=null}},Os=(t,e)=>!t.isInline(e),ys=(t,e,n)=>h.isStart(t,e,n)||h.isEnd(t,e,n),_s=(t,e)=>{var{children:n}=e,[u]=n;return n.length===0||n.length===1&&V.isText(u)&&u.text===""&&!t.isVoid(e)},Ps=(t,e,n)=>{var u=h.end(t,n);return Q.equals(e,u)},Ns=t=>{var e=Mu.get(t);return e===void 0?!0:e},Ss=(t,e,n)=>{if(e.offset!==0)return!1;var u=h.start(t,n);return Q.equals(e,u)},Is=(t,e)=>{var n=h.path(t,e,{edge:"end"});return h.node(t,n)},Ts=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=h.path(e,n,u),i=_.leaf(e,r);return[i,r]};function*Rs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,reverse:u=!1,voids:r=!1}=e,{match:i}=e;if(i==null&&(i=()=>!0),!!n){var a=[],l=h.path(t,n);for(var[s,o]of _.levels(t,l))if(i(s,o)&&(a.push([s,o]),!r&&L.isElement(s)&&h.isVoid(t,s)))break;u&&a.reverse(),yield*a}}var js=["text"],ks=["text"],Ls=function(e){var{marks:n,selection:u}=e;if(!u)return null;if(n)return n;if(p.isExpanded(u)){var[r]=h.nodes(e,{match:V.isText});if(r){var[i]=r,a=at(i,js);return a}else return{}}var{anchor:l}=u,{path:s}=l,[o]=h.leaf(e,s);if(l.offset===0){var f=h.previous(e,{at:s,match:V.isText}),d=h.above(e,{match:A=>L.isElement(A)&&h.isVoid(e,A)&&e.markableVoid(A)});if(!d){var c=h.above(e,{match:A=>L.isElement(A)&&h.isBlock(e,A)});if(f&&c){var[D,m]=f,[,E]=c;v.isAncestor(E,m)&&(o=D)}}}var F=at(o,ks);return F},Vs=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:u="lowest",voids:r=!1}=n,{match:i,at:a=e.selection}=n;if(a){var l=h.after(e,a,{voids:r});if(l){var[,s]=h.last(e,[]),o=[l.path,s];if(v.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(v.isPath(a)){var[f]=h.parent(e,a);i=c=>f.children.includes(c)}else i=()=>!0;var[d]=h.nodes(e,{at:o,match:i,mode:u,voids:r});return d}}},Ms=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=h.path(e,n,u),i=_.get(e,r);return[i,r]};function*qs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,mode:u="all",universal:r=!1,reverse:i=!1,voids:a=!1,ignoreNonSelectable:l=!1}=e,{match:s}=e;if(s||(s=()=>!0),!!n){var o,f;if(Oa.isSpan(n))o=n[0],f=n[1];else{var d=h.path(t,n,{edge:"start"}),c=h.path(t,n,{edge:"end"});o=i?c:d,f=i?d:c}var D=_.nodes(t,{reverse:i,from:o,to:f,pass:P=>{var[y]=P;return L.isElement(y)?!!(!a&&(h.isVoid(t,y)||h.isElementReadOnly(t,y))||l&&!h.isSelectable(t,y)):!1}}),m=[],E;for(var[F,A]of D)if(!(l&&L.isElement(F)&&!h.isSelectable(t,F))){var b=E&&v.compare(A,E[1])===0;if(!(u==="highest"&&b)){if(!s(F,A)){if(r&&!b&&V.isText(F))return;continue}if(u==="lowest"&&b){E=[F,A];continue}var w=u==="lowest"?E:[F,A];w&&(r?m.push(w):yield w),E=[F,A]}}u==="lowest"&&E&&(r?m.push(E):yield E),r&&(yield*m)}}var zs=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:u=!1,operation:r}=n,i=f=>Zt.get(f)||[],a=f=>Qt.get(f)||new Set,l=f=>{var d=i(f).pop(),c=d.join(",");return a(f).delete(c),d};if(h.isNormalizing(e)){if(u){var s=Array.from(_.nodes(e),f=>{var[,d]=f;return d}),o=new Set(s.map(f=>f.join(",")));Zt.set(e,s),Qt.set(e,o)}i(e).length!==0&&h.withoutNormalizing(e,()=>{for(var f of i(e))if(_.has(e,f)){var d=h.node(e,f),[c,D]=d;L.isElement(c)&&c.children.length===0&&e.normalizeNode(d,{operation:r})}for(var m=i(e),E=m.length,F=0;m.length!==0;){if(!e.shouldNormalize({dirtyPaths:m,iteration:F,initialDirtyPathsLength:E,operation:r}))return;var A=l(e);if(_.has(e,A)){var b=h.node(e,A);e.normalizeNode(b,{operation:r})}F++,m=i(e)}})}},Ws=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=h.path(e,n,u),i=v.parent(r),a=h.node(e,i);return a},Hs=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=u,i={current:n,affinity:r,unref(){var{current:l}=i,s=h.pathRefs(e);return s.delete(i),i.current=null,l}},a=h.pathRefs(e);return a.add(i),i},Ks=t=>{var e=Ar.get(t);return e||(e=new Set,Ar.set(t,e)),e},Ys=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:r,edge:i}=u;if(v.isPath(n)){if(i==="start"){var[,a]=_.first(e,n);n=a}else if(i==="end"){var[,l]=_.last(e,n);n=l}}return p.isRange(n)&&(i==="start"?n=p.start(n):i==="end"?n=p.end(n):n=v.common(n.anchor.path,n.focus.path)),Q.isPoint(n)&&(n=n.path),r!=null&&(n=n.slice(0,r)),n},Us=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=u,i={current:n,affinity:r,unref(){var{current:l}=i,s=h.pointRefs(e);return s.delete(i),i.current=null,l}},a=h.pointRefs(e);return a.add(i),i},Gs=t=>{var e=Fr.get(t);return e||(e=new Set,Fr.set(t,e)),e},Xs=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:r="start"}=u;if(v.isPath(n)){var i;if(r==="end"){var[,a]=_.last(e,n);i=a}else{var[,l]=_.first(e,n);i=l}var s=_.get(e,i);if(!V.isText(s))throw new Error("Cannot get the ".concat(r," point in the node at path [").concat(n,"] because it has no ").concat(r," text node."));return{path:i,offset:r==="end"?s.text.length:0}}if(p.isRange(n)){var[o,f]=p.edges(n);return r==="start"?o:f}return n};function*Js(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,unit:u="offset",reverse:r=!1,voids:i=!1,ignoreNonSelectable:a=!1}=e;if(!n)return;var l=h.range(t,n),[s,o]=p.edges(l),f=r?o:s,d=!1,c="",D=0,m=0,E=0;for(var[F,A]of h.nodes(t,{at:n,reverse:r,voids:i,ignoreNonSelectable:a})){if(L.isElement(F)){if(!i&&(t.isVoid(F)||t.isElementReadOnly(F))){yield h.start(t,A);continue}if(t.isInline(F))continue;if(h.hasInlines(t,F)){var b=v.isAncestor(A,o.path)?o:h.end(t,A),w=v.isAncestor(A,s.path)?s:h.start(t,A);c=h.string(t,{anchor:w,focus:b},{voids:i}),d=!0}}if(V.isText(F)){var P=v.equals(A,f.path);for(P?(m=r?f.offset:F.text.length-f.offset,E=f.offset):(m=F.text.length,E=r?m:0),(P||d||u==="offset")&&(yield{path:A,offset:E},d=!1);;){if(D===0){if(c==="")break;D=y(c,u,r),c=Un(c,D,r)[1]}if(E=r?E-D:E+D,m=m-D,m<0){D=-m;break}D=0,yield{path:A,offset:E}}}}function y(R,j,g){return j==="character"?Yn(R,g):j==="word"?Ia(R,g):j==="line"||j==="block"?R.length:1}}var Zs=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:u="lowest",voids:r=!1}=n,{match:i,at:a=e.selection}=n;if(a){var l=h.before(e,a,{voids:r});if(l){var[,s]=h.first(e,[]),o=[l.path,s];if(v.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(v.isPath(a)){var[f]=h.parent(e,a);i=c=>f.children.includes(c)}else i=()=>!0;var[d]=h.nodes(e,{reverse:!0,at:o,match:i,mode:u,voids:r});return d}}},Qs=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=u,i={current:n,affinity:r,unref(){var{current:l}=i,s=h.rangeRefs(e);return s.delete(i),i.current=null,l}},a=h.rangeRefs(e);return a.add(i),i},xs=t=>{var e=br.get(t);return e||(e=new Set,br.set(t,e)),e},$s=(t,e,n)=>{if(p.isRange(e)&&!n)return e;var u=h.start(t,e),r=h.end(t,n||e);return{anchor:u,focus:r}};function Gr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function el(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var tl=(t,e)=>{var{selection:n}=t;if(n){var u=(f,d)=>{if(!V.isText(f))return!1;var[c,D]=h.parent(t,d);return!t.isVoid(c)||t.markableVoid(c)},r=p.isExpanded(n),i=!1;if(!r){var[a,l]=h.node(t,n);if(a&&u(a,l)){var[s]=h.parent(t,l);i=s&&t.markableVoid(s)}}if(r||i)O.unsetNodes(t,e,{match:u,split:!0,voids:!0});else{var o=el({},h.marks(t)||{});delete o[e],t.marks=o,kt.get(t)||t.onChange()}}},nl=(t,e)=>{Mu.set(t,e)},rl=(t,e)=>h.point(t,e,{edge:"start"}),ul=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:r=!1}=u,i=h.range(e,n),[a,l]=p.edges(i),s="";for(var[o,f]of h.nodes(e,{at:i,match:V.isText,voids:r})){var d=o.text;v.equals(f,l.path)&&(d=d.slice(0,l.offset)),v.equals(f,a.path)&&(d=d.slice(a.offset)),s+=d}return s},il=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:r=!1}=u,[i,a]=p.edges(n);if(i.offset!==0||a.offset!==0||p.isCollapsed(n)||v.hasPrevious(a.path))return n;var l=h.above(e,{at:a,match:m=>L.isElement(m)&&h.isBlock(e,m),voids:r}),s=l?l[1]:[],o=h.start(e,i),f={anchor:o,focus:a},d=!0;for(var[c,D]of h.nodes(e,{at:f,match:V.isText,reverse:!0,voids:r})){if(d){d=!1;continue}if(c.text!==""||v.isBefore(D,s)){a={path:D,offset:c.text.length};break}}return{anchor:i,focus:a}},al=(t,e)=>{var n=h.isNormalizing(t);h.setNormalizing(t,!1);try{e()}finally{h.setNormalizing(t,n)}h.normalize(t)},sl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var u,r,{reverse:i=!1,unit:a="character",distance:l=1,voids:s=!1}=n,{at:o=e.selection,hanging:f=!1}=n;if(o){var d=!1;if(p.isRange(o)&&p.isCollapsed(o)&&(d=!0,o=o.anchor),Q.isPoint(o)){var c=h.void(e,{at:o,mode:"highest"});if(!s&&c){var[,D]=c;o=D}else{var m={unit:a,distance:l},E=i?h.before(e,o,m)||h.start(e,[]):h.after(e,o,m)||h.end(e,[]);o={anchor:o,focus:E},f=!0}}if(v.isPath(o)){O.removeNodes(e,{at:o,voids:s});return}if(!p.isCollapsed(o)){if(!f){var[,F]=p.edges(o),A=h.end(e,[]);Q.equals(F,A)||(o=h.unhangRange(e,o,{voids:s}))}var[b,w]=p.edges(o),P=h.above(e,{match:_e=>L.isElement(_e)&&h.isBlock(e,_e),at:b,voids:s}),y=h.above(e,{match:_e=>L.isElement(_e)&&h.isBlock(e,_e),at:w,voids:s}),R=P&&y&&!v.equals(P[1],y[1]),j=v.equals(b.path,w.path),g=s?null:(u=h.void(e,{at:b,mode:"highest"}))!==null&&u!==void 0?u:h.elementReadOnly(e,{at:b,mode:"highest"}),K=s?null:(r=h.void(e,{at:w,mode:"highest"}))!==null&&r!==void 0?r:h.elementReadOnly(e,{at:w,mode:"highest"});if(g){var Y=h.before(e,b);Y&&P&&v.isAncestor(P[1],Y.path)&&(b=Y)}if(K){var $=h.after(e,w);$&&y&&v.isAncestor(y[1],$.path)&&(w=$)}var De=[],M;for(var me of h.nodes(e,{at:o,voids:s})){var[pe,T]=me;M&&v.compare(T,M)===0||(!s&&L.isElement(pe)&&(h.isVoid(e,pe)||h.isElementReadOnly(e,pe))||!v.isCommon(T,b.path)&&!v.isCommon(T,w.path))&&(De.push(me),M=T)}var ye=Array.from(De,_e=>{var[,Pt]=_e;return h.pathRef(e,Pt)}),Fe=h.pointRef(e,b),se=h.pointRef(e,w),Be="";if(!j&&!g){var Ie=Fe.current,[be]=h.leaf(e,Ie),{path:Ke}=Ie,{offset:U}=b,oe=be.text.slice(U);oe.length>0&&(e.apply({type:"remove_text",path:Ke,offset:U,text:oe}),Be=oe)}if(ye.reverse().map(_e=>_e.unref()).filter(_e=>_e!==null).forEach(_e=>O.removeNodes(e,{at:_e,voids:s})),!K){var ge=se.current,[Me]=h.leaf(e,ge),{path:Ye}=ge,Ze=j?b.offset:0,$e=Me.text.slice(Ze,w.offset);$e.length>0&&(e.apply({type:"remove_text",path:Ye,offset:Ze,text:$e}),Be=$e)}!j&&R&&se.current&&Fe.current&&O.mergeNodes(e,{at:se.current,hanging:!0,voids:s}),d&&i&&a==="character"&&Be.length>1&&Be.match(/[\u0E00-\u0E7F]+/)&&O.insertText(e,Be.slice(0,Be.length-l));var et=Fe.unref(),tt=se.unref(),st=i?et||tt:tt||et;n.at==null&&st&&O.select(e,st)}}})},ll=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:i=!1}=u,{at:a=Kn(e)}=u;if(n.length){if(p.isRange(a))if(r||(a=h.unhangRange(e,a,{voids:i})),p.isCollapsed(a))a=a.anchor;else{var[,l]=p.edges(a);if(!i&&h.void(e,{at:l}))return;var s=h.pointRef(e,l);O.delete(e,{at:a}),a=s.unref()}else v.isPath(a)&&(a=h.start(e,a));if(!(!i&&h.void(e,{at:a}))){var o=h.above(e,{at:a,match:U=>L.isElement(U)&&h.isInline(e,U),mode:"highest",voids:i});if(o){var[,f]=o;if(h.isEnd(e,a,f)){var d=h.after(e,f);a=d}else if(h.isStart(e,a,f)){var c=h.before(e,f);a=c}}var D=h.above(e,{match:U=>L.isElement(U)&&h.isBlock(e,U),at:a,voids:i}),[,m]=D,E=h.isStart(e,a,m),F=h.isEnd(e,a,m),A=E&&F,b=!E||E&&F,w=!F,[,P]=_.first({children:n},[]),[,y]=_.last({children:n},[]),R=[],j=U=>{var[oe,ge]=U,Me=ge.length===0;return Me?!1:A?!0:!(b&&v.isAncestor(ge,P)&&L.isElement(oe)&&!e.isVoid(oe)&&!e.isInline(oe)||w&&v.isAncestor(ge,y)&&L.isElement(oe)&&!e.isVoid(oe)&&!e.isInline(oe))};for(var g of _.nodes({children:n},{pass:j}))j(g)&&R.push(g);var K=[],Y=[],$=[],De=!0,M=!1;for(var[me]of R)L.isElement(me)&&!e.isInline(me)?(De=!1,M=!0,Y.push(me)):De?K.push(me):$.push(me);var[pe]=h.nodes(e,{at:a,match:U=>V.isText(U)||h.isInline(e,U),mode:"highest",voids:i}),[,T]=pe,ye=h.isStart(e,a,T),Fe=h.isEnd(e,a,T),se=h.pathRef(e,F&&!$.length?v.next(m):m),Be=h.pathRef(e,Fe?v.next(T):T);O.splitNodes(e,{at:a,match:U=>M?L.isElement(U)&&h.isBlock(e,U):V.isText(U)||h.isInline(e,U),mode:M?"lowest":"highest",always:M&&(!E||K.length>0)&&(!F||$.length>0),voids:i});var Ie=h.pathRef(e,!ye||ye&&Fe?v.next(T):T);if(O.insertNodes(e,K,{at:Ie.current,match:U=>V.isText(U)||h.isInline(e,U),mode:"highest",voids:i}),A&&!K.length&&Y.length&&!$.length&&O.delete(e,{at:m,voids:i}),O.insertNodes(e,Y,{at:se.current,match:U=>L.isElement(U)&&h.isBlock(e,U),mode:"lowest",voids:i}),O.insertNodes(e,$,{at:Be.current,match:U=>V.isText(U)||h.isInline(e,U),mode:"highest",voids:i}),!u.at){var be;if($.length>0&&Be.current?be=v.previous(Be.current):Y.length>0&&se.current?be=v.previous(se.current):Ie.current&&(be=v.previous(Ie.current)),be){var Ke=h.end(e,be);O.select(e,Ke)}}Ie.unref(),se.unref(),Be.unref()}}})},ol=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:u="anchor"}=n,{selection:r}=e;if(r){if(u==="anchor")O.select(e,r.anchor);else if(u==="focus")O.select(e,r.focus);else if(u==="start"){var[i]=p.edges(r);O.select(e,i)}else if(u==="end"){var[,a]=p.edges(r);O.select(e,a)}}else return},fl=t=>{var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},cl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:u}=e,{distance:r=1,unit:i="character",reverse:a=!1}=n,{edge:l=null}=n;if(u){l==="start"&&(l=p.isBackward(u)?"focus":"anchor"),l==="end"&&(l=p.isBackward(u)?"anchor":"focus");var{anchor:s,focus:o}=u,f={distance:r,unit:i,ignoreNonSelectable:!0},d={};if(l==null||l==="anchor"){var c=a?h.before(e,s,f):h.after(e,s,f);c&&(d.anchor=c)}if(l==null||l==="focus"){var D=a?h.before(e,o,f):h.after(e,o,f);D&&(d.focus=D)}O.setSelection(e,d)}},dl=(t,e)=>{var{selection:n}=t;if(e=h.range(t,e),n){O.setSelection(t,e);return}if(!p.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(ze.stringify(e)));t.apply({type:"set_selection",properties:n,newProperties:e})};function Xr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var hl=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:r}=e,{edge:i="both"}=u;if(r){i==="start"&&(i=p.isBackward(r)?"focus":"anchor"),i==="end"&&(i=p.isBackward(r)?"anchor":"focus");var{anchor:a,focus:l}=r,s=i==="anchor"?a:l;O.setSelection(e,{[i==="anchor"?"anchor":"focus"]:Jr(Jr({},s),n)})}},Dl=(t,e)=>{var{selection:n}=t,u={},r={};if(n){for(var i in e)(i==="anchor"&&e.anchor!=null&&!Q.equals(e.anchor,n.anchor)||i==="focus"&&e.focus!=null&&!Q.equals(e.focus,n.focus)||i!=="anchor"&&i!=="focus"&&e[i]!==n[i])&&(u[i]=n[i],r[i]=e[i]);Object.keys(u).length>0&&t.apply({type:"set_selection",properties:u,newProperties:r})}},gl=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:i=!1,mode:a="lowest"}=u,{at:l,match:s,select:o}=u;if(_.isNode(n)&&(n=[n]),n.length!==0){var[f]=n;if(l||(l=Kn(e),o=!0),o==null&&(o=!1),p.isRange(l))if(r||(l=h.unhangRange(e,l,{voids:i})),p.isCollapsed(l))l=l.anchor;else{var[,d]=p.edges(l),c=h.pointRef(e,d);O.delete(e,{at:l}),l=c.unref()}if(Q.isPoint(l)){s==null&&(V.isText(f)?s=j=>V.isText(j):e.isInline(f)?s=j=>V.isText(j)||h.isInline(e,j):s=j=>L.isElement(j)&&h.isBlock(e,j));var[D]=h.nodes(e,{at:l.path,match:s,mode:a,voids:i});if(D){var[,m]=D,E=h.pathRef(e,m),F=h.isEnd(e,l,m);O.splitNodes(e,{at:l,match:s,mode:a,voids:i});var A=E.unref();l=F?v.next(A):A}else return}var b=v.parent(l),w=l[l.length-1];if(!(!i&&h.void(e,{at:b}))){for(var P of n){var y=b.concat(w);w++,e.apply({type:"insert_node",path:y,node:P}),l=v.next(l)}if(l=v.previous(l),o){var R=h.end(e,l);R&&O.select(e,R)}}}})},ml=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{at:u=e.selection,mode:r="lowest",voids:i=!1}=n,{match:a}=n;if(a==null&&(a=v.isPath(u)?_t(e,u):P=>L.isElement(P)&&h.isBlock(e,P)),!!u){var l=h.nodes(e,{at:u,match:a,mode:r,voids:i}),s=Array.from(l,P=>{var[,y]=P;return h.pathRef(e,y)});for(var o of s){var f=o.unref();if(f.length<2)throw new Error("Cannot lift node at a path [".concat(f,"] because it has a depth of less than `2`."));var d=h.node(e,v.parent(f)),[c,D]=d,m=f[f.length-1],{length:E}=c.children;if(E===1){var F=v.next(D);O.moveNodes(e,{at:f,to:F,voids:i}),O.removeNodes(e,{at:D,voids:i})}else if(m===0)O.moveNodes(e,{at:f,to:D,voids:i});else if(m===E-1){var A=v.next(D);O.moveNodes(e,{at:f,to:A,voids:i})}else{var b=v.next(f),w=v.next(D);O.splitNodes(e,{at:b,voids:i}),O.moveNodes(e,{at:f,to:w,voids:i})}}}})},Cl=["text"],vl=["children"],zu=(t,e)=>{if(L.isElement(e)){var n=e;return h.isVoid(t,e)?!0:n.children.length===1?zu(t,n.children[0]):!1}else return!h.isEditor(e)},Bl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{match:u,at:r=e.selection}=n,{hanging:i=!1,voids:a=!1,mode:l="lowest"}=n;if(r){if(u==null)if(v.isPath(r)){var[s]=h.parent(e,r);u=Y=>s.children.includes(Y)}else u=Y=>L.isElement(Y)&&h.isBlock(e,Y);if(!i&&p.isRange(r)&&(r=h.unhangRange(e,r,{voids:a})),p.isRange(r))if(p.isCollapsed(r))r=r.anchor;else{var[,o]=p.edges(r),f=h.pointRef(e,o);O.delete(e,{at:r}),r=f.unref(),n.at==null&&O.select(e,r)}var[d]=h.nodes(e,{at:r,match:u,voids:a,mode:l}),c=h.previous(e,{at:r,match:u,voids:a,mode:l});if(!(!d||!c)){var[D,m]=d,[E,F]=c;if(!(m.length===0||F.length===0)){var A=v.next(F),b=v.common(m,F),w=v.isSibling(m,F),P=Array.from(h.levels(e,{at:m}),Y=>{var[$]=Y;return $}).slice(b.length).slice(0,-1),y=h.above(e,{at:m,mode:"highest",match:Y=>P.includes(Y)&&zu(e,Y)}),R=y&&h.pathRef(e,y[1]),j,g;if(V.isText(D)&&V.isText(E)){var K=at(D,Cl);g=E.text.length,j=K}else if(L.isElement(D)&&L.isElement(E)){var K=at(D,vl);g=E.children.length,j=K}else throw new Error("Cannot merge the node at path [".concat(m,"] with the previous sibling because it is not the same kind: ").concat(ze.stringify(D)," ").concat(ze.stringify(E)));w||O.moveNodes(e,{at:m,to:A,voids:a}),R&&O.removeNodes(e,{at:R.current,voids:a}),L.isElement(E)&&h.isEmpty(e,E)||V.isText(E)&&E.text===""&&F[F.length-1]!==0?O.removeNodes(e,{at:F,voids:a}):e.apply({type:"merge_node",path:A,position:g,properties:j}),R&&R.unref()}}}})},El=(t,e)=>{h.withoutNormalizing(t,()=>{var{to:n,at:u=t.selection,mode:r="lowest",voids:i=!1}=e,{match:a}=e;if(u){a==null&&(a=v.isPath(u)?_t(t,u):D=>L.isElement(D)&&h.isBlock(t,D));var l=h.pathRef(t,n),s=h.nodes(t,{at:u,match:a,mode:r,voids:i}),o=Array.from(s,D=>{var[,m]=D;return h.pathRef(t,m)});for(var f of o){var d=f.unref(),c=l.current;d.length!==0&&t.apply({type:"move_node",path:d,newPath:c}),l.current&&v.isSibling(c,d)&&v.isAfter(c,d)&&(l.current=v.next(l.current))}l.unref()}})},Al=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:r=!1,mode:i="lowest"}=n,{at:a=e.selection,match:l}=n;if(a){l==null&&(l=v.isPath(a)?_t(e,a):D=>L.isElement(D)&&h.isBlock(e,D)),!u&&p.isRange(a)&&(a=h.unhangRange(e,a,{voids:r}));var s=h.nodes(e,{at:a,match:l,mode:i,voids:r}),o=Array.from(s,D=>{var[,m]=D;return h.pathRef(e,m)});for(var f of o){var d=f.unref();if(d){var[c]=h.node(e,d);e.apply({type:"remove_node",path:d,node:c})}}}})},Fl=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{match:r,at:i=e.selection,compare:a,merge:l}=u,{hanging:s=!1,mode:o="lowest",split:f=!1,voids:d=!1}=u;if(i){if(r==null&&(r=v.isPath(i)?_t(e,i):g=>L.isElement(g)&&h.isBlock(e,g)),!s&&p.isRange(i)&&(i=h.unhangRange(e,i,{voids:d})),f&&p.isRange(i)){if(p.isCollapsed(i)&&h.leaf(e,i.anchor)[0].text.length>0)return;var c=h.rangeRef(e,i,{affinity:"inward"}),[D,m]=p.edges(i),E=o==="lowest"?"lowest":"highest",F=h.isEnd(e,m,m.path);O.splitNodes(e,{at:m,match:r,mode:E,voids:d,always:!F});var A=h.isStart(e,D,D.path);O.splitNodes(e,{at:D,match:r,mode:E,voids:d,always:!A}),i=c.unref(),u.at==null&&O.select(e,i)}a||(a=(g,K)=>g!==K);for(var[b,w]of h.nodes(e,{at:i,match:r,mode:o,voids:d})){var P={},y={};if(w.length!==0){var R=!1;for(var j in n)j==="children"||j==="text"||a(n[j],b[j])&&(R=!0,b.hasOwnProperty(j)&&(P[j]=b[j]),l?n[j]!=null&&(y[j]=l(b[j],n[j])):n[j]!=null&&(y[j]=n[j]));R&&e.apply({type:"set_node",path:w,properties:P,newProperties:y})}}}})},bl=(t,e)=>{if(p.isCollapsed(e))return e.anchor;var[,n]=p.edges(e),u=h.pointRef(t,n);return O.delete(t,{at:e}),u.unref()},wl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{mode:u="lowest",voids:r=!1}=n,{match:i,at:a=e.selection,height:l=0,always:s=!1}=n;if(i==null&&(i=se=>L.isElement(se)&&h.isBlock(e,se)),p.isRange(a)&&(a=bl(e,a)),v.isPath(a)){var o=a,f=h.point(e,o),[d]=h.parent(e,o);i=se=>se===d,l=f.path.length-o.length+1,a=f,s=!0}if(a){var c=h.pointRef(e,a,{affinity:"backward"}),D;try{var[m]=h.nodes(e,{at:a,match:i,mode:u,voids:r});if(!m)return;var E=h.void(e,{at:a,mode:"highest"}),F=0;if(!r&&E){var[A,b]=E;if(L.isElement(A)&&e.isInline(A)){var w=h.after(e,b);if(!w){var P={text:""},y=v.next(b);O.insertNodes(e,P,{at:y,voids:r}),w=h.point(e,y)}a=w,s=!0}var R=a.path.length-b.length;l=R+1,s=!0}D=h.pointRef(e,a);var j=a.path.length-l,[,g]=m,K=a.path.slice(0,j),Y=l===0?a.offset:a.path[j]+F;for(var[$,De]of h.levels(e,{at:K,reverse:!0,voids:r})){var M=!1;if(De.length<g.length||De.length===0||!r&&L.isElement($)&&h.isVoid(e,$))break;var me=c.current,pe=h.isEnd(e,me,De);if(s||!c||!h.isEdge(e,me,De)){M=!0;var T=_.extractProps($);e.apply({type:"split_node",path:De,position:Y,properties:T})}Y=De[De.length-1]+(M||pe?1:0)}if(n.at==null){var ye=D.current||h.end(e,[]);O.select(e,ye)}}finally{var Fe;c.unref(),(Fe=D)===null||Fe===void 0||Fe.unref()}}})},pl=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var r={};for(var i of n)r[i]=null;O.setNodes(e,r,u)},Ol=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{mode:u="lowest",split:r=!1,voids:i=!1}=n,{at:a=e.selection,match:l}=n;if(a){l==null&&(l=v.isPath(a)?_t(e,a):D=>L.isElement(D)&&h.isBlock(e,D)),v.isPath(a)&&(a=h.range(e,a));var s=p.isRange(a)?h.rangeRef(e,a):null,o=h.nodes(e,{at:a,match:l,mode:u,voids:i}),f=Array.from(o,D=>{var[,m]=D;return h.pathRef(e,m)}).reverse(),d=function(m){var E=m.unref(),[F]=h.node(e,E),A=h.range(e,E);r&&s&&(A=p.intersection(s.current,A)),O.liftNodes(e,{at:A,match:b=>L.isAncestor(F)&&F.children.includes(b),voids:i})};for(var c of f)d(c);s&&s.unref()}})};function Zr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zr(Object(n),!0).forEach(function(u){ke(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var yl=function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{mode:r="lowest",split:i=!1,voids:a=!1}=u,{match:l,at:s=e.selection}=u;if(s){if(l==null&&(v.isPath(s)?l=_t(e,s):e.isInline(n)?l=A=>L.isElement(A)&&h.isInline(e,A)||V.isText(A):l=A=>L.isElement(A)&&h.isBlock(e,A)),i&&p.isRange(s)){var[o,f]=p.edges(s),d=h.rangeRef(e,s,{affinity:"inward"});O.splitNodes(e,{at:f,match:l,voids:a}),O.splitNodes(e,{at:o,match:l,voids:a}),s=d.unref(),u.at==null&&O.select(e,s)}var c=Array.from(h.nodes(e,{at:s,match:e.isInline(n)?A=>L.isElement(A)&&h.isBlock(e,A):A=>h.isEditor(A),mode:"lowest",voids:a}));for(var[,D]of c){var m=p.isRange(s)?p.intersection(s,h.range(e,D)):s;if(m){var E=Array.from(h.nodes(e,{at:m,match:l,mode:r,voids:a}));if(E.length>0){var F=function(){var[A]=E,b=E[E.length-1],[,w]=A,[,P]=b;if(w.length===0&&P.length===0)return"continue";var y=v.equals(w,P)?v.parent(w):v.common(w,P),R=h.range(e,w,P),j=h.node(e,y),[g]=j,K=y.length+1,Y=v.next(P.slice(0,K)),$=Qr(Qr({},n),{},{children:[]});O.insertNodes(e,$,{at:Y,voids:a}),O.moveNodes(e,{at:R,match:De=>L.isAncestor(g)&&g.children.includes(De),to:Y.concat(0),voids:a})}();if(F==="continue")continue}}}}})},od=()=>{var t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return $a(t,...u)},addMark:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return is(t,...u)},deleteBackward:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ls(t,...u)},deleteForward:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return os(t,...u)},deleteFragment:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return fs(t,...u)},getFragment:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ts(t,...u)},insertBreak:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return As(t,...u)},insertSoftBreak:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return bs(t,...u)},insertFragment:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ll(t,...u)},insertNode:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Fs(t,...u)},insertText:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ps(t,...u)},normalizeNode:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ns(t,...u)},removeMark:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return tl(t,...u)},getDirtyPaths:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return es(t,...u)},shouldNormalize:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return rs(t,...u)},above:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return us(t,...u)},after:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return as(t,...u)},before:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ss(t,...u)},collapse:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ol(t,...u)},delete:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return sl(t,...u)},deselect:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return fl(t,...u)},edges:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return cs(t,...u)},elementReadOnly:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ds(t,...u)},end:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return hs(t,...u)},first:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ds(t,...u)},fragment:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return gs(t,...u)},getMarks:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ls(t,...u)},hasBlocks:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Cs(t,...u)},hasInlines:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return vs(t,...u)},hasPath:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Bs(t,...u)},hasTexts:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Es(t,...u)},insertNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return gl(t,...u)},isBlock:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Os(t,...u)},isEdge:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ys(t,...u)},isEmpty:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return _s(t,...u)},isEnd:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ps(t,...u)},isNormalizing:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ns(t,...u)},isStart:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ss(t,...u)},last:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Is(t,...u)},leaf:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ts(t,...u)},levels:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Rs(t,...u)},liftNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ml(t,...u)},mergeNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Bl(t,...u)},move:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return cl(t,...u)},moveNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return El(t,...u)},next:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Vs(t,...u)},node:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ms(t,...u)},nodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return qs(t,...u)},normalize:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return zs(t,...u)},parent:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ws(t,...u)},path:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ys(t,...u)},pathRef:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Hs(t,...u)},pathRefs:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ks(t,...u)},point:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Xs(t,...u)},pointRef:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Us(t,...u)},pointRefs:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Gs(t,...u)},positions:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Js(t,...u)},previous:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Zs(t,...u)},range:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return $s(t,...u)},rangeRef:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Qs(t,...u)},rangeRefs:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return xs(t,...u)},removeNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Al(t,...u)},select:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return dl(t,...u)},setNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Fl(t,...u)},setNormalizing:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return nl(t,...u)},setPoint:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return hl(t,...u)},setSelection:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Dl(t,...u)},splitNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return wl(t,...u)},start:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return rl(t,...u)},string:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ul(t,...u)},unhangRange:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return il(t,...u)},unsetNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return pl(t,...u)},unwrapNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return Ol(t,...u)},void:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return ms(t,...u)},withoutNormalizing:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return al(t,...u)},wrapNodes:function(){for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return yl(t,...u)}};return t};function Wu(t){return function(n,u,r,i,a,l,s){return t(n,u,s)}}function on(t){return function(n,u,r,i){if(!n||!u||typeof n!="object"||typeof u!="object")return t(n,u,r,i);var a=i.get(n),l=i.get(u);if(a&&l)return a===u&&l===n;i.set(n,u),i.set(u,n);var s=t(n,u,r,i);return i.delete(n),i.delete(u),s}}function Hu(t,e){var n={};for(var u in t)n[u]=t[u];for(var u in e)n[u]=e[u];return n}function xr(t){return t.constructor===Object||t.constructor==null}function $r(t){return typeof t.then=="function"}function fn(t,e){return t===e||t!==t&&e!==e}var _l="[object Arguments]",Pl="[object Boolean]",Nl="[object Date]",Sl="[object RegExp]",Il="[object Map]",Tl="[object Number]",Rl="[object Object]",jl="[object Set]",kl="[object String]",eu=Object.prototype.toString;function cn(t){var e=t.areArraysEqual,n=t.areDatesEqual,u=t.areMapsEqual,r=t.areObjectsEqual,i=t.areRegExpsEqual,a=t.areSetsEqual,l=t.createIsNestedEqual,s=l(o);function o(f,d,c){if(f===d)return!0;if(!f||!d||typeof f!="object"||typeof d!="object")return f!==f&&d!==d;if(xr(f)&&xr(d))return r(f,d,s,c);var D=Array.isArray(f),m=Array.isArray(d);if(D||m)return D===m&&e(f,d,s,c);var E=eu.call(f);return E!==eu.call(d)?!1:E===Nl?n(f,d,s,c):E===Sl?i(f,d,s,c):E===Il?u(f,d,s,c):E===jl?a(f,d,s,c):E===Rl||E===_l?$r(f)||$r(d)?!1:r(f,d,s,c):E===Pl||E===Tl||E===kl?fn(f.valueOf(),d.valueOf()):!1}return o}function Ku(t,e,n,u){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n(t[r],e[r],r,r,t,e,u))return!1;return!0}var Ll=on(Ku);function Yu(t,e){return fn(t.valueOf(),e.valueOf())}function Uu(t,e,n,u){var r=t.size===e.size;if(!r)return!1;if(!t.size)return!0;var i={},a=0;return t.forEach(function(l,s){if(r){var o=!1,f=0;e.forEach(function(d,c){!o&&!i[f]&&(o=n(s,c,a,f,t,e,u)&&n(l,d,s,c,t,e,u))&&(i[f]=!0),f++}),a++,r=o}}),r}var Vl=on(Uu),Ml="_owner",ql=Object.prototype.hasOwnProperty;function Gu(t,e,n,u){var r=Object.keys(t),i=r.length;if(Object.keys(e).length!==i)return!1;for(var a;i-- >0;){if(a=r[i],a===Ml){var l=!!t.$$typeof,s=!!e.$$typeof;if((l||s)&&l!==s)return!1}if(!ql.call(e,a)||!n(t[a],e[a],a,a,t,e,u))return!1}return!0}var zl=on(Gu);function Xu(t,e){return t.source===e.source&&t.flags===e.flags}function Ju(t,e,n,u){var r=t.size===e.size;if(!r)return!1;if(!t.size)return!0;var i={};return t.forEach(function(a,l){if(r){var s=!1,o=0;e.forEach(function(f,d){!s&&!i[o]&&(s=n(a,f,l,d,t,e,u))&&(i[o]=!0),o++}),r=s}}),r}var Wl=on(Ju),Zu=Object.freeze({areArraysEqual:Ku,areDatesEqual:Yu,areMapsEqual:Uu,areObjectsEqual:Gu,areRegExpsEqual:Xu,areSetsEqual:Ju,createIsNestedEqual:Wu}),Qu=Object.freeze({areArraysEqual:Ll,areDatesEqual:Yu,areMapsEqual:Vl,areObjectsEqual:zl,areRegExpsEqual:Xu,areSetsEqual:Wl,createIsNestedEqual:Wu});cn(Zu);var Hl=cn(Hu(Zu,{createIsNestedEqual:function(){return fn}}));function Kl(t,e){return Hl(t,e,void 0)}cn(Qu);cn(Hu(Qu,{createIsNestedEqual:function(){return fn}}));let Yl=0;class Ul{constructor(){sr(this,"id");this.id=`${Yl++}`}toString(){return this.id}}const Gl=globalThis.Element;function Gn(t){const e=t;return e&&e.ownerDocument&&e.ownerDocument.defaultView||null}function Xl(t){return vt(t)&&t.nodeType===8}function xe(t){return vt(t)&&t.nodeType===1}function vt(t){const e=Gn(t);return!!e&&t instanceof e.Node}function tu(t){const e=t,n=e&&e.anchorNode&&Gn(e.anchorNode);return!!n&&t instanceof n.Selection}function xu(t){return vt(t)&&t.nodeType===3}function Jl(t){return t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1}function Zl(t){let[e,n]=t;if(xe(e)&&e.childNodes.length){let u=n===e.childNodes.length,r=u?n-1:n;for([e,r]=$u(e,r,u?"backward":"forward"),u=r<n;xe(e)&&e.childNodes.length;){const i=u?e.childNodes.length-1:0;e=xl(e,i,u?"backward":"forward")}n=u&&e.textContent!=null?e.textContent.length:0}return[e,n]}function Ql(){return!!(window.document.activeElement&&window.document.activeElement.shadowRoot)}function $u(t,e,n){const{childNodes:u}=t;let r=u[e],i=e,a=!1,l=!1;for(;(Xl(r)||xe(r)&&r.childNodes.length===0||xe(r)&&r.getAttribute("contenteditable")==="false")&&!(a&&l);){if(i>=u.length){a=!0,i=e-1,n="backward";continue}if(i<0){l=!0,i=e+1,n="forward";continue}r=u[i],e=i,i+=n==="forward"?1:-1}return[r,e]}function xl(t,e,n){const[u]=$u(t,e,n);return u}function ei(t){let e="";if(xu(t)&&t.nodeValue)return t.nodeValue;if(xe(t)){for(const u of Array.from(t.childNodes))e+=ei(u);const n=getComputedStyle(t).getPropertyValue("display");(n==="block"||n==="list"||t.tagName==="BR")&&(e+=`
`)}return e}const $l=/data-slate-fragment="(.+?)"/m;function eo(t){const e=t.getData("text/html"),[,n]=e.match($l)||[];return n}const to=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,nu=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),jn=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),An=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),no=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),ti=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),ro=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),uo=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),io=typeof navigator<"u"&&/.*QQBrowser/.test(navigator.userAgent),ru=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uu=!ro&&!no&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function Xn(t){const e=yn.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e}function gt(t){let e=_n.get(t);return e||(e=new Ul,_n.set(t,e)),e}function ot(t){const e=[];let n=t;for(;;){const u=an.get(n);if(u==null){if(h.isEditor(n))return e;break}const r=un.get(n);if(r==null)break;e.unshift(r),n=u}throw new Error(`Unable to find the path for Slate node: ${JSON.stringify(t)}`)}function fd(t,e,n){return[...h.nodes(t,{at:[[0],ot(e)],match:n})].length}function Tt(t){const e=ut(t,t),n=e.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:e.ownerDocument}function iu(t){return!!At.get(t)}function ao(t){const e=ut(t,t),n=Tt(t);At.set(t,!0),n.activeElement!==e&&e.focus({preventScroll:!0})}function Jn(t,e,n={}){const{editable:u=!1}=n,r=ut(t,t);let i=null;try{i=xe(e)?e:e.parentElement}catch(a){if(!a.message.includes('Permission denied to access property "nodeType"'))throw a}return i?i.closest("[data-svelte-editor]")===r&&(!u||i.isContentEditable?!0:typeof i.isContentEditable=="boolean"&&i.closest('[contenteditable="false"]')===r||!!i.getAttribute("data-slate-zero-width")):!1}function ut(t,e,n=!0){const u=ln.get(t),r=h.isEditor(e)?Kt.get(t):u==null?void 0:u.get(gt(e));if(!r&&n)throw new Error(`Cannot resolve a DOM node from Slate node: ${JSON.stringify(e)}`);return r}function au(t,e,n=!0){const[u]=h.node(t,e.path),r=ut(t,u,n);let i;h.void(t,{at:e})&&(e={path:e.path,offset:0});const a="[data-slate-string], [data-slate-zero-width]",l=r?Array.from(r.querySelectorAll(a)):[];let s=0;for(const o of l){const f=o.childNodes[0];if(f==null||f.textContent==null)continue;const{length:d}=f.textContent,c=o.getAttribute("data-slate-length"),D=c==null?d:parseInt(c,10),m=s+D;if(e.offset<=m){const E=Math.min(d,Math.max(0,e.offset-s));i=[f,E];break}s=m}if(!i&&n)throw new Error(`Cannot resolve a DOM point from Slate point: ${JSON.stringify(e)}`);return i}function xt(t,e,n=!0){const{anchor:u,focus:r}=e,i=p.isBackward(e),a=au(t,u,n);if(!a)return;const l=p.isCollapsed(e)?a:au(t,r),o=Xn(t).document.createRange(),[f,d]=i?l:a,[c,D]=i?a:l,E=!!(xe(f)?f:f.parentElement).getAttribute("data-slate-zero-width"),A=!!(xe(c)?c:c.parentElement).getAttribute("data-slate-zero-width");return o.setStart(f,E?1:d),o.setEnd(c,A?1:D),o}function Dt(t){let e=xe(t)?t:t.parentElement;e&&!e.hasAttribute("data-slate-node")&&(e=e.closest("[data-slate-node]"));const n=e?sn.get(e):null;if(!n)throw new Error(`Cannot resolve a Slate node from DOM node: ${e}`);return n}function so(t,e){const{clientX:n,clientY:u,target:r}=e;if(n==null||u==null)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);const i=Dt(e.target),a=ot(i);if(h.isVoid(t,i)){const f=r.getBoundingClientRect(),d=t.isInline(i)?n-f.left<f.left+f.width-n:u-f.top<f.top+f.height-u,c=h.point(t,a,{edge:d?"start":"end"}),D=d?h.before(t,c):h.after(t,c);if(D)return h.range(t,D)}let l=null;const{document:s}=Xn(t);if(s.caretRangeFromPoint)l=s.caretRangeFromPoint(n,u);else{const f=s.caretPositionFromPoint(n,u);f&&(l=s.createRange(),l.setStart(f.offsetNode,f.offset),l.setEnd(f.offsetNode,f.offset))}if(!l)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);return Rt(t,l,{exactMatch:!1,suppressThrow:!1})}function su(t,e,n){var D,m,E,F;const{exactMatch:u,suppressThrow:r}=n,[i,a]=u?e:Zl(e),s=i instanceof Gl&&i.getAttribute("data-slate-node")==="element"?i:i.parentNode;let o=null,f=0;if(s){let A,b;s.getAttribute("data-slate-node")==="element"?(b=s.querySelector("[data-slate-leaf]"),s.getAttribute("data-slate-void")&&(A=s)):(b=s.closest("[data-slate-leaf]"),A=s.closest('[data-slate-void="true"]'));let w=null;if(b){if(o=b.closest('[data-slate-node="text"]'),o){const y=Xn(t).document.createRange();y.setStart(o,0),y.setEnd(i,a);const R=y.cloneContents();[...Array.prototype.slice.call(R.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(R.querySelectorAll("[contenteditable=false]"))].forEach(g=>{g.parentNode.removeChild(g)}),f=((D=R==null?void 0:R.textContent)==null?void 0:D.length)||0,w=o}}else A&&(b=A.querySelector("[data-slate-leaf]"),b?(o=b.closest('[data-slate-node="text"]'),w=b,f=((m=w==null?void 0:w.textContent)==null?void 0:m.length)||0,w.querySelectorAll("[data-slate-zero-width]").forEach(P=>{var y;f-=((y=P==null?void 0:P.textContent)==null?void 0:y.length)||0})):f=1);w&&f===((E=w==null?void 0:w.textContent)==null?void 0:E.length)&&(s.hasAttribute("data-slate-zero-width")||jn&&((F=w.textContent)!=null&&F.endsWith(`

`)))&&f--}if(!o){if(r)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${e}`)}const d=Dt(o);return{path:ot(d),offset:f}}function Rt(t,e,n){const{exactMatch:u,suppressThrow:r}=n,i=tu(e)?e.anchorNode:e.startContainer;let a=null,l=0,s=null,o=0,f=!1;if(i&&(tu(e)?(a=e.anchorNode,l=e.anchorOffset,s=e.focusNode,o=e.focusOffset,ti&&Ql()?f=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:f=e.isCollapsed):(a=e.startContainer,l=e.startOffset,s=e.endContainer,o=e.endOffset,f=e.collapsed)),a==null||s==null||l==null||o==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${e}`);const d=su(t,[a,l],{exactMatch:u,suppressThrow:r});if(!d)return null;const c=f?d:su(t,[s,o],{exactMatch:u,suppressThrow:r});if(!c)return null;let D={anchor:d,focus:c};return p.isExpanded(D)&&p.isForward(D)&&xe(s)&&h.void(t,{at:D.focus,mode:"highest"})&&(D=h.unhangRange(t,D,{voids:!0})),D}function lo(t,e){const{anchor:n,focus:u}=e;return h.hasPath(t,n.path)&&h.hasPath(t,u.path)}function ni(t,e){if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(let n=0;n<t.length;n++){const u=t[n],r=e[n],{anchor:i,focus:a,...l}=u,{anchor:s,focus:o,...f}=r;if(!p.equals(u,r)||u[Lt]!==r[Lt]||!Kl(l,f))return!1}return!0}function ri(t,e){return t===e||!!t&&!!e&&p.equals(t,e)}function Ve(){return{}}function Le(t){const e=Gi(t);if(!e)throw new Error("Must be used inside the component's context.");return e}function je(t,e){const n=ta(e);return yu(t,n),n}function ui(t,e){return yu(t,e),e}function oo(t){let e;const n=t[7].default,u=fe(n,t,t[6],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,[i]){u&&u.p&&(!e||i&64)&&ce(u,n,r,r[6],e?he(n,r[6],i,null):de(r[6]),null)},i(r){e||(S(u,r),e=!0)},o(r){I(u,r),e=!1},d(r){u&&u.d(r)}}}const ii=Ve(),ai=Ve(),si=Ve(),li=Ve(),oi=Ve(),fo=Ve(),fi=Ve(),ci=Ve();function dn(t,e,n){const u=Di();_u(()=>(u.update(r=>{const i=r[t]||[];return{...r,[t]:[...i,e]}}),()=>{u.update(r=>{const i=r[t]||[],a=i.indexOf(e);if(a===-1)return r;{const l=i.slice();return l.splice(a,1),{...r,[t]:l}}}),n&&n()}))}function Oe(t,e,n){const r=Pu(t)[e]||[];for(const i of r){const a=i(n);if(a===!1||n.cancelBubble)return a}}function di(){return Le(ii)}function Je(){return Pu(di())}function hi(){return Le(ai)}function co(){return Le(si)}function Zn(){return Le(li)}function ho(){return Le(oi)}function Di(){return Le(fi)}function Do(){return Le(ci)}function gi(t){return[]}function go(t,e,n){let{$$slots:u={},$$scope:r}=e,{editor:i}=e,{value:a=i.children}=e,{selection:l=i.selection}=e;const s=Nu(),o=je(ii,i),f=je(oi,i.selection),d=je(fo,i.children);je(ai,!0),je(si,!1),je(li,gi),je(fi,{}),je(ci,void 0);function c(){n(1,l=i.selection),n(0,a=i.children),i.operations.some(A=>A.type!=="set_selection")&&s("value",a),s("selection",l)}Pn.set(i,c);let D=i,m,E;return t.$$set=F=>{"editor"in F&&n(2,i=F.editor),"value"in F&&n(0,a=F.value),"selection"in F&&n(1,l=F.selection),"$$scope"in F&&n(6,r=F.$$scope)},t.$$.update=()=>{t.$$.dirty&17&&m!==a&&(o.update(F=>(F.children=a,F)),n(4,m=a),d.set(a),s("value",a)),t.$$.dirty&12&&D!==i&&(n(3,D=i),Pn.set(i,c),o.set(i)),t.$$.dirty&38&&(ri(E,l)||(f.set(l),o.set(i),n(5,E=l),s("selection",l)))},[a,l,i,D,m,E,r,u]}class mo extends X{constructor(e){super(),J(this,e,go,oo,ne,{editor:2,value:0,selection:1})}}const Co=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Fn={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},mi={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Co?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Qn={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(let t=1;t<20;t++)Qn["f"+t]=111+t;function Ci(t,e={}){Array.isArray(t)||(t=[t]);const n=t.map(u=>Bo(u,e));return function(r){return n.some(i=>Eo(i,r))}}function vo(t,e,n={}){return Ci(t,n)(e)}function bn(t){return Ci(t,{byKey:!0})}function Bo(t,e={}){const n=e&&e.byKey,u={};t=t.replace("++","+add");const r=t.split("+"),{length:i}=r;for(const a in Fn)u[Fn[a]]=!1;for(let a of r){const l=a.endsWith("?")&&a.length>1;l&&(a=a.slice(0,-1));const s=vi(a),o=Fn[s];if(a.length>1&&!o&&!mi[a]&&!Qn[s])throw new TypeError(`Unknown modifier: "${a}"`);(i===1||!o)&&(n?u.key=s:u.which=Ao(a)),o&&(u[o]=l?null:!0)}return u}function Eo(t,e){for(const n in t){const u=t[n];let r;if(u!=null&&(n==="key"&&e.key!=null?r=e.key.toLowerCase():n==="which"?r=u===91&&e.which===93?91:e.which:r=e[n],!(r==null&&u===!1)&&r!==u))return!1}return!0}function Ao(t){return t=vi(t),Qn[t]||t.toUpperCase().charCodeAt(0)}function vi(t){return t=t.toLowerCase(),t=mi[t]||t,t}const Fo={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},bo={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},wo={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]};function ve(t){const e=Fo[t],n=bo[t],u=wo[t],r=e&&bn(e),i=n&&bn(n),a=u&&bn(u);return l=>!!(r&&r(l)||nu&&i&&i(l)||!nu&&a&&a(l))}const Ee={isBold:ve("bold"),isCompose:ve("compose"),isMoveBackward:ve("moveBackward"),isMoveForward:ve("moveForward"),isDeleteBackward:ve("deleteBackward"),isDeleteForward:ve("deleteForward"),isDeleteLineBackward:ve("deleteLineBackward"),isDeleteLineForward:ve("deleteLineForward"),isDeleteWordBackward:ve("deleteWordBackward"),isDeleteWordForward:ve("deleteWordForward"),isExtendBackward:ve("extendBackward"),isExtendForward:ve("extendForward"),isExtendLineBackward:ve("extendLineBackward"),isExtendLineForward:ve("extendLineForward"),isItalic:ve("italic"),isMoveLineBackward:ve("moveLineBackward"),isMoveLineForward:ve("moveLineForward"),isMoveWordBackward:ve("moveWordBackward"),isMoveWordForward:ve("moveWordForward"),isRedo:ve("redo"),isSplitBlock:ve("splitBlock"),isTransposeCharacter:ve("transposeCharacter"),isUndo:ve("undo")};function po(t){let e,n,u;const r=t[2].default,i=fe(r,t,t[1],null);return{c(){e=ee("span"),i&&i.c(),this.h()},l(a){e=te(a,"SPAN",{"data-slate-placeholder":!0,contenteditable:!0,class:!0});var l=le(e);i&&i.l(l),l.forEach(N),this.h()},h(){C(e,"data-slate-placeholder","true"),C(e,"contenteditable","false"),C(e,"class","svelte-148q7wc"),Xi(()=>t[3].call(e))},m(a,l){W(a,e,l),i&&i.m(e,null),n=Ji(e,t[3].bind(e)),u=!0},p(a,[l]){i&&i.p&&(!u||l&2)&&ce(i,r,a,a[1],u?he(r,a[1],l,null):de(a[1]),null)},i(a){u||(S(i,a),u=!0)},o(a){I(i,a),u=!1},d(a){a&&N(e),i&&i.d(a),n()}}}function Oo(t,e,n){let{$$slots:u={},$$scope:r}=e,{clientHeight:i=void 0}=e;function a(){i=this.clientHeight,n(0,i)}return t.$$set=l=>{"clientHeight"in l&&n(0,i=l.clientHeight),"$$scope"in l&&n(1,r=l.$$scope)},[i,r,u,a]}class Bi extends X{constructor(e){super(),J(this,e,Oo,po,ne,{clientHeight:0})}}function yo(t){let e,n;const u=t[2].default,r=fe(u,t,t[1],null);return{c(){e=ee("span"),r&&r.c(),this.h()},l(i){e=te(i,"SPAN",{"data-slate-leaf":!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-leaf","true")},m(i,a){W(i,e,a),r&&r.m(e,null),n=!0},p(i,[a]){r&&r.p&&(!n||a&2)&&ce(r,u,i,i[1],n?he(u,i[1],a,null):de(i[1]),null)},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i)}}}function _o(t,e,n){let{$$slots:u={},$$scope:r}=e,{leaf:i}=e;return t.$$set=a=>{"leaf"in a&&n(0,i=a.leaf),"$$scope"in a&&n(1,r=a.$$scope)},[i,r,u]}class Po extends X{constructor(e){super(),J(this,e,_o,yo,ne,{leaf:0})}}function No(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("div"),r&&r.c(),this.h()},l(i){e=te(i,"DIV",{"data-slate-node":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1l7tojd")},m(i,a){W(i,e,a),r&&r.m(e,null),t[9](e),n=!0},p(i,a){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[9](null)}}}function So(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("span"),r&&r.c(),this.h()},l(i){e=te(i,"SPAN",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1l7tojd")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,a){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}function Io(t){let e,n,u,r;const i=[So,No],a=[];function l(s,o){return s[1]?0:1}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=x()},l(s){n.l(s),u=x()},m(s,o){a[e].m(s,o),W(s,u,o),r=!0},p(s,[o]){let f=e;e=l(s),e===f?a[e].p(s,o):(Ne(),I(a[f],1,1,()=>{a[f]=null}),Se(),n=a[e],n?n.p(s,o):(n=a[e]=i[e](s),n.c()),S(n,1),n.m(u.parentNode,u))},i(s){r||(S(n),r=!0)},o(s){I(n),r=!1},d(s){a[e].d(s),s&&N(u)}}}function To(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;function d(D){G[D?"unshift":"push"](()=>{o=D,n(0,o)})}function c(D){G[D?"unshift":"push"](()=>{o=D,n(0,o)})}return t.$$set=D=>{"element"in D&&n(5,i=D.element),"isInline"in D&&n(1,a=D.isInline),"isVoid"in D&&n(2,l=D.isVoid),"contenteditable"in D&&n(3,s=D.contenteditable),"ref"in D&&n(0,o=D.ref),"dir"in D&&n(4,f=D.dir),"$$scope"in D&&n(6,r=D.$$scope)},[o,a,l,s,f,i,r,u,d,c]}class Ei extends X{constructor(e){super(),J(this,e,To,Io,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}const Ai="---",Fi="A-Za-z--------",Ro=new RegExp("^[^"+Fi+"]*["+Ai+"]"),jo=new RegExp("^[^"+Ai+"]*["+Fi+"]");function bi(t){const e=String(t||"");return Ro.test(e)?"rtl":jo.test(e)?"ltr":"neutral"}function lu(t){let e=`
`,n;return{c(){n=tn(e)},l(u){n=nn(u,e)},m(u,r){W(u,n,r)},d(u){u&&N(n)}}}function ko(t){let e,n=t[0].text+"",u,r=t[1]&&lu();return{c(){e=ee("span"),u=tn(n),r&&r.c(),this.h()},l(i){e=te(i,"SPAN",{"data-slate-string":!0});var a=le(e);u=nn(a,n),r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-string","true")},m(i,a){W(i,e,a),jt(e,u),r&&r.m(e,null),t[3](e)},p(i,[a]){a&1&&n!==(n=i[0].text+"")&&Su(u,n),i[1]?r||(r=lu(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:wt,o:wt,d(i){i&&N(e),r&&r.d(),t[3](null)}}}function Lo(t,e,n){let{leaf:u}=e,{isTrailing:r=!1}=e,i;Zi(()=>{i&&n(2,i.textContent=u.text,i)});function a(l){G[l?"unshift":"push"](()=>{i=l,n(2,i)})}return t.$$set=l=>{"leaf"in l&&n(0,u=l.leaf),"isTrailing"in l&&n(1,r=l.isTrailing)},[u,r,i,a]}class Vo extends X{constructor(e){super(),J(this,e,Lo,ko,ne,{leaf:0,isTrailing:1})}}function ou(t){let e;return{c(){e=ee("br")},l(n){e=te(n,"BR",{})},m(n,u){W(n,e,u)},d(n){n&&N(e)}}}function Mo(t){let e,n="\uFEFF",u,r,i=t[1]&&ou();return{c(){e=ee("span"),u=tn(n),i&&i.c(),this.h()},l(a){e=te(a,"SPAN",{"data-slate-zero-width":!0,"data-slate-length":!0});var l=le(e);u=nn(l,n),i&&i.l(l),l.forEach(N),this.h()},h(){C(e,"data-slate-zero-width",r=t[1]?"n":"z"),C(e,"data-slate-length",t[0])},m(a,l){W(a,e,l),jt(e,u),i&&i.m(e,null)},p(a,[l]){a[1]?i||(i=ou(),i.c(),i.m(e,null)):i&&(i.d(1),i=null),l&2&&r!==(r=a[1]?"n":"z")&&C(e,"data-slate-zero-width",r),l&1&&C(e,"data-slate-length",a[0])},i:wt,o:wt,d(a){a&&N(e),i&&i.d()}}}function qo(t,e,n){let{length:u=0}=e,{isLineBreak:r=!1}=e;return t.$$set=i=>{"length"in i&&n(0,u=i.length),"isLineBreak"in i&&n(1,r=i.isLineBreak)},[u,r]}class xn extends X{constructor(e){super(),J(this,e,qo,Mo,ne,{length:0,isLineBreak:1})}}function zo(t){let e,n;return e=new Vo({props:{isTrailing:t[5],leaf:t[0]}}),{c(){ue(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){ie(e,u,r),n=!0},p(u,r){const i={};r&32&&(i.isTrailing=u[5]),r&1&&(i.leaf=u[0]),e.$set(i)},i(u){n||(S(e.$$.fragment,u),n=!0)},o(u){I(e.$$.fragment,u),n=!1},d(u){ae(e,u)}}}function Wo(t){let e,n;return e=new xn({}),{c(){ue(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){ie(e,u,r),n=!0},p:wt,i(u){n||(S(e.$$.fragment,u),n=!0)},o(u){I(e.$$.fragment,u),n=!1},d(u){ae(e,u)}}}function Ho(t){let e,n;return e=new xn({props:{isLineBreak:!0}}),{c(){ue(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){ie(e,u,r),n=!0},p:wt,i(u){n||(S(e.$$.fragment,u),n=!0)},o(u){I(e.$$.fragment,u),n=!1},d(u){ae(e,u)}}}function Ko(t){let e,n;return e=new xn({props:{length:_.string(t[1]).length}}),{c(){ue(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){ie(e,u,r),n=!0},p(u,r){const i={};r&2&&(i.length=_.string(u[1]).length),e.$set(i)},i(u){n||(S(e.$$.fragment,u),n=!0)},o(u){I(e.$$.fragment,u),n=!1},d(u){ae(e,u)}}}function Yo(t){let e,n,u,r;const i=[Ko,Ho,Wo,zo],a=[];function l(s,o){return s[4]?0:s[3]?1:s[2]?2:3}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=x()},l(s){n.l(s),u=x()},m(s,o){a[e].m(s,o),W(s,u,o),r=!0},p(s,[o]){let f=e;e=l(s),e===f?a[e].p(s,o):(Ne(),I(a[f],1,1,()=>{a[f]=null}),Se(),n=a[e],n?n.p(s,o):(n=a[e]=i[e](s),n.c()),S(n,1),n.m(u.parentNode,u))},i(s){r||(S(n),r=!0)},o(s){I(n),r=!1},d(s){a[e].d(s),s&&N(u)}}}function Uo(t,e,n){let u,r,i,a,l,s,{isLast:o}=e,{leaf:f}=e,{parent:d}=e,{text:c}=e;const D=Je();return t.$$set=m=>{"isLast"in m&&n(6,o=m.isLast),"leaf"in m&&n(0,f=m.leaf),"parent"in m&&n(1,d=m.parent),"text"in m&&n(7,c=m.text)},t.$$.update=()=>{t.$$.dirty&65&&n(5,u=o&&f.text.slice(-1)===`
`),t.$$.dirty&128&&n(9,r=ot(c)),t.$$.dirty&512&&n(8,i=v.parent(r)),t.$$.dirty&2&&n(4,a=D.isVoid(d)),t.$$.dirty&1&&n(2,l=f.text===""),t.$$.dirty&390&&n(3,s=l&&d.children[d.children.length-1]===c&&!D.isInline(d)&&h.string(D,i)==="")},[f,d,l,s,a,u,o,c,i,r]}let Go=class extends X{constructor(e){super(),J(this,e,Uo,Yo,ne,{isLast:6,leaf:0,parent:1,text:7})}};function fu(t){let e,n,u,r;function i(s){t[12](s)}var a=t[5];function l(s){let o={$$slots:{default:[Xo]},$$scope:{ctx:s}};return s[4]!==void 0&&(o.clientHeight=s[4]),{props:o}}return a&&(e=Re(a,l(t)),G.push(()=>Te(e,"clientHeight",i))),{c(){e&&ue(e.$$.fragment),u=x()},l(s){e&&Ae(e.$$.fragment,s),u=x()},m(s,o){e&&ie(e,s,o),W(s,u,o),r=!0},p(s,o){const f={};if(o&8194&&(f.$$scope={dirty:o,ctx:s}),!n&&o&16&&(n=!0,f.clientHeight=s[4],Xe(()=>n=!1)),o&32&&a!==(a=s[5])){if(e){Ne();const d=e;I(d.$$.fragment,1,0,()=>{ae(d,1)}),Se()}a?(e=Re(a,l(s)),G.push(()=>Te(e,"clientHeight",i)),ue(e.$$.fragment),S(e.$$.fragment,1),ie(e,u.parentNode,u)):e=null}else a&&e.$set(f)},i(s){r||(e&&S(e.$$.fragment,s),r=!0)},o(s){e&&I(e.$$.fragment,s),r=!1},d(s){s&&N(u),e&&ae(e,s)}}}function Xo(t){let e=t[1].placeholder+"",n;return{c(){n=tn(e)},l(u){n=nn(u,e)},m(u,r){W(u,n,r)},p(u,r){r&2&&e!==(e=u[1].placeholder+"")&&Su(n,e)},d(u){u&&N(n)}}}function Jo(t){let e,n,u,r=Lt in t[1]&&fu(t);return n=new Go({props:{isLast:t[0],leaf:t[1],parent:t[2],text:t[3]}}),{c(){r&&r.c(),e=x(),ue(n.$$.fragment)},l(i){r&&r.l(i),e=x(),Ae(n.$$.fragment,i)},m(i,a){r&&r.m(i,a),W(i,e,a),ie(n,i,a),u=!0},p(i,a){Lt in i[1]?r?(r.p(i,a),a&2&&S(r,1)):(r=fu(i),r.c(),S(r,1),r.m(e.parentNode,e)):r&&(Ne(),I(r,1,1,()=>{r=null}),Se());const l={};a&1&&(l.isLast=i[0]),a&2&&(l.leaf=i[1]),a&4&&(l.parent=i[2]),a&8&&(l.text=i[3]),n.$set(l)},i(i){u||(S(r),S(n.$$.fragment,i),u=!0)},o(i){I(r),I(n.$$.fragment,i),u=!1},d(i){r&&r.d(i),i&&N(e),ae(n,i)}}}function Zo(t){let e,n,u;var r=t[6];function i(a){return{props:{leaf:a[1],$$slots:{default:[Jo]},$$scope:{ctx:a}}}}return r&&(e=Re(r,i(t))),{c(){e&&ue(e.$$.fragment),n=x()},l(a){e&&Ae(e.$$.fragment,a),n=x()},m(a,l){e&&ie(e,a,l),W(a,n,l),u=!0},p(a,[l]){const s={};if(l&2&&(s.leaf=a[1]),l&8255&&(s.$$scope={dirty:l,ctx:a}),l&64&&r!==(r=a[6])){if(e){Ne();const o=e;I(o.$$.fragment,1,0,()=>{ae(o,1)}),Se()}r?(e=Re(r,i(a)),ue(e.$$.fragment),S(e.$$.fragment,1),ie(e,n.parentNode,n)):e=null}else r&&e.$set(s)},i(a){u||(e&&S(e.$$.fragment,a),u=!0)},o(a){e&&I(e.$$.fragment,a),u=!1},d(a){a&&N(n),e&&ae(e,a)}}}function Qo(t,e,n){let u,r,i,a,{isLast:l}=e,{leaf:s}=e,{parent:o}=e,{text:f}=e;const d=Le(yi);it(t,d,F=>n(11,a=F));const c=Le(_i);it(t,c,F=>n(10,i=F));let D,m;Qi(()=>{if(ru){const F=document.querySelector('[data-svelte-editor="true"]');F&&(F.style.minHeight="auto")}});function E(F){D=F,n(4,D)}return t.$$set=F=>{"isLast"in F&&n(0,l=F.isLast),"leaf"in F&&n(1,s=F.leaf),"parent"in F&&n(2,o=F.parent),"text"in F&&n(3,f=F.text)},t.$$.update=()=>{if(t.$$.dirty&2048&&n(6,u=a),t.$$.dirty&1024&&n(5,r=i),t.$$.dirty&528&&m!==D&&ru){const F=document.querySelector('[data-svelte-editor="true"]');F&&(F.style.minHeight=`${D}px`),n(9,m=D)}},[l,s,o,f,D,r,u,d,c,m,i,a,E]}class cu extends X{constructor(e){super(),J(this,e,Qo,Zo,ne,{isLast:0,leaf:1,parent:2,text:3})}}function du(t,e,n){const u=t.slice();return u[9]=e[n],u[11]=n,u}function hu(t,e){let n,u,r,i;var a=cu;function l(s){return{props:{isLast:s[0]&&s[11]===s[5].length-1,parent:s[1],leaf:s[9],text:s[2]}}}return a&&(u=Re(a,l(e))),{key:t,first:null,c(){n=x(),u&&ue(u.$$.fragment),r=x(),this.h()},l(s){n=x(),u&&Ae(u.$$.fragment,s),r=x(),this.h()},h(){this.first=n},m(s,o){W(s,n,o),u&&ie(u,s,o),W(s,r,o),i=!0},p(s,o){e=s;const f={};if(o&33&&(f.isLast=e[0]&&e[11]===e[5].length-1),o&2&&(f.parent=e[1]),o&32&&(f.leaf=e[9]),o&4&&(f.text=e[2]),a!==(a=cu)){if(u){Ne();const d=u;I(d.$$.fragment,1,0,()=>{ae(d,1)}),Se()}a?(u=Re(a,l(e)),ue(u.$$.fragment),S(u.$$.fragment,1),ie(u,r.parentNode,r)):u=null}else a&&u.$set(f)},i(s){i||(u&&S(u.$$.fragment,s),i=!0)},o(s){u&&I(u.$$.fragment,s),i=!1},d(s){s&&N(n),s&&N(r),u&&ae(u,s)}}}function xo(t){let e,n=[],u=new Map,r,i=t[5];const a=l=>`${l[4]}-${l[11]}`;for(let l=0;l<i.length;l+=1){let s=du(t,i,l),o=a(s);u.set(o,n[l]=hu(o,s))}return{c(){e=ee("span");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=te(l,"SPAN",{"data-slate-node":!0});var s=le(e);for(let o=0;o<n.length;o+=1)n[o].l(s);s.forEach(N),this.h()},h(){C(e,"data-slate-node","text")},m(l,s){W(l,e,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null);t[7](e),r=!0},p(l,[s]){s&55&&(i=l[5],Ne(),n=Iu(n,s,a,1,l,i,u,e,Tu,hu,null,du),Se())},i(l){if(!r){for(let s=0;s<i.length;s+=1)S(n[s]);r=!0}},o(l){for(let s=0;s<n.length;s+=1)I(n[s]);r=!1},d(l){l&&N(e);for(let s=0;s<n.length;s+=1)n[s].d();t[7](null)}}}function $o(t,e,n){let u,r,{decorations:i}=e,{isLast:a}=e,{parent:l}=e,{text:s}=e;const o=Je();let f;function d(c){G[c?"unshift":"push"](()=>{f=c,n(3,f)})}return t.$$set=c=>{"decorations"in c&&n(6,i=c.decorations),"isLast"in c&&n(0,a=c.isLast),"parent"in c&&n(1,l=c.parent),"text"in c&&n(2,s=c.text)},t.$$.update=()=>{var c;t.$$.dirty&68&&n(5,u=V.decorations(s,i)),t.$$.dirty&4&&n(4,r=gt(s)),t.$$.dirty&28&&f&&((c=ln.get(o))==null||c.set(r,f),Ut.set(s,f),sn.set(f,s))},[a,l,s,f,r,u,i,d]}class qt extends X{constructor(e){super(),J(this,e,$o,xo,ne,{decorations:6,isLast:0,parent:1,text:2})}}function ef(t){let e,n;return e=new Oi({props:{node:t[0],decorations:t[1],selection:t[2]}}),{c(){ue(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){ie(e,u,r),n=!0},p(u,r){const i={};r&1&&(i.node=u[0]),r&2&&(i.decorations=u[1]),r&4&&(i.selection=u[2]),e.$set(i)},i(u){n||(S(e.$$.fragment,u),n=!0)},o(u){I(e.$$.fragment,u),n=!1},d(u){ae(e,u)}}}function tf(t){let e,n,u,r;const i=[rf,nf],a=[];function l(s,o){return s[4]?0:1}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=x()},l(s){n.l(s),u=x()},m(s,o){a[e].m(s,o),W(s,u,o),r=!0},p(s,o){let f=e;e=l(s),e===f?a[e].p(s,o):(Ne(),I(a[f],1,1,()=>{a[f]=null}),Se(),n=a[e],n?n.p(s,o):(n=a[e]=i[e](s),n.c()),S(n,1),n.m(u.parentNode,u))},i(s){r||(S(n),r=!0)},o(s){I(n),r=!1},d(s){a[e].d(s),s&&N(u)}}}function nf(t){let e,n,u;var r=qt;function i(a){return{props:{decorations:[],isLast:!1,parent:a[0],text:a[8]}}}return r&&(n=Re(r,i(t))),{c(){e=ee("div"),n&&ue(n.$$.fragment),this.h()},l(a){e=te(a,"DIV",{"data-slate-spacer":!0,class:!0});var l=le(e);n&&Ae(n.$$.fragment,l),l.forEach(N),this.h()},h(){C(e,"data-slate-spacer",""),C(e,"class","svelte-6bsca3")},m(a,l){W(a,e,l),n&&ie(n,e,null),u=!0},p(a,l){const s={};if(l&1&&(s.parent=a[0]),l&256&&(s.text=a[8]),r!==(r=qt)){if(n){Ne();const o=n;I(o.$$.fragment,1,0,()=>{ae(o,1)}),Se()}r?(n=Re(r,i(a)),ue(n.$$.fragment),S(n.$$.fragment,1),ie(n,e,null)):n=null}else r&&n.$set(s)},i(a){u||(n&&S(n.$$.fragment,a),u=!0)},o(a){n&&I(n.$$.fragment,a),u=!1},d(a){a&&N(e),n&&ae(n)}}}function rf(t){let e,n,u;var r=qt;function i(a){return{props:{decorations:[],isLast:!1,parent:a[0],text:a[8]}}}return r&&(n=Re(r,i(t))),{c(){e=ee("span"),n&&ue(n.$$.fragment),this.h()},l(a){e=te(a,"SPAN",{"data-slate-spacer":!0,class:!0});var l=le(e);n&&Ae(n.$$.fragment,l),l.forEach(N),this.h()},h(){C(e,"data-slate-spacer",""),C(e,"class","svelte-6bsca3")},m(a,l){W(a,e,l),n&&ie(n,e,null),u=!0},p(a,l){const s={};if(l&1&&(s.parent=a[0]),l&256&&(s.text=a[8]),r!==(r=qt)){if(n){Ne();const o=n;I(o.$$.fragment,1,0,()=>{ae(o,1)}),Se()}r?(n=Re(r,i(a)),ue(n.$$.fragment),S(n.$$.fragment,1),ie(n,e,null)):n=null}else r&&n.$set(s)},i(a){u||(n&&S(n.$$.fragment,a),u=!0)},o(a){n&&I(n.$$.fragment,a),u=!1},d(a){a&&N(e),n&&ae(n)}}}function uf(t){let e,n,u,r;const i=[tf,ef],a=[];function l(s,o){return s[6]&&!s[5]?0:1}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=x()},l(s){n.l(s),u=x()},m(s,o){a[e].m(s,o),W(s,u,o),r=!0},p(s,o){let f=e;e=l(s),e===f?a[e].p(s,o):(Ne(),I(a[f],1,1,()=>{a[f]=null}),Se(),n=a[e],n?n.p(s,o):(n=a[e]=i[e](s),n.c()),S(n,1),n.m(u.parentNode,u))},i(s){r||(S(n),r=!0)},o(s){I(n),r=!1},d(s){a[e].d(s),s&&N(u)}}}function af(t){let e,n,u,r;function i(s){t[16](s)}var a=t[10];function l(s){let o={isVoid:s[6],isInline:s[4],contenteditable:s[9],element:s[0],dir:s[7],$$slots:{default:[uf]},$$scope:{ctx:s}};return s[3]!==void 0&&(o.ref=s[3]),{props:o}}return a&&(e=Re(a,l(t)),G.push(()=>Te(e,"ref",i))),{c(){e&&ue(e.$$.fragment),u=x()},l(s){e&&Ae(e.$$.fragment,s),u=x()},m(s,o){e&&ie(e,s,o),W(s,u,o),r=!0},p(s,[o]){const f={};if(o&64&&(f.isVoid=s[6]),o&16&&(f.isInline=s[4]),o&512&&(f.contenteditable=s[9]),o&1&&(f.element=s[0]),o&128&&(f.dir=s[7]),o&262519&&(f.$$scope={dirty:o,ctx:s}),!n&&o&8&&(n=!0,f.ref=s[3],Xe(()=>n=!1)),o&1024&&a!==(a=s[10])){if(e){Ne();const d=e;I(d.$$.fragment,1,0,()=>{ae(d,1)}),Se()}a?(e=Re(a,l(s)),G.push(()=>Te(e,"ref",i)),ue(e.$$.fragment),S(e.$$.fragment,1),ie(e,u.parentNode,u)):e=null}else a&&e.$set(f)},i(s){r||(e&&S(e.$$.fragment,s),r=!0)},o(s){e&&I(e.$$.fragment,s),r=!1},d(s){s&&N(u),e&&ae(e,s)}}}function sf(t,e,n){let u,r,i,a,l,s,o,f,{element:d}=e,{decorations:c}=e,{selection:D=null}=e;const m=Le(Ot);it(t,m,y=>n(15,f=y));const E=Je(),F=hi();it(t,F,y=>n(14,o=y));let A,b,w;function P(y){w=y,n(3,w)}return t.$$set=y=>{"element"in y&&n(0,d=y.element),"decorations"in y&&n(1,c=y.decorations),"selection"in y&&n(2,D=y.selection)},t.$$.update=()=>{var y;if(t.$$.dirty&32768&&n(10,u=f),t.$$.dirty&16384&&n(5,r=o),t.$$.dirty&1&&n(4,i=E.isInline(d)),t.$$.dirty&1&&n(13,a=gt(d)),t.$$.dirty&17&&!i&&h.hasInlines(E,d)){const R=bi(_.string(d));R==="rtl"&&n(7,A=R)}if(t.$$.dirty&1&&n(6,l=h.isVoid(E,d)),t.$$.dirty&32&&n(9,s=!r),t.$$.dirty&113&&l){!r&&i&&n(9,s=!1);const[[R]]=_.texts(d);n(8,b=R),un.set(R,0),an.set(R,d)}t.$$.dirty&8201&&w&&((y=ln.get(E))==null||y.set(a,w),Ut.set(d,w),sn.set(w,d))},[d,c,D,w,i,r,l,A,b,s,u,m,F,a,o,f,P]}class Du extends X{constructor(e){super(),J(this,e,sf,af,ne,{element:0,decorations:1,selection:2})}}function lf(t){let e,n,u;var r=Du;function i(a){return{props:{decorations:a[2],element:a[0],selection:a[1]}}}return r&&(e=Re(r,i(t))),{c(){e&&ue(e.$$.fragment),n=x()},l(a){e&&Ae(e.$$.fragment,a),n=x()},m(a,l){e&&ie(e,a,l),W(a,n,l),u=!0},p(a,[l]){const s={};if(l&4&&(s.decorations=a[2]),l&1&&(s.element=a[0]),l&2&&(s.selection=a[1]),r!==(r=Du)){if(e){Ne();const o=e;I(o.$$.fragment,1,0,()=>{ae(o,1)}),Se()}r?(e=Re(r,i(a)),ue(e.$$.fragment),S(e.$$.fragment,1),ie(e,n.parentNode,n)):e=null}else r&&e.$set(s)},i(a){u||(e&&S(e.$$.fragment,a),u=!0)},o(a){e&&I(e.$$.fragment,a),u=!1},d(a){a&&N(n),e&&ae(e,a)}}}const wi=Ve();function dd(){return Le(wi)}function of(t,e,n){let u,r,i,a,l,s,{parent:o}=e,{element:f}=e,{path:d}=e,{index:c}=e,{decorations:D}=e,{selection:m=null}=e;const E=Zn();it(t,E,g=>n(18,s=g));const F=je(wi,!1),A=Je();let b=c,w=o,P=f,y=d,R=D,j=m;return t.$$set=g=>{"parent"in g&&n(4,o=g.parent),"element"in g&&n(5,f=g.element),"path"in g&&n(6,d=g.path),"index"in g&&n(7,c=g.index),"decorations"in g&&n(8,D=g.decorations),"selection"in g&&n(9,m=g.selection)},t.$$.update=()=>{t.$$.dirty&1152&&b!==c&&n(10,b=c),t.$$.dirty&2064&&w!==o&&n(11,w=o),t.$$.dirty&33&&P!==f&&n(0,P=f),t.$$.dirty&4160&&y!==d&&n(12,y=d),t.$$.dirty&8448&&(ni(R,D)||n(13,R=D)),t.$$.dirty&16896&&(ri(j,m)||n(14,j=m)),t.$$.dirty&1025&&un.set(P,b),t.$$.dirty&2049&&an.set(P,w),t.$$.dirty&5120&&n(16,u=y.concat(b)),t.$$.dirty&65536&&n(15,r=h.range(A,u)),t.$$.dirty&262144&&n(17,i=s),t.$$.dirty&237569&&n(2,a=pi(i([P,u]),r,R)),t.$$.dirty&49152&&n(1,l=j&&p.intersection(r,j)),t.$$.dirty&2&&F.set(!!l)},[P,l,a,E,o,f,d,c,D,m,b,w,y,R,j,r,u,i,s]}class ff extends X{constructor(e){super(),J(this,e,of,lf,rn,{parent:4,element:5,path:6,index:7,decorations:8,selection:9})}}function cf(t){let e,n;return e=new qt({props:{decorations:t[2],isLast:t[3],parent:t[1],text:t[0]}}),{c(){ue(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){ie(e,u,r),n=!0},p(u,[r]){const i={};r&4&&(i.decorations=u[2]),r&8&&(i.isLast=u[3]),r&2&&(i.parent=u[1]),r&1&&(i.text=u[0]),e.$set(i)},i(u){n||(S(e.$$.fragment,u),n=!0)},o(u){I(e.$$.fragment,u),n=!1},d(u){ae(e,u)}}}function df(t,e,n){let u,r,i,a,l,s,{parent:o}=e,{text:f}=e,{path:d}=e,{index:c}=e,{isLeafBlock:D}=e,{decorations:m}=e;const E=Zn();it(t,E,R=>n(17,s=R));const F=Je();let A=c,b=f,w=d,P=o,y=m;return t.$$set=R=>{"parent"in R&&n(5,o=R.parent),"text"in R&&n(6,f=R.text),"path"in R&&n(7,d=R.path),"index"in R&&n(8,c=R.index),"isLeafBlock"in R&&n(9,D=R.isLeafBlock),"decorations"in R&&n(10,m=R.decorations)},t.$$.update=()=>{t.$$.dirty&2304&&A!==c&&n(11,A=c),t.$$.dirty&65&&b!==f&&n(0,b=f),t.$$.dirty&4224&&w!==d&&n(12,w=d),t.$$.dirty&34&&P!==o&&n(1,P=o),t.$$.dirty&9216&&(ni(y,m)||n(13,y=m)),t.$$.dirty&2049&&un.set(b,A),t.$$.dirty&3&&an.set(b,P),t.$$.dirty&6144&&n(15,u=w.concat(A)),t.$$.dirty&2562&&n(3,r=D&&A===P.children.length-1),t.$$.dirty&32768&&n(14,i=h.range(F,u)),t.$$.dirty&131072&&n(16,a=s),t.$$.dirty&122881&&n(2,l=pi(a([b,u]),i,y))},[b,P,l,r,E,o,f,d,c,D,m,A,w,y,i,u,a,s]}class hf extends X{constructor(e){super(),J(this,e,df,cf,rn,{parent:5,text:6,path:7,index:8,isLeafBlock:9,decorations:10})}}function gu(t,e,n){const u=t.slice();return u[7]=e[n],u[9]=n,u}function Df(t){let e,n;return e=new hf({props:{decorations:t[0],parent:t[2],text:t[7],index:t[9],path:t[4],isLeafBlock:t[3]}}),{c(){ue(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){ie(e,u,r),n=!0},p(u,r){const i={};r&1&&(i.decorations=u[0]),r&4&&(i.parent=u[2]),r&4&&(i.text=u[7]),r&4&&(i.index=u[9]),r&16&&(i.path=u[4]),r&8&&(i.isLeafBlock=u[3]),e.$set(i)},i(u){n||(S(e.$$.fragment,u),n=!0)},o(u){I(e.$$.fragment,u),n=!1},d(u){ae(e,u)}}}function gf(t){let e,n;return e=new ff({props:{decorations:t[0],selection:t[1],element:t[7],parent:t[2],index:t[9],path:t[4]}}),{c(){ue(e.$$.fragment)},l(u){Ae(e.$$.fragment,u)},m(u,r){ie(e,u,r),n=!0},p(u,r){const i={};r&1&&(i.decorations=u[0]),r&2&&(i.selection=u[1]),r&4&&(i.element=u[7]),r&4&&(i.parent=u[2]),r&4&&(i.index=u[9]),r&16&&(i.path=u[4]),e.$set(i)},i(u){n||(S(e.$$.fragment,u),n=!0)},o(u){I(e.$$.fragment,u),n=!1},d(u){ae(e,u)}}}function mu(t,e){let n,u,r,i,a,l;const s=[gf,Df],o=[];function f(d,c){return c&4&&(u=null),u==null&&(u=!!L.isElement(d[7])),u?0:1}return r=f(e,-1),i=o[r]=s[r](e),{key:t,first:null,c(){n=x(),i.c(),a=x(),this.h()},l(d){n=x(),i.l(d),a=x(),this.h()},h(){this.first=n},m(d,c){W(d,n,c),o[r].m(d,c),W(d,a,c),l=!0},p(d,c){e=d;let D=r;r=f(e,c),r===D?o[r].p(e,c):(Ne(),I(o[D],1,1,()=>{o[D]=null}),Se(),i=o[r],i?i.p(e,c):(i=o[r]=s[r](e),i.c()),S(i,1),i.m(a.parentNode,a))},i(d){l||(S(i),l=!0)},o(d){I(i),l=!1},d(d){d&&N(n),o[r].d(d),d&&N(a)}}}function mf(t){let e=[],n=new Map,u,r,i=t[2].children;const a=l=>gt(l[7]);for(let l=0;l<i.length;l+=1){let s=gu(t,i,l),o=a(s);n.set(o,e[l]=mu(o,s))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();u=x()},l(l){for(let s=0;s<e.length;s+=1)e[s].l(l);u=x()},m(l,s){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(l,s);W(l,u,s),r=!0},p(l,[s]){s&31&&(i=l[2].children,Ne(),e=Iu(e,s,a,1,l,i,n,u.parentNode,Tu,mu,u,gu),Se())},i(l){if(!r){for(let s=0;s<i.length;s+=1)S(e[s]);r=!0}},o(l){for(let s=0;s<e.length;s+=1)I(e[s]);r=!1},d(l){for(let s=0;s<e.length;s+=1)e[s].d(l);l&&N(u)}}}function pi(t,e,n=[]){for(const u of n){const r=p.intersection(u,e);r&&t.push(r)}return t}function Cf(t,e,n){let u,r,{node:i}=e,{decorations:a}=e,{selection:l=null}=e;const s=Je();let o=i;return t.$$set=f=>{"node"in f&&n(5,i=f.node),"decorations"in f&&n(0,a=f.decorations),"selection"in f&&n(1,l=f.selection)},t.$$.update=()=>{t.$$.dirty&36&&(o!==i||i===s)&&n(2,o=i),t.$$.dirty&4&&n(4,u=ot(o)),t.$$.dirty&4&&n(3,r=L.isElement(o)&&!s.isInline(o)&&h.hasInlines(s,o))},[a,l,o,r,u,i]}class Oi extends X{constructor(e){super(),J(this,e,Cf,mf,rn,{node:5,decorations:0,selection:1})}}const Cu=t=>typeof t=="object"&&t!=null&&t.nodeType===1,vu=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",wn=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return vu(n.overflowY,e)||vu(n.overflowX,e)||(u=>{const r=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(u);return!!r&&(r.clientHeight<u.scrollHeight||r.clientWidth<u.scrollWidth)})(t)}return!1},Ht=(t,e,n,u,r,i,a,l)=>i<t&&a>e||i>t&&a<e?0:i<=t&&l<=n||a>=e&&l>=n?i-t-u:a>e&&l<n||i<t&&l>n?a-e+r:0,vf=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},Bu=(t,e)=>{var n,u,r,i;if(typeof document>"u")return[];const{scrollMode:a,block:l,inline:s,boundary:o,skipOverflowHiddenElements:f}=e,d=typeof o=="function"?o:De=>De!==o;if(!Cu(t))throw new TypeError("Invalid target");const c=document.scrollingElement||document.documentElement,D=[];let m=t;for(;Cu(m)&&d(m);){if(m=vf(m),m===c){D.push(m);break}m!=null&&m===document.body&&wn(m)&&!wn(document.documentElement)||m!=null&&wn(m,f)&&D.push(m)}const E=(u=(n=window.visualViewport)==null?void 0:n.width)!=null?u:innerWidth,F=(i=(r=window.visualViewport)==null?void 0:r.height)!=null?i:innerHeight,{scrollX:A,scrollY:b}=window,{height:w,width:P,top:y,right:R,bottom:j,left:g}=t.getBoundingClientRect();let K=l==="start"||l==="nearest"?y:l==="end"?j:y+w/2,Y=s==="center"?g+P/2:s==="end"?R:g;const $=[];for(let De=0;De<D.length;De++){const M=D[De],{height:me,width:pe,top:T,right:ye,bottom:Fe,left:se}=M.getBoundingClientRect();if(a==="if-needed"&&y>=0&&g>=0&&j<=F&&R<=E&&y>=T&&j<=Fe&&g>=se&&R<=ye)return $;const Be=getComputedStyle(M),Ie=parseInt(Be.borderLeftWidth,10),be=parseInt(Be.borderTopWidth,10),Ke=parseInt(Be.borderRightWidth,10),U=parseInt(Be.borderBottomWidth,10);let oe=0,ge=0;const Me="offsetWidth"in M?M.offsetWidth-M.clientWidth-Ie-Ke:0,Ye="offsetHeight"in M?M.offsetHeight-M.clientHeight-be-U:0,Ze="offsetWidth"in M?M.offsetWidth===0?0:pe/M.offsetWidth:0,$e="offsetHeight"in M?M.offsetHeight===0?0:me/M.offsetHeight:0;if(c===M)oe=l==="start"?K:l==="end"?K-F:l==="nearest"?Ht(b,b+F,F,be,U,b+K,b+K+w,w):K-F/2,ge=s==="start"?Y:s==="center"?Y-E/2:s==="end"?Y-E:Ht(A,A+E,E,Ie,Ke,A+Y,A+Y+P,P),oe=Math.max(0,oe+b),ge=Math.max(0,ge+A);else{oe=l==="start"?K-T-be:l==="end"?K-Fe+U+Ye:l==="nearest"?Ht(T,Fe,me,be,U+Ye,K,K+w,w):K-(T+me/2)+Ye/2,ge=s==="start"?Y-se-Ie:s==="center"?Y-(se+pe/2)+Me/2:s==="end"?Y-ye+Ke+Me:Ht(se,ye,pe,Ie,Ke+Me,Y,Y+P,P);const{scrollLeft:et,scrollTop:tt}=M;oe=Math.max(0,Math.min(tt+oe/$e,M.scrollHeight-me/$e+Ye)),ge=Math.max(0,Math.min(et+ge/Ze,M.scrollWidth-pe/Ze+Me)),K+=tt-oe,Y+=et-ge}$.push({el:M,top:oe,left:ge})}return $},Bf=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function Ef(t,e){if(!t.isConnected||!(u=>{let r=u;for(;r&&r.parentNode;){if(r.parentNode===document)return!0;r=r.parentNode instanceof ShadowRoot?r.parentNode.host:r.parentNode}return!1})(t))return;if((u=>typeof u=="object"&&typeof u.behavior=="function")(e))return e.behavior(Bu(t,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:u,top:r,left:i}of Bu(t,Bf(e)))u.scroll({top:r,left:i,behavior:n})}const Eu=()=>{};function Af(t,e=0,n={}){let u=!1,r=null,i=null;const a=n.before||Eu,l=n.after||Eu;function s(){return r!==null?(clearTimeout(r),r=null,!0):!1}function o(){s()&&(i=null),u=!1}function f(){i!==null&&(i(),i=null),o()}const d=function(...D){const m=this;function E(){t.apply(m,D),l()}u||(u=!0,a()),i=E,s(),r=setTimeout(E,e)};return d.cancel=o,d.flush=f,d}function Ff(t){let e,n,u,r,i,a,l;n=new Oi({props:{node:t[6],selection:t[7],decorations:t[5]}});let s=[t[28],{role:u=t[4].readOnly?void 0:"textbox"},{spellcheck:t[1]},{autocorrect:t[2]},{autocapitalize:t[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},{contenteditable:r=!t[4].readOnly}],o={};for(let f=0;f<s.length;f+=1)o=pt(o,s[f]);return{c(){e=ee("div"),ue(n.$$.fragment),this.h()},l(f){e=te(f,"DIV",{role:!0,spellcheck:!0,autocorrect:!0,autocapitalize:!0,"data-svelte-editor":!0,"data-slate-node":!0,contenteditable:!0});var d=le(e);Ae(n.$$.fragment,d),d.forEach(N),this.h()},h(){lr(e,o),Ge(e,"svelte-e8cjio",!0)},m(f,d){W(f,e,d),ie(n,e,null),t[40](e),i=!0,a||(l=[we(e,"beforeinput",t[10]),we(e,"keydown",t[12]),we(e,"keyup",t[13]),we(e,"keypress",t[14]),we(e,"input",t[11]),we(e,"focus",t[15]),we(e,"blur",t[16]),we(e,"click",t[17]),we(e,"compositionend",t[18]),we(e,"compositionupdate",t[19]),we(e,"compositionstart",t[20]),we(e,"paste",t[21]),we(e,"copy",t[22]),we(e,"cut",t[23]),we(e,"dragover",t[24]),we(e,"dragstart",t[25]),we(e,"drop",t[26]),we(e,"dragend",t[27])],a=!0)},p(f,d){const c={};d[0]&64&&(c.node=f[6]),d[0]&128&&(c.selection=f[7]),d[0]&32&&(c.decorations=f[5]),n.$set(c),lr(e,o=Ru(s,[d[0]&268435456&&f[28],(!i||d[0]&16&&u!==(u=f[4].readOnly?void 0:"textbox"))&&{role:u},(!i||d[0]&2)&&{spellcheck:f[1]},(!i||d[0]&4)&&{autocorrect:f[2]},(!i||d[0]&8)&&{autocapitalize:f[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},(!i||d[0]&16&&r!==(r=!f[4].readOnly))&&{contenteditable:r}])),Ge(e,"svelte-e8cjio",!0)},i(f){i||(S(n.$$.fragment,f),i=!0)},o(f){I(n.$$.fragment,f),i=!1},d(f){f&&N(e),ae(n),t[40](null),a=!1,xi(l)}}}const Ot=Ve(),yi=Ve(),_i=Ve();function Et(t,e){return vt(e)&&Jn(t,e)}function Ue(t,e){return vt(e)&&Jn(t,e,{editable:!0})}function Au(t,e){if(ku.get(t))return!1;{const n=Et(t,e)&&Dt(e);return h.isVoid(t,n)}}function bf(t,e){const n=e.startContainer.parentElement,u=n.getBoundingClientRect;n.getBoundingClientRect=e.getBoundingClientRect.bind(e),Ef(n,{scrollMode:"if-needed"}),n.getBoundingClientRect=u}function wf(t,e,n){const u=["Element","Leaf","Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView","ref","spellcheck","autocorrect","autocapitalize","onKeyDown"];let r=Yt(e,u),i,a,{Element:l=Ei}=e,{Leaf:s=Po}=e,{Placeholder:o=Bi}=e,{placeholder:f=void 0}=e,{readOnly:d=!1}=e,{autoFocus:c=!1}=e,{decorate:D=gi}=e,{scrollSelectionIntoView:m=bf}=e,{ref:E=void 0}=e,{spellcheck:F=!0}=e,{autocorrect:A="true"}=e,{autocapitalize:b="true"}=e,{onKeyDown:w=()=>{}}=e;const P=Do(),y=je(Ot,l),R=je(yi,s),j=je(_i,o),g=Je(),K=di();it(t,K,B=>n(6,i=B));const Y=hi(),$=co(),De=Zn(),M=Di(),me=ho();it(t,me,B=>n(7,a=B));const pe=[],T={isComposing:!1,hasInsertPrefixInCompositon:!0,updateSelectionTimeoutId:null,isDraggingInternally:!1,latestElement:null,readOnly:d};let ye=[],Fe;function se(){if(T.isComposing||T.isDraggingInternally||T.updateSelectionTimeoutId)Be();else{const B=Tt(g),k=ut(g,g),q=B.getSelection();if(B.activeElement===k?(n(4,T.latestElement=B.activeElement,T),At.set(g,!0),$.set(!0)):(At.delete(g),$.set(!1)),!q){O.deselect(g);return}const re=Ue(g,q.anchorNode)||Au(g,q.anchorNode),z=Ue(g,q.focusNode)||Au(g,q.focusNode);if(re&&z){const Z=Rt(g,q,{exactMatch:!1,suppressThrow:!0});if(Z){O.select(g,Z);return}}O.deselect(g)}}const Be=Af(()=>or().then(se),0);_u(()=>{const B=Gn(E);return B&&(yn.set(g,B),B.document.addEventListener("selectionchange",Be)),Kt.set(g,E),Ut.set(g,E),sn.set(E,g),()=>{Kt.delete(g),Ut.delete(g),B&&(yn.delete(g),B.document.removeEventListener("selectionchange",Be))}});function Ie(){if(!E)return;const B=Tt(g),k=B==null?void 0:B.getSelection();if(T.isComposing||!k||!iu(g))return;const q=k.type!=="None";if(!g.selection&&!q)return;const re=Kt.get(g);let z=!1;if(re.contains(k.anchorNode)&&re.contains(k.focusNode)&&(z=!0),q&&z&&g.selection){const qe=Rt(g,k,{exactMatch:!0,suppressThrow:!0});if(qe&&p.equals(qe,g.selection))return}if(g.selection&&!lo(g,g.selection)){n(38,g.selection=Rt(g,k,{exactMatch:!1,suppressThrow:!1}),g),me.set(g.selection);return}const Z=g.selection&&z&&xt(g,g.selection);Z?(p.isBackward(g.selection)?k.setBaseAndExtent(Z.endContainer,Z.endOffset,Z.startContainer,Z.startOffset):k.setBaseAndExtent(Z.startContainer,Z.startOffset,Z.endContainer,Z.endOffset),m(g,Z)):k.removeAllRanges(),T.updateSelectionTimeoutId&&clearTimeout(T.updateSelectionTimeoutId);let ct=setTimeout(()=>{Z&&jn&&ut(g,g).focus(),Object.assign(T,{updateSelectionTimeoutId:null})});Object.assign(T,{updateSelectionTimeoutId:ct})}$i(()=>or().then(Ie));function be(B){if(!T.readOnly&&Ue(g,B.target)){const k=B.inputType,q=B.dataTransfer||B.data||void 0;if(Oe(M,"onBeforeInput",B)===!1||B.cancelBubble||k==="insertCompositionText"||k==="deleteCompositionText")return;let re=!1;if(k==="insertText"&&g.selection&&p.isCollapsed(g.selection)&&B.data&&B.data.length===1&&/[a-z ]/i.test(B.data)&&g.selection.anchor.offset!==0){re=!0,g.marks&&(re=!1);const z=h.above(g,{at:g.selection.anchor,match:Z=>h.isInline(g,Z),mode:"highest"});if(z){const[,Z]=z;h.isEnd(g,g.selection.anchor,Z)&&(re=!1)}}if(re||B.preventDefault(),!k.startsWith("delete")||k.startsWith("deleteBy")){const[z]=B.getTargetRanges();if(z){const Z=Rt(g,z,{exactMatch:!1,suppressThrow:!1});(!g.selection||!p.equals(g.selection,Z))&&O.select(g,Z)}}if(g.selection&&p.isExpanded(g.selection)&&k.startsWith("delete")){const z=k.endsWith("Backward")?"backward":"forward";h.deleteFragment(g,{direction:z});return}switch(k){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{h.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{h.deleteForward(g);break}case"deleteContentBackward":{h.deleteBackward(g);break}case"deleteEntireSoftLine":{h.deleteBackward(g,{unit:"line"}),h.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{h.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{h.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{h.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{h.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{h.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{h.deleteForward(g,{unit:"word"});break}case"insertLineBreak":{h.insertSoftBreak(g);break}case"insertParagraph":{h.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{g.selection&&p.isExpanded(g.selection)&&h.deleteFragment(g),k==="insertFromComposition"&&T.isComposing&&n(4,T.isComposing=!1,T),(q==null?void 0:q.constructor.name)==="DataTransfer"?g.insertData(q):typeof q=="string"&&(re?pe.push(()=>h.insertText(g,q)):h.insertText(g,q));break}}}}function Ke(B){for(const k of pe)k();pe.length=0}function U(B){if(!T.readOnly&&!T.isComposing&&Ue(g,B.target)){const k=Oe(M,"onKeyDown",B);if(k===!1||B.cancelBubble)return k;const q=g.children[g.selection!==null?g.selection.focus.path[0]:0],re=bi(_.string(q))==="rtl";if(Ee.isRedo(B)){B.preventDefault();const z=g;typeof z.redo=="function"&&z.redo()}else if(Ee.isUndo(B)){B.preventDefault();const z=g;typeof z.undo=="function"&&z.undo()}else if(Ee.isMoveLineBackward(B))B.preventDefault(),O.move(g,{unit:"line",reverse:!0});else if(Ee.isMoveLineForward(B))B.preventDefault(),O.move(g,{unit:"line"});else if(Ee.isExtendLineBackward(B))B.preventDefault(),O.move(g,{unit:"line",edge:"focus",reverse:!0});else if(Ee.isExtendLineForward(B))B.preventDefault(),O.move(g,{unit:"line",edge:"focus"});else if(Ee.isMoveBackward(B))B.preventDefault(),g.selection&&p.isCollapsed(g.selection)?O.move(g,{reverse:!re}):O.collapse(g,{edge:"start"});else if(Ee.isMoveForward(B))B.preventDefault(),g.selection&&p.isCollapsed(g.selection)?O.move(g,{reverse:re}):O.collapse(g,{edge:"end"});else if(Ee.isMoveWordBackward(B))B.preventDefault(),g.selection&&p.isExpanded(g.selection)&&O.collapse(g,{edge:"focus"}),O.move(g,{unit:"word",reverse:!re});else if(Ee.isMoveWordForward(B))B.preventDefault(),g.selection&&p.isExpanded(g.selection)&&O.collapse(g,{edge:"focus"}),O.move(g,{unit:"word",reverse:re});else if(vo("mod+a",B))B.preventDefault(),O.select(g,h.range(g,[]));else if(uu){if((ti||An)&&g.selection&&(Ee.isDeleteBackward(B)||Ee.isDeleteForward(B))&&p.isCollapsed(g.selection)){const Z=_.parent(g,g.selection.anchor.path);if(L.isElement(Z)&&h.isVoid(g,Z)&&h.isInline(g,Z)){B.preventDefault(),h.deleteBackward(g,{unit:"block"});return}}const z=w(B);if(z===!1||B.cancelBubble)return z}else{Ee.isBold(B)||Ee.isItalic(B)||Ee.isTransposeCharacter(B)?B.preventDefault():Ee.isSplitBlock(B)?(B.preventDefault(),h.insertBreak(g)):Ee.isDeleteBackward(B)?(B.preventDefault(),g.selection&&p.isExpanded(g.selection)?h.deleteFragment(g,{direction:"backward"}):h.deleteBackward(g)):Ee.isDeleteForward(B)?(B.preventDefault(),g.selection&&p.isExpanded(g.selection)?h.deleteFragment(g,{direction:"forward"}):h.deleteForward(g)):Ee.isDeleteLineBackward(B)?(B.preventDefault(),g.selection&&p.isExpanded(g.selection)?h.deleteFragment(g,{direction:"backward"}):h.deleteBackward(g,{unit:"line"})):Ee.isDeleteLineForward(B)?(B.preventDefault(),g.selection&&p.isExpanded(g.selection)?h.deleteFragment(g,{direction:"forward"}):h.deleteForward(g,{unit:"line"})):Ee.isDeleteWordBackward(B)?(B.preventDefault(),g.selection&&p.isExpanded(g.selection)?h.deleteFragment(g,{direction:"backward"}):h.deleteBackward(g,{unit:"word"})):Ee.isDeleteWordForward(B)&&(B.preventDefault(),g.selection&&p.isExpanded(g.selection)?h.deleteFragment(g,{direction:"forward"}):h.deleteForward(g,{unit:"word"}));const z=w(B);return z===!1||B.cancelBubble?z:Oe(M,"onKeyDown",B)}}}function oe(B){return Oe(M,"onKeyUp",B)}function ge(B){return Oe(M,"onKeyPress",B)}function Me(B){if(!T.readOnly&&!T.updateSelectionTimeoutId&&Ue(g,B.target)){const k=ut(g,g),q=Tt(g);if(n(4,T.latestElement=q.activeElement,T),jn&&B.target!==k){k.focus();return}return At.set(g,!0),$.set(!0),Oe(M,"onFocus",B)}}function Ye(B){if(T.readOnly||T.updateSelectionTimeoutId||!Ue(g,B.target))return;const k=Tt(g);if(T.latestElement===k.activeElement)return;const q=B.relatedTarget,re=ut(g,g);if(q!==re&&!(xe(q)&&q.hasAttribute("data-slate-spacer"))){if(q!=null&&vt(q)&&Jn(g,q)){const z=Dt(q);if(L.isElement(z)&&!g.isVoid(z))return}if(An){const z=k.getSelection();z==null||z.removeAllRanges()}return At.delete(g),$.set(!1),Oe(M,"onBlur",B)}}function Ze(B){if(!T.readOnly&&Et(g,B.target)&&vt(B.target)){const k=Dt(B.target),q=ot(k);if(h.hasPath(g,q)&&_.get(g,q)===k){const z=h.start(g,q),Z=h.end(g,q),ct=h.void(g,{at:z}),qe=h.void(g,{at:Z});if(ct&&qe&&v.equals(ct[1],qe[1])){const Bt=h.range(g,z);O.select(g,Bt)}}return Oe(M,"onClick",B)}}function $e(B){if(Ue(g,B.target)){n(4,T.isComposing=!1,T);const k=B.data;if(!An&&!uo&&!to&&!io&&k&&h.insertText(g,k),g.selection&&p.isCollapsed(g.selection)){const q=g.selection.anchor.path,re=_.leaf(g,q);T.hasInsertPrefixInCompositon&&(n(4,T.hasInsertPrefixInCompositon=!1,T),h.withoutNormalizing(g,()=>{const z=re.text.replace(/^\uFEFF/,"");O.delete(g,{distance:re.text.length,reverse:!0}),O.insertText(g,z)}))}return Oe(M,"onCompositionEnd",B)}}function et(B){if(Ue(g,B.target))return n(4,T.isComposing=!0,T),Oe(M,"onCompositionUpdate",B)}function tt(B){if(Ue(g,B.target)){if(g.selection){if(p.isExpanded(g.selection)){h.deleteFragment(g);return}const k=h.above(g,{match:q=>h.isInline(g,q),mode:"highest"});if(k){const[,q]=k;if(h.isEnd(g,g.selection.anchor,q)){const re=h.after(g,q);O.setSelection(g,{anchor:re,focus:re})}}g.marks&&(n(4,T.hasInsertPrefixInCompositon=!0,T),O.insertNodes(g,{text:"\uFEFF",...g.marks},{select:!0}))}return Oe(M,"onCompositionStart",B)}}function st(B){if(!T.readOnly&&Ue(g,B.target))return(!uu||Jl(B))&&(B.preventDefault(),B.clipboardData&&g.insertData(B.clipboardData)),Oe(M,"onPaste",B)}function _e(B){if(Ue(g,B.target))return B.preventDefault(),g.setFragmentData(B.clipboardData),Oe(M,"onCopy",B)}function Pt(B){if(!T.readOnly&&Ue(g,B.target)){if(B.preventDefault(),g.setFragmentData(B.clipboardData),g.selection)if(p.isExpanded(g.selection))h.deleteFragment(g);else{const k=_.parent(g,g.selection.anchor.path);h.isVoid(g,k)&&O.delete(g)}return Oe(M,"onCut",B)}}function hn(B){if(Et(g,B.target)){const k=Dt(B.target);return h.isVoid(g,k)&&B.preventDefault(),Oe(M,"onDragOver",B)}}function Dn(B){if(!T.readOnly&&Et(g,B.target)){const k=Dt(B.target),q=ot(k);if(h.isVoid(g,k)||h.void(g,{at:q,voids:!0})){const z=h.range(g,q);O.select(g,z)}return n(4,T.isDraggingInternally=!0,T),g.setFragmentData(B.dataTransfer),Oe(M,"onDragStart",B)}}function zt(B){if(!T.readOnly&&Et(g,B.target)){B.preventDefault();const k=g.selection,q=so(g,B),re=B.dataTransfer;return O.select(g,q),T.isDraggingInternally&&(k&&!p.equals(k,q)&&!h.void(g,{at:q,voids:!0})&&O.delete(g,{at:k}),n(4,T.isDraggingInternally=!1,T)),g.insertData(re),iu(g)||ao(g),Oe(M,"onDrop",B)}}function gn(B){if(!T.readOnly&&T.isDraggingInternally&&Et(g,B.target))return n(4,T.isDraggingInternally=!1,T),Oe(M,"onDragEnd",B)}function Nt(B){G[B?"unshift":"push"](()=>{E=B,n(0,E)})}return t.$$set=B=>{e=pt(pt({},e),ju(B)),n(28,r=Yt(e,u)),"Element"in B&&n(29,l=B.Element),"Leaf"in B&&n(30,s=B.Leaf),"Placeholder"in B&&n(31,o=B.Placeholder),"placeholder"in B&&n(32,f=B.placeholder),"readOnly"in B&&n(33,d=B.readOnly),"autoFocus"in B&&n(34,c=B.autoFocus),"decorate"in B&&n(35,D=B.decorate),"scrollSelectionIntoView"in B&&n(36,m=B.scrollSelectionIntoView),"ref"in B&&n(0,E=B.ref),"spellcheck"in B&&n(1,F=B.spellcheck),"autocorrect"in B&&n(2,A=B.autocorrect),"autocapitalize"in B&&n(3,b=B.autocapitalize),"onKeyDown"in B&&n(37,w=B.onKeyDown)},t.$$.update=()=>{if(t.$$.dirty[0]&1&&P.set(E),t.$$.dirty[0]&536870912&&y.set(l),t.$$.dirty[0]&1073741824&&R.set(s),t.$$.dirty[1]&1&&j.set(o),t.$$.dirty[1]&132&&ku.set(g,d),t.$$.dirty[1]&4&&Y.set(d),t.$$.dirty[1]&4&&n(4,T.readOnly=d,T),t.$$.dirty[1]&16&&De.set(D),t.$$.dirty[0]&112|t.$$.dirty[1]&146)if(i.children.length===1&&Array.from(_.texts(i)).length===1&&_.string(i)===""&&!T.isComposing){const B=h.start(g,[]);n(5,ye=[...D([g,[]]),{[Lt]:!0,placeholder:f,anchor:B,focus:B}])}else ye.length&&n(5,ye=D([g,[]]));t.$$.dirty[0]&1|t.$$.dirty[1]&264&&Fe!==c&&E&&(c&&E.focus(),n(39,Fe=c))},[E,F,A,b,T,ye,i,a,K,me,be,Ke,U,oe,ge,Me,Ye,Ze,$e,et,tt,st,_e,Pt,hn,Dn,zt,gn,r,l,s,o,f,d,c,D,m,w,g,Fe,Nt]}class pf extends X{constructor(e){super(),J(this,e,wf,Ff,rn,{Element:29,Leaf:30,Placeholder:31,placeholder:32,readOnly:33,autoFocus:34,decorate:35,scrollSelectionIntoView:36,ref:0,spellcheck:1,autocorrect:2,autocapitalize:3,onKeyDown:37},null,[-1,-1])}}function Fu(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=(e.top+e.bottom)/2;return t.top<=n&&t.bottom>=n}function bu(t,e,n){var i,a;const u=(i=xt(t,e))==null?void 0:i.getBoundingClientRect(),r=(a=xt(t,n))==null?void 0:a.getBoundingClientRect();return Fu(u,r)&&Fu(r,u)}function Of(t,e){const n=h.range(t,p.end(e)),u=Array.from(h.positions(t,{at:e}));let r=0,i=u.length,a=Math.floor(i/2);if(bu(t,h.range(t,u[r]),n))return h.range(t,u[r],n);if(u.length<2)return h.range(t,u[u.length-1],n);for(;a!==u.length&&a!==r;)bu(t,h.range(t,u[a]),n)?i=a:r=a,a=Math.floor((r+i)/2);return h.range(t,u[i],n)}function hd(t){const e=t,{apply:n,onChange:u,deleteBackward:r}=e;return ln.set(e,new WeakMap),e.deleteBackward=i=>{if(i!=="line")return r(i);if(t.selection&&p.isCollapsed(t.selection)){const a=h.above(t,{match:l=>h.isBlock(t,l),at:t.selection});if(a){const[,l]=a,s=h.range(t,l,t.selection.anchor),o=Of(e,s);p.isCollapsed(o)||O.delete(t,{at:o})}}},e.apply=i=>{const a=[];switch(i.type){case"insert_text":case"remove_text":case"set_node":{for(const[l,s]of h.levels(e,{at:i.path})){const o=gt(l);a.push([s,o])}break}case"insert_node":case"remove_node":case"merge_node":case"split_node":{for(const[l,s]of h.levels(e,{at:v.parent(i.path)})){const o=gt(l);a.push([s,o])}break}case"move_node":{for(const[l,s]of h.levels(e,{at:v.common(v.parent(i.path),v.parent(i.newPath))})){const o=gt(l);a.push([s,o])}break}}n(i);for(const[l,s]of a){const[o]=h.node(e,l);_n.set(o,s)}},e.setFragmentData=i=>{const{selection:a}=e;if(!a)return;const[l,s]=p.edges(a),o=h.void(e,{at:l.path}),f=h.void(e,{at:s.path});if(p.isCollapsed(a)&&!o)return;const d=xt(e,a);if(!d)return;let c=d.cloneContents(),D=c.childNodes[0];if(c.childNodes.forEach(b=>{b.textContent&&b.textContent.trim()!==""&&(D=b)}),f){const[b]=f,w=d.cloneRange(),P=ut(e,b);w.setEndAfter(P),c=w.cloneContents()}if(o&&(D=c.querySelector("[data-slate-spacer]")),Array.from(c.querySelectorAll("[data-slate-zero-width]")).forEach(b=>{const w=b.getAttribute("data-slate-zero-width")==="n";b.textContent=w?`
`:""}),xu(D)){const b=document.createElement("span");b.style.whiteSpace="pre",b.appendChild(D),c.appendChild(b),D=b}const m=e.getFragment(),E=JSON.stringify(m),F=window.btoa(encodeURIComponent(E));D.setAttribute("data-slate-fragment",F),i.setData("application/x-slate-fragment",F);const A=document.createElement("div");return A.appendChild(c),A.setAttribute("hidden","true"),document.body.appendChild(A),i.setData("text/html",A.innerHTML),i.setData("text/plain",ei(A)),document.body.removeChild(A),i},e.insertData=i=>{e.insertFragmentData(i)||e.insertTextData(i)},e.insertFragmentData=i=>{const a=i.getData("application/x-slate-fragment")||eo(i);if(a){const l=decodeURIComponent(window.atob(a)),s=JSON.parse(l);return e.insertFragment(s),!0}return!1},e.insertTextData=i=>{const a=i.getData("text/plain");if(a){const l=a.split(/\r\n|\r|\n/);let s=!1;for(const o of l)s&&O.splitNodes(e,{always:!0}),e.insertText(o),s=!0;return!0}return!1},e.onChange=()=>{const i=Pn.get(e);i&&i(),u()},e.hasOwnContext=()=>!0,e}var yf={isHistory(t){return Pe(t)&&Array.isArray(t.redos)&&Array.isArray(t.undos)&&(t.redos.length===0||lt.isOperationList(t.redos[0].operations))&&(t.undos.length===0||lt.isOperationList(t.undos[0].operations))}},pn=new WeakMap,On=new WeakMap,bt={isHistoryEditor(t){return yf.isHistory(t.history)&&h.isEditor(t)},isMerging(t){return On.get(t)},isSaving(t){return pn.get(t)},redo(t){t.redo()},undo(t){t.undo()},withoutMerging(t,e){var n=bt.isMerging(t);On.set(t,!1),e(),On.set(t,n)},withoutSaving(t,e){var n=bt.isSaving(t);pn.set(t,!1),e(),pn.set(t,n)}},Dd=t=>{var e=t,{apply:n}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:u}=e,{redos:r}=u;if(r.length>0){var i=r[r.length-1];i.selectionBefore&&O.setSelection(e,i.selectionBefore),bt.withoutSaving(e,()=>{h.withoutNormalizing(e,()=>{for(var a of i.operations)e.apply(a)})}),u.redos.pop(),e.writeHistory("undos",i)}},e.undo=()=>{var{history:u}=e,{undos:r}=u;if(r.length>0){var i=r[r.length-1];bt.withoutSaving(e,()=>{h.withoutNormalizing(e,()=>{var a=i.operations.map(lt.inverse).reverse();for(var l of a)e.apply(l);i.selectionBefore&&O.setSelection(e,i.selectionBefore)})}),e.writeHistory("redos",i),u.undos.pop()}},e.apply=u=>{var{operations:r,history:i}=e,{undos:a}=i,l=a[a.length-1],s=l&&l.operations[l.operations.length-1],o=bt.isSaving(e),f=bt.isMerging(e);if(o==null&&(o=Pf(u)),o){if(f==null&&(l==null?f=!1:r.length!==0?f=!0:f=_f(u,s)),l&&f)l.operations.push(u);else{var d={operations:[u],selectionBefore:e.selection};e.writeHistory("undos",d)}for(;a.length>100;)a.shift();i.redos=[]}n(u)},e.writeHistory=(u,r)=>{e.history[u].push(r)},e},_f=(t,e)=>!!(e&&t.type==="insert_text"&&e.type==="insert_text"&&t.offset===e.offset+e.text.length&&v.equals(t.path,e.path)||e&&t.type==="remove_text"&&e.type==="remove_text"&&t.offset+t.text.length===e.offset&&v.equals(t.path,e.path)),Pf=(t,e)=>t.type!=="set_selection";function Nf(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("p"),r&&r.c(),this.h()},l(i){e=te(i,"P",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-fghobi")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const ft="paragraph";function Sf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;function d(c){G[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$set=c=>{"element"in c&&n(5,i=c.element),"isInline"in c&&n(1,a=c.isInline),"isVoid"in c&&n(2,l=c.isVoid),"contenteditable"in c&&n(3,s=c.contenteditable),"ref"in c&&n(0,o=c.ref),"dir"in c&&n(4,f=c.dir),"$$scope"in c&&n(6,r=c.$$scope)},[o,a,l,s,f,i,r,u,d]}class If extends X{constructor(e){super(),J(this,e,Sf,Nf,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Tf(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("blockquote"),r&&r.c(),this.h()},l(i){e=te(i,"BLOCKQUOTE",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-ltm0ff")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const Pi="block-quote";function Rf(t){return t.type===Pi}function jf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;const d=Je();dn("onKeyDown",D=>{if(D.key==="Enter"&&D.shiftKey){const[m]=h.nodes(d,{match:Rf});if(m){D.preventDefault(),D.stopPropagation();const[E,[F]]=m,A=[F+1];O.insertNodes(d,{type:ft,children:[{text:""}]},{at:A}),O.select(d,A)}}});function c(D){G[D?"unshift":"push"](()=>{o=D,n(0,o)})}return t.$$set=D=>{"element"in D&&n(5,i=D.element),"isInline"in D&&n(1,a=D.isInline),"isVoid"in D&&n(2,l=D.isVoid),"contenteditable"in D&&n(3,s=D.contenteditable),"ref"in D&&n(0,o=D.ref),"dir"in D&&n(4,f=D.dir),"$$scope"in D&&n(6,r=D.$$scope)},[o,a,l,s,f,i,r,u,c]}class kf extends X{constructor(e){super(),J(this,e,jf,Tf,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Lf(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("h1"),r&&r.c(),this.h()},l(i){e=te(i,"H1",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1n77z")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const Vf="heading1";function Mf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;function d(c){G[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$set=c=>{"element"in c&&n(5,i=c.element),"isInline"in c&&n(1,a=c.isInline),"isVoid"in c&&n(2,l=c.isVoid),"contenteditable"in c&&n(3,s=c.contenteditable),"ref"in c&&n(0,o=c.ref),"dir"in c&&n(4,f=c.dir),"$$scope"in c&&n(6,r=c.$$scope)},[o,a,l,s,f,i,r,u,d]}class qf extends X{constructor(e){super(),J(this,e,Mf,Lf,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function zf(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("h2"),r&&r.c(),this.h()},l(i){e=te(i,"H2",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1nvmq")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const Wf="heading2";function Hf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;function d(c){G[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$set=c=>{"element"in c&&n(5,i=c.element),"isInline"in c&&n(1,a=c.isInline),"isVoid"in c&&n(2,l=c.isVoid),"contenteditable"in c&&n(3,s=c.contenteditable),"ref"in c&&n(0,o=c.ref),"dir"in c&&n(4,f=c.dir),"$$scope"in c&&n(6,r=c.$$scope)},[o,a,l,s,f,i,r,u,d]}class Kf extends X{constructor(e){super(),J(this,e,Hf,zf,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Yf(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("h3"),r&&r.c(),this.h()},l(i){e=te(i,"H3",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1o8al")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const Uf="heading3";function Gf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;function d(c){G[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$set=c=>{"element"in c&&n(5,i=c.element),"isInline"in c&&n(1,a=c.isInline),"isVoid"in c&&n(2,l=c.isVoid),"contenteditable"in c&&n(3,s=c.contenteditable),"ref"in c&&n(0,o=c.ref),"dir"in c&&n(4,f=c.dir),"$$scope"in c&&n(6,r=c.$$scope)},[o,a,l,s,f,i,r,u,d]}class Xf extends X{constructor(e){super(),J(this,e,Gf,Yf,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Jf(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("h4"),r&&r.c(),this.h()},l(i){e=te(i,"H4",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1p2nc")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const Zf="heading4";function Qf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;function d(c){G[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$set=c=>{"element"in c&&n(5,i=c.element),"isInline"in c&&n(1,a=c.isInline),"isVoid"in c&&n(2,l=c.isVoid),"contenteditable"in c&&n(3,s=c.contenteditable),"ref"in c&&n(0,o=c.ref),"dir"in c&&n(4,f=c.dir),"$$scope"in c&&n(6,r=c.$$scope)},[o,a,l,s,f,i,r,u,d]}class xf extends X{constructor(e){super(),J(this,e,Qf,Jf,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function $f(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("h5"),r&&r.c(),this.h()},l(i){e=te(i,"H5",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1pr63")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const ec="heading5";function tc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;function d(c){G[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$set=c=>{"element"in c&&n(5,i=c.element),"isInline"in c&&n(1,a=c.isInline),"isVoid"in c&&n(2,l=c.isVoid),"contenteditable"in c&&n(3,s=c.contenteditable),"ref"in c&&n(0,o=c.ref),"dir"in c&&n(4,f=c.dir),"$$scope"in c&&n(6,r=c.$$scope)},[o,a,l,s,f,i,r,u,d]}class nc extends X{constructor(e){super(),J(this,e,tc,$f,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function rc(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("h6"),r&&r.c(),this.h()},l(i){e=te(i,"H6",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h1qfla")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const uc="heading6";function ic(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;function d(c){G[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$set=c=>{"element"in c&&n(5,i=c.element),"isInline"in c&&n(1,a=c.isInline),"isVoid"in c&&n(2,l=c.isVoid),"contenteditable"in c&&n(3,s=c.contenteditable),"ref"in c&&n(0,o=c.ref),"dir"in c&&n(4,f=c.dir),"$$scope"in c&&n(6,r=c.$$scope)},[o,a,l,s,f,i,r,u,d]}class ac extends X{constructor(e){super(),J(this,e,ic,rc,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function sc(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("li"),r&&r.c(),this.h()},l(i){e=te(i,"LI",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-1h0582b")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const $n="list-item";function lc(t){return t.type===$n}function oc(t){const{deleteBackward:e}=t;return t.deleteBackward=n=>{if(t.selection&&p.isCollapsed(t.selection)){const[u]=Array.from(h.nodes(t,{match:r=>lc(r)&&h.isEmpty(t,r),at:t.selection}));if(u){const[r,i]=u,[a,l]=h.parent(t,i);if(a.children[a.children.length-1]===r){l[l.length-1]+=1,O.removeNodes(t,{at:i}),O.insertNodes(t,{type:ft,children:[{text:""}]},{at:l}),O.setSelection(t,{anchor:{path:[...l,0],offset:0},focus:{path:[...l,0],offset:0}});return}}}e(n)},t}function fc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;function d(c){G[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$set=c=>{"element"in c&&n(5,i=c.element),"isInline"in c&&n(1,a=c.isInline),"isVoid"in c&&n(2,l=c.isVoid),"contenteditable"in c&&n(3,s=c.contenteditable),"ref"in c&&n(0,o=c.ref),"dir"in c&&n(4,f=c.dir),"$$scope"in c&&n(6,r=c.$$scope)},[o,a,l,s,f,i,r,u,d]}class cc extends X{constructor(e){super(),J(this,e,fc,sc,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function dc(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("ul"),r&&r.c(),this.h()},l(i){e=te(i,"UL",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-18dokwl")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const er="numbered-list";function hc(t){return t.type===er}function Dc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;const d=Je();dn("onKeyDown",D=>{if(D.key==="Enter"&&D.shiftKey){const[m]=h.nodes(d,{match:hc});if(m){D.preventDefault(),D.stopPropagation();const[E,[F]]=m,A=[F+1];O.insertNodes(d,{type:ft,children:[{text:""}]},{at:A}),O.select(d,A)}}});function c(D){G[D?"unshift":"push"](()=>{o=D,n(0,o)})}return t.$$set=D=>{"element"in D&&n(5,i=D.element),"isInline"in D&&n(1,a=D.isInline),"isVoid"in D&&n(2,l=D.isVoid),"contenteditable"in D&&n(3,s=D.contenteditable),"ref"in D&&n(0,o=D.ref),"dir"in D&&n(4,f=D.dir),"$$scope"in D&&n(6,r=D.$$scope)},[o,a,l,s,f,i,r,u,c]}class gc extends X{constructor(e){super(),J(this,e,Dc,dc,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function mc(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("ol"),r&&r.c(),this.h()},l(i){e=te(i,"OL",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-6txpqf")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const tr="bulleted-list";function Cc(t){return t.type===tr}function vc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;const d=Je();dn("onKeyDown",D=>{if(D.key==="Enter"&&D.shiftKey){const[m]=h.nodes(d,{match:Cc});if(m){D.preventDefault(),D.stopPropagation();const[E,[F]]=m,A=[F+1];O.insertNodes(d,{type:ft,children:[{text:""}]},{at:A}),O.select(d,A)}}});function c(D){G[D?"unshift":"push"](()=>{o=D,n(0,o)})}return t.$$set=D=>{"element"in D&&n(5,i=D.element),"isInline"in D&&n(1,a=D.isInline),"isVoid"in D&&n(2,l=D.isVoid),"contenteditable"in D&&n(3,s=D.contenteditable),"ref"in D&&n(0,o=D.ref),"dir"in D&&n(4,f=D.dir),"$$scope"in D&&n(6,r=D.$$scope)},[o,a,l,s,f,i,r,u,c]}class Bc extends X{constructor(e){super(),J(this,e,vc,mc,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Ec(t,e){if(t.selection){const n=h.marks(t);return n?n[e]===!0:!1}else return!1}function gd(t,e){Ec(t,e)?h.removeMark(t,e):h.addMark(t,e,!0)}function Ni(t,e){if(t.selection){const[n]=Array.from(h.nodes(t,{at:h.unhangRange(t,t.selection),match:u=>!h.isEditor(u)&&L.isElement(u)&&u.type===e}));return!!n}else return!1}const wu=[er,tr];function md(t,e){const n=Ni(t,e),u=wu.includes(e);O.unwrapNodes(t,{match:i=>!h.isEditor(i)&&L.isElement(i)&&wu.includes(i.type),split:!0});const r={type:n?ft:u?$n:e};if(O.setNodes(t,r),!n&&u){const i={type:e,children:[]};O.wrapNodes(t,i)}}function Cd(t){const e=window.getSelection();if(!e)return;e.removeAllRanges();const n=document.createRange();n.selectNodeContents(t),e.addRange(n)}function Ac(t){let e,n,u,r,i,a,l,s,o;const f=t[8].default,d=fe(f,t,t[7],null);return{c(){e=ee("div"),n=ee("span"),u=ee("input"),a=ee("span"),d&&d.c(),this.h()},l(c){e=te(c,"DIV",{class:!0,"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0});var D=le(e);n=te(D,"SPAN",{class:!0,contenteditable:!0});var m=le(n);u=te(m,"INPUT",{type:!0}),m.forEach(N),a=te(D,"SPAN",{class:!0,contenteditable:!0});var E=le(a);d&&d.l(E),E.forEach(N),D.forEach(N),this.h()},h(){C(u,"type","checkbox"),u.checked=r=t[1].checked,u.disabled=i=!t[4],C(n,"class","checkbox svelte-bf42sr"),C(n,"contenteditable",!1),C(a,"class","content svelte-bf42sr"),C(a,"contenteditable",t[4]),Ge(a,"checked",t[1].checked),C(e,"class","check-list-item svelte-bf42sr"),C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[2]),C(e,"data-slate-void",t[3]),C(e,"dir",t[5]),C(e,"contenteditable",t[4])},m(c,D){W(c,e,D),jt(e,n),jt(n,u),jt(e,a),d&&d.m(a,null),t[9](e),l=!0,s||(o=we(u,"change",t[6]),s=!0)},p(c,[D]){(!l||D&2&&r!==(r=c[1].checked))&&(u.checked=r),(!l||D&16&&i!==(i=!c[4]))&&(u.disabled=i),d&&d.p&&(!l||D&128)&&ce(d,f,c,c[7],l?he(f,c[7],D,null):de(c[7]),null),(!l||D&16)&&C(a,"contenteditable",c[4]),(!l||D&2)&&Ge(a,"checked",c[1].checked),(!l||D&4)&&C(e,"data-slate-inline",c[2]),(!l||D&8)&&C(e,"data-slate-void",c[3]),(!l||D&32)&&C(e,"dir",c[5]),(!l||D&16)&&C(e,"contenteditable",c[4])},i(c){l||(S(d,c),l=!0)},o(c){I(d,c),l=!1},d(c){c&&N(e),d&&d.d(c),t[9](null),s=!1,o()}}}const $t="check-list-item";function Si(t){return t.type===$t}function Fc(t){const{deleteBackward:e}=t;return t.deleteBackward=n=>{if(t.selection&&p.isCollapsed(t.selection)){const[u]=Array.from(h.nodes(t,{match:r=>Si(r)&&h.isEmpty(t,r),at:t.selection}));if(u){const[r,i]=u;O.setNodes(t,{type:ft},{at:i});return}}e(n)},t}function vd(t){if(Ni(t,$t))O.unwrapNodes(t,{match:Si,split:!0});else{const n={type:$t,checked:!1,children:[]};O.wrapNodes(t,n)}}function bc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;const d=Je();function c(m){s&&O.setNodes(d,{checked:m.target.checked},{at:ot(i)})}function D(m){G[m?"unshift":"push"](()=>{o=m,n(0,o)})}return t.$$set=m=>{"element"in m&&n(1,i=m.element),"isInline"in m&&n(2,a=m.isInline),"isVoid"in m&&n(3,l=m.isVoid),"contenteditable"in m&&n(4,s=m.contenteditable),"ref"in m&&n(0,o=m.ref),"dir"in m&&n(5,f=m.dir),"$$scope"in m&&n(7,r=m.$$scope)},[o,i,a,l,s,f,c,r,u,D]}class wc extends X{constructor(e){super(),J(this,e,bc,Ac,ne,{element:1,isInline:2,isVoid:3,contenteditable:4,ref:0,dir:5})}}function pc(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("td"),r&&r.c(),this.h()},l(i){e=te(i,"TD",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-62tis6")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const nr="table-row-data";function rr(t){return t.type===nr}function Oc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;function d(c){G[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$set=c=>{"element"in c&&n(5,i=c.element),"isInline"in c&&n(1,a=c.isInline),"isVoid"in c&&n(2,l=c.isVoid),"contenteditable"in c&&n(3,s=c.contenteditable),"ref"in c&&n(0,o=c.ref),"dir"in c&&n(4,f=c.dir),"$$scope"in c&&n(6,r=c.$$scope)},[o,a,l,s,f,i,r,u,d]}class yc extends X{constructor(e){super(),J(this,e,Oc,pc,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function _c(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("th"),r&&r.c(),this.h()},l(i){e=te(i,"TH",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-12ex41")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const ur="table-row-header";function en(t){return t.type===ur}function Pc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;function d(c){G[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$set=c=>{"element"in c&&n(5,i=c.element),"isInline"in c&&n(1,a=c.isInline),"isVoid"in c&&n(2,l=c.isVoid),"contenteditable"in c&&n(3,s=c.contenteditable),"ref"in c&&n(0,o=c.ref),"dir"in c&&n(4,f=c.dir),"$$scope"in c&&n(6,r=c.$$scope)},[o,a,l,s,f,i,r,u,d]}class Nc extends X{constructor(e){super(),J(this,e,Pc,_c,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Sc(t){let e,n,u;function r(a){t[8](a)}let i={element:t[1],isInline:t[2],isVoid:t[3],dir:t[5],contenteditable:t[4],$$slots:{default:[Tc]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.ref=t[0]),e=new Nc({props:i}),G.push(()=>Te(e,"ref",r)),{c(){ue(e.$$.fragment)},l(a){Ae(e.$$.fragment,a)},m(a,l){ie(e,a,l),u=!0},p(a,l){const s={};l&2&&(s.element=a[1]),l&4&&(s.isInline=a[2]),l&8&&(s.isVoid=a[3]),l&32&&(s.dir=a[5]),l&16&&(s.contenteditable=a[4]),l&512&&(s.$$scope={dirty:l,ctx:a}),!n&&l&1&&(n=!0,s.ref=a[0],Xe(()=>n=!1)),e.$set(s)},i(a){u||(S(e.$$.fragment,a),u=!0)},o(a){I(e.$$.fragment,a),u=!1},d(a){ae(e,a)}}}function Ic(t){let e,n,u;function r(a){t[7](a)}let i={element:t[1],isInline:t[2],isVoid:t[3],dir:t[5],contenteditable:t[4],$$slots:{default:[Rc]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.ref=t[0]),e=new yc({props:i}),G.push(()=>Te(e,"ref",r)),{c(){ue(e.$$.fragment)},l(a){Ae(e.$$.fragment,a)},m(a,l){ie(e,a,l),u=!0},p(a,l){const s={};l&2&&(s.element=a[1]),l&4&&(s.isInline=a[2]),l&8&&(s.isVoid=a[3]),l&32&&(s.dir=a[5]),l&16&&(s.contenteditable=a[4]),l&512&&(s.$$scope={dirty:l,ctx:a}),!n&&l&1&&(n=!0,s.ref=a[0],Xe(()=>n=!1)),e.$set(s)},i(a){u||(S(e.$$.fragment,a),u=!0)},o(a){I(e.$$.fragment,a),u=!1},d(a){ae(e,a)}}}function Tc(t){let e;const n=t[6].default,u=fe(n,t,t[9],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&512)&&ce(u,n,r,r[9],e?he(n,r[9],i,null):de(r[9]),null)},i(r){e||(S(u,r),e=!0)},o(r){I(u,r),e=!1},d(r){u&&u.d(r)}}}function Rc(t){let e;const n=t[6].default,u=fe(n,t,t[9],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&512)&&ce(u,n,r,r[9],e?he(n,r[9],i,null):de(r[9]),null)},i(r){e||(S(u,r),e=!0)},o(r){I(u,r),e=!1},d(r){u&&u.d(r)}}}function jc(t){let e,n,u,r,i,a;const l=[Ic,Sc],s=[];function o(f,d){return d&2&&(e=null),d&2&&(n=null),e==null&&(e=!!rr(f[1])),e?0:(n==null&&(n=!!en(f[1])),n?1:-1)}return~(u=o(t,-1))&&(r=s[u]=l[u](t)),{c(){r&&r.c(),i=x()},l(f){r&&r.l(f),i=x()},m(f,d){~u&&s[u].m(f,d),W(f,i,d),a=!0},p(f,[d]){let c=u;u=o(f,d),u===c?~u&&s[u].p(f,d):(r&&(Ne(),I(s[c],1,1,()=>{s[c]=null}),Se()),~u?(r=s[u],r?r.p(f,d):(r=s[u]=l[u](f),r.c()),S(r,1),r.m(i.parentNode,i)):r=null)},i(f){a||(S(r),a=!0)},o(f){I(r),a=!1},d(f){~u&&s[u].d(f),f&&N(i)}}}function kc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;const d=Le(Ri);ui(Ot,d);function c(m){o=m,n(0,o)}function D(m){o=m,n(0,o)}return t.$$set=m=>{"element"in m&&n(1,i=m.element),"isInline"in m&&n(2,a=m.isInline),"isVoid"in m&&n(3,l=m.isVoid),"contenteditable"in m&&n(4,s=m.contenteditable),"ref"in m&&n(0,o=m.ref),"dir"in m&&n(5,f=m.dir),"$$scope"in m&&n(9,r=m.$$scope)},[o,i,a,l,s,f,u,c,D,r]}class Lc extends X{constructor(e){super(),J(this,e,kc,jc,ne,{element:1,isInline:2,isVoid:3,contenteditable:4,ref:0,dir:5})}}function Vc(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("tr"),r&&r.c(),this.h()},l(i){e=te(i,"TR",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-62pa10")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const Ii="table-row";function Mc(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:f=void 0}=e;je(Ot,Lc);function d(c){G[c?"unshift":"push"](()=>{o=c,n(0,o)})}return t.$$set=c=>{"element"in c&&n(5,i=c.element),"isInline"in c&&n(1,a=c.isInline),"isVoid"in c&&n(2,l=c.isVoid),"contenteditable"in c&&n(3,s=c.contenteditable),"ref"in c&&n(0,o=c.ref),"dir"in c&&n(4,f=c.dir),"$$scope"in c&&n(6,r=c.$$scope)},[o,a,l,s,f,i,r,u,d]}class qc extends X{constructor(e){super(),J(this,e,Mc,Vc,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function zc(t){let e,n;const u=t[7].default,r=fe(u,t,t[6],null);return{c(){e=ee("table"),r&&r.c(),this.h()},l(i){e=te(i,"TABLE",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-node","element"),C(e,"data-slate-inline",t[1]),C(e,"data-slate-void",t[2]),C(e,"dir",t[4]),C(e,"contenteditable",t[3]),C(e,"class","svelte-13zewjb")},m(i,a){W(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&ce(r,u,i,i[6],n?he(u,i[6],a,null):de(i[6]),null),(!n||a&2)&&C(e,"data-slate-inline",i[1]),(!n||a&4)&&C(e,"data-slate-void",i[2]),(!n||a&16)&&C(e,"dir",i[4]),(!n||a&8)&&C(e,"contenteditable",i[3])},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i),t[8](null)}}}const ir="table";function Ti(t){return t.type===ir}function Wc(t){const{deleteBackward:e}=t;return t.deleteBackward=(...n)=>{if(t.selection&&p.isCollapsed(t.selection)){const[u]=h.nodes(t,{match:rr});if(u){const[i,a]=u;if(a[0]===t.selection.focus.path[0]&&a[1]===t.selection.focus.path[1]&&t.selection.focus.path[2]===0&&h.isEmpty(t,i)){O.delete(t,{at:[a[0],a[1]]});return}}const[r]=h.nodes(t,{match:en});if(r){const[i]=r;if(h.isEmpty(t,i)){const[a]=h.nodes(t,{match:Ti}),[l,[s]]=a,o=l;for(let f=o.children.length-1;f>=0;f--){const d=o.children[f];O.delete(t,{at:[s,f,d.children.length-1]})}return}}}e(...n)},t}function Bd(t){const e={type:ir,children:[{type:Ii,children:[{type:ur,children:[{text:""}]}]}]};O.insertNodes(t,e)}const Ri=Ve();function Hc(t){return[...new Array(t)].map(()=>({type:nr,children:[{text:""}]}))}function Kc(t,e,n){let{$$slots:u={},$$scope:r}=e;const i=Je();let{element:a}=e,{isInline:l}=e,{isVoid:s}=e,{contenteditable:o}=e,{ref:f=void 0}=e,{dir:d=void 0}=e;ui(Ri,Le(Ot)),je(Ot,qc),dn("onKeyDown",D=>{if(i.selection){if(D.key==="Enter"){const[m]=h.nodes(i,{match:Ti});if(m){D.preventDefault(),D.stopPropagation();const[E,[F]]=m,A=E;if(D.shiftKey){const[b]=h.nodes(i,{match:en});if(b)A.children.forEach((w,P)=>{O.insertNodes(i,{type:P!==0?nr:ur,children:[{text:""}]},{at:[F,P,w.children.length]})}),O.select(i,[F,0,A.children[0].children.length]);else{const w=[F+1];O.insertNodes(i,{type:ft,children:[{text:""}]},{at:w}),O.select(i,w)}}else{const b=[F,i.selection.focus.path[1]+1];O.insertNodes(i,{type:Ii,children:Hc(A.children[0].children.length)},{at:b}),O.select(i,b)}}}else if(D.key==="Tab"){const[m]=h.nodes(i,{match:E=>rr(E)||en(E)});if(m){D.preventDefault(),D.stopPropagation();const[E,F]=m,[A,b]=h.parent(i,F),[w,P]=h.parent(i,b),y=w,R=y.children.length,j=y.children[0].children.length,g=(F[2]+1)%j,K=(F[1]+(g===0?1:0))%R;O.select(i,[F[0],K,g])}}}});function c(D){G[D?"unshift":"push"](()=>{f=D,n(0,f)})}return t.$$set=D=>{"element"in D&&n(5,a=D.element),"isInline"in D&&n(1,l=D.isInline),"isVoid"in D&&n(2,s=D.isVoid),"contenteditable"in D&&n(3,o=D.contenteditable),"ref"in D&&n(0,f=D.ref),"dir"in D&&n(4,d=D.dir),"$$scope"in D&&n(6,r=D.$$scope)},[f,l,s,o,d,a,r,u,c]}class Yc extends X{constructor(e){super(),J(this,e,Kc,zc,ne,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}const Uc={[Pi]:kf,[ft]:If,[Vf]:qf,[Wf]:Kf,[Uf]:Xf,[Zf]:xf,[ec]:nc,[uc]:ac,[$n]:{component:cc,withFn:oc},[er]:gc,[tr]:Bc,[$t]:{component:wc,withFn:Fc},[ir]:{component:Yc,withFn:Wc}};function Gc(t){let e;const n=t[7].default,u=fe(n,t,t[11],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&2048)&&ce(u,n,r,r[11],e?he(n,r[11],i,null):de(r[11]),null)},i(r){e||(S(u,r),e=!0)},o(r){I(u,r),e=!1},d(r){u&&u.d(r)}}}function Xc(t){let e,n,u,r,i;function a(f){t[8](f)}function l(f){t[9](f)}function s(f){t[10](f)}let o={$$slots:{default:[Gc]},$$scope:{ctx:t}};return t[0]!==void 0&&(o.editor=t[0]),t[1]!==void 0&&(o.value=t[1]),t[2]!==void 0&&(o.selection=t[2]),e=new mo({props:o}),G.push(()=>Te(e,"editor",a)),G.push(()=>Te(e,"value",l)),G.push(()=>Te(e,"selection",s)),e.$on("value",t[3]),e.$on("selection",t[4]),{c(){ue(e.$$.fragment)},l(f){Ae(e.$$.fragment,f)},m(f,d){ie(e,f,d),i=!0},p(f,[d]){const c={};d&2048&&(c.$$scope={dirty:d,ctx:f}),!n&&d&1&&(n=!0,c.editor=f[0],Xe(()=>n=!1)),!u&&d&2&&(u=!0,c.value=f[1],Xe(()=>u=!1)),!r&&d&4&&(r=!0,c.selection=f[2],Xe(()=>r=!1)),e.$set(c)},i(f){i||(S(e.$$.fragment,f),i=!0)},o(f){I(e.$$.fragment,f),i=!1},d(f){ae(e,f)}}}const ji=Ve();function Jc(){return Le(ji)}function ki(t){return"component"in t}function Zc(t,e){return Object.values(e).reduce((n,u)=>ki(u)&&u.withFn?u.withFn(n,u.options):n,t)}function Qc(t){return Object.entries(t).reduce((e,[n,u])=>(e[n]=ki(u)?u.component:u,e),{})}function xc(t,e,n){let u,{$$slots:r={},$$scope:i}=e,{plugins:a=Uc}=e,{editor:l}=e,{value:s=l.children}=e,{selection:o=l.selection}=e;const f=Nu();function d(b){f("value",b.detail)}function c(b){f("selection",b.detail)}let D=l;const m=je(ji,u);function E(b){l=b,n(0,l),n(13,D),n(5,a)}function F(b){s=b,n(1,s)}function A(b){o=b,n(2,o)}return t.$$set=b=>{"plugins"in b&&n(5,a=b.plugins),"editor"in b&&n(0,l=b.editor),"value"in b&&n(1,s=b.value),"selection"in b&&n(2,o=b.selection),"$$scope"in b&&n(11,i=b.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(0,l=Zc(D,a)),t.$$.dirty&32&&n(6,u=Qc(a)),t.$$.dirty&64&&m.set(u)},[l,s,o,d,c,a,u,r,E,F,A,i]}class Ed extends X{constructor(e){super(),J(this,e,xc,Xc,ne,{plugins:5,editor:0,value:1,selection:2})}}function $c(t){let e;const n=t[10].default,u=fe(n,t,t[13],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&8192)&&ce(u,n,r,r[13],e?he(n,r[13],i,null):de(r[13]),null)},i(r){e||(S(u,r),e=!0)},o(r){I(u,r),e=!1},d(r){u&&u.d(r)}}}function ed(t){let e,n,u,r,i;function a(f){t[11](f)}function l(f){t[12](f)}var s=t[6];function o(f){let d={element:f[2],isInline:f[3],isVoid:f[4],contenteditable:f[5],$$slots:{default:[$c]},$$scope:{ctx:f}};return f[0]!==void 0&&(d.ref=f[0]),f[1]!==void 0&&(d.dir=f[1]),{props:d}}return s&&(e=Re(s,o(t)),G.push(()=>Te(e,"ref",a)),G.push(()=>Te(e,"dir",l))),{c(){e&&ue(e.$$.fragment),r=x()},l(f){e&&Ae(e.$$.fragment,f),r=x()},m(f,d){e&&ie(e,f,d),W(f,r,d),i=!0},p(f,[d]){const c={};if(d&4&&(c.element=f[2]),d&8&&(c.isInline=f[3]),d&16&&(c.isVoid=f[4]),d&32&&(c.contenteditable=f[5]),d&8192&&(c.$$scope={dirty:d,ctx:f}),!n&&d&1&&(n=!0,c.ref=f[0],Xe(()=>n=!1)),!u&&d&2&&(u=!0,c.dir=f[1],Xe(()=>u=!1)),d&64&&s!==(s=f[6])){if(e){Ne();const D=e;I(D.$$.fragment,1,0,()=>{ae(D,1)}),Se()}s?(e=Re(s,o(f)),G.push(()=>Te(e,"ref",a)),G.push(()=>Te(e,"dir",l)),ue(e.$$.fragment),S(e.$$.fragment,1),ie(e,r.parentNode,r)):e=null}else s&&e.$set(c)},i(f){i||(e&&S(e.$$.fragment,f),i=!0)},o(f){e&&I(e.$$.fragment,f),i=!1},d(f){f&&N(r),e&&ae(e,f)}}}function td(t,e,n){let u,r,i,{$$slots:a={},$$scope:l}=e,{element:s}=e,{isInline:o}=e,{isVoid:f}=e,{contenteditable:d}=e,{ref:c=void 0}=e,{dir:D=void 0}=e;const m=Jc();it(t,m,A=>n(9,i=A));function E(A){c=A,n(0,c)}function F(A){D=A,n(1,D)}return t.$$set=A=>{"element"in A&&n(2,s=A.element),"isInline"in A&&n(3,o=A.isInline),"isVoid"in A&&n(4,f=A.isVoid),"contenteditable"in A&&n(5,d=A.contenteditable),"ref"in A&&n(0,c=A.ref),"dir"in A&&n(1,D=A.dir),"$$scope"in A&&n(13,l=A.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&n(8,u=i),t.$$.dirty&260&&n(6,r=u[s.type]||Ei)},[c,D,s,o,f,d,r,m,u,i,a,E,F,l]}class pu extends X{constructor(e){super(),J(this,e,td,ed,ne,{element:2,isInline:3,isVoid:4,contenteditable:5,ref:0,dir:1})}}function nd(t){let e,n;const u=t[2].default,r=fe(u,t,t[1],null);return{c(){e=ee("span"),r&&r.c(),this.h()},l(i){e=te(i,"SPAN",{"data-slate-leaf":!0,class:!0});var a=le(e);r&&r.l(a),a.forEach(N),this.h()},h(){C(e,"data-slate-leaf","true"),C(e,"class","svelte-186l2b2"),Ge(e,"bold",t[0].bold),Ge(e,"italic",t[0].italic),Ge(e,"code",t[0].code),Ge(e,"underline",t[0].underline)},m(i,a){W(i,e,a),r&&r.m(e,null),n=!0},p(i,[a]){r&&r.p&&(!n||a&2)&&ce(r,u,i,i[1],n?he(u,i[1],a,null):de(i[1]),null),(!n||a&1)&&Ge(e,"bold",i[0].bold),(!n||a&1)&&Ge(e,"italic",i[0].italic),(!n||a&1)&&Ge(e,"code",i[0].code),(!n||a&1)&&Ge(e,"underline",i[0].underline)},i(i){n||(S(r,i),n=!0)},o(i){I(r,i),n=!1},d(i){i&&N(e),r&&r.d(i)}}}function rd(t,e,n){let{$$slots:u={},$$scope:r}=e,{leaf:i}=e;return t.$$set=a=>{"leaf"in a&&n(0,i=a.leaf),"$$scope"in a&&n(1,r=a.$$scope)},[i,r,u]}class Ou extends X{constructor(e){super(),J(this,e,rd,nd,ne,{leaf:0})}}function ud(t){let e,n,u,r,i;const a=[t[11],{Element:pu},{Leaf:Ou},{Placeholder:t[3]},{placeholder:t[4]},{readOnly:t[5]},{autoFocus:t[6]},{spellcheck:t[7]},{autocorrect:t[8]},{autocapitalize:t[9]},{onKeyDown:t[10]}];function l(d){t[12](d)}function s(d){t[13](d)}function o(d){t[14](d)}let f={};for(let d=0;d<a.length;d+=1)f=pt(f,a[d]);return t[2]!==void 0&&(f.ref=t[2]),t[0]!==void 0&&(f.decorate=t[0]),t[1]!==void 0&&(f.scrollSelectionIntoView=t[1]),e=new pf({props:f}),G.push(()=>Te(e,"ref",l)),G.push(()=>Te(e,"decorate",s)),G.push(()=>Te(e,"scrollSelectionIntoView",o)),{c(){ue(e.$$.fragment)},l(d){Ae(e.$$.fragment,d)},m(d,c){ie(e,d,c),i=!0},p(d,[c]){const D=c&4088?Ru(a,[c&2048&&ea(d[11]),c&0&&{Element:pu},c&0&&{Leaf:Ou},c&8&&{Placeholder:d[3]},c&16&&{placeholder:d[4]},c&32&&{readOnly:d[5]},c&64&&{autoFocus:d[6]},c&128&&{spellcheck:d[7]},c&256&&{autocorrect:d[8]},c&512&&{autocapitalize:d[9]},c&1024&&{onKeyDown:d[10]}]):{};!n&&c&4&&(n=!0,D.ref=d[2],Xe(()=>n=!1)),!u&&c&1&&(u=!0,D.decorate=d[0],Xe(()=>u=!1)),!r&&c&2&&(r=!0,D.scrollSelectionIntoView=d[1],Xe(()=>r=!1)),e.$set(D)},i(d){i||(S(e.$$.fragment,d),i=!0)},o(d){I(e.$$.fragment,d),i=!1},d(d){ae(e,d)}}}function id(t,e,n){const u=["Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView","ref","spellcheck","autocorrect","autocapitalize","onKeyDown"];let r=Yt(e,u),{Placeholder:i=Bi}=e,{placeholder:a=void 0}=e,{readOnly:l=!1}=e,{autoFocus:s=!1}=e,{decorate:o=void 0}=e,{scrollSelectionIntoView:f=void 0}=e,{ref:d=void 0}=e,{spellcheck:c=!0}=e,{autocorrect:D="true"}=e,{autocapitalize:m="true"}=e,{onKeyDown:E=()=>{}}=e;function F(w){d=w,n(2,d)}function A(w){o=w,n(0,o)}function b(w){f=w,n(1,f)}return t.$$set=w=>{e=pt(pt({},e),ju(w)),n(11,r=Yt(e,u)),"Placeholder"in w&&n(3,i=w.Placeholder),"placeholder"in w&&n(4,a=w.placeholder),"readOnly"in w&&n(5,l=w.readOnly),"autoFocus"in w&&n(6,s=w.autoFocus),"decorate"in w&&n(0,o=w.decorate),"scrollSelectionIntoView"in w&&n(1,f=w.scrollSelectionIntoView),"ref"in w&&n(2,d=w.ref),"spellcheck"in w&&n(7,c=w.spellcheck),"autocorrect"in w&&n(8,D=w.autocorrect),"autocapitalize"in w&&n(9,m=w.autocapitalize),"onKeyDown"in w&&n(10,E=w.onKeyDown)},[o,f,d,i,a,l,s,c,D,m,E,r,F,A,b]}class Ad extends X{constructor(e){super(),J(this,e,id,ud,ne,{Placeholder:3,placeholder:4,readOnly:5,autoFocus:6,decorate:0,scrollSelectionIntoView:1,ref:2,spellcheck:7,autocorrect:8,autocapitalize:9,onKeyDown:10})}}export{Cd as A,Bd as B,ho as C,Uc as D,Ad as E,Vf as H,yi as L,_ as N,ft as P,p as R,Ed as S,O as T,hd as a,h as b,od as c,dd as d,co as e,hi as f,Je as g,ot as h,vo as i,gt as j,fd as k,je as l,dn as m,V as n,Ve as o,Ot as p,li as q,di as r,Ni as s,gd as t,vd as u,Ec as v,Dd as w,md as x,Do as y,v as z};
