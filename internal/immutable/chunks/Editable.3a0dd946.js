var Li=Object.defineProperty;var ji=(t,e,n)=>e in t?Li(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var lu=(t,e,n)=>(ji(t,typeof e!="symbol"?e+"":e,n),n);import{a2 as Er,a3 as Vi,S as X,i as J,H as te,I as oe,L as fe,M as ce,N as de,d as N,b as S,o as vr,a4 as Ar,a5 as Fr,h as $,j as ee,k as ae,f as P,l as m,a6 as Mi,a as z,a7 as qi,e as x,r as Pe,c as Ie,u as U,n as nn,p as un,K as Lt,q as br,G as wt,a8 as Wi,w as ue,x as ve,y as re,z as ie,v as Re,O as it,a9 as Hi,P as Te,Q as Ge,aa as _r,ab as wr,s as rn,A as yt,ac as ou,T as Ue,R as ye,B as yr,W as zi,ad as Ut,g as Ki,t as fu,D as pr,C as Yi}from"./index.c3057a5c.js";import{w as Ui}from"./index.9ff5e5d2.js";const an=new WeakMap,sn=new WeakMap,kn=new WeakMap,Yt=new WeakMap,ln=new WeakMap,Gt=new WeakMap,Pn=new WeakMap,on=new WeakMap,Or=new WeakMap,Ft=new WeakMap,In=new WeakMap,jt=Symbol("placeholder");/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function cu(t){return Object.prototype.toString.call(t)==="[object Object]"}function ke(t){var e,n;return cu(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(cu(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Ze(t){for(var e=arguments.length,n=Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ct(t){return!!t&&!!t[He]}function mt(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var u=Object.getPrototypeOf(n);if(u===null)return!0;var r=Object.hasOwnProperty.call(u,"constructor")&&u.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===ea}(t)||Array.isArray(t)||!!t[Eu]||!!(!((e=t.constructor)===null||e===void 0)&&e[Eu])||Vn(t)||Mn(t))}function Vt(t,e,n){n===void 0&&(n=!1),Ot(t)===0?(n?Object.keys:Kn)(t).forEach(function(u){n&&typeof u=="symbol"||e(u,t[u],t)}):t.forEach(function(u,r){return e(r,u,t)})}function Ot(t){var e=t[He];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Vn(t)?2:Mn(t)?3:0}function Nn(t,e){return Ot(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Gi(t,e){return Ot(t)===2?t.get(e):t[e]}function kr(t,e,n){var u=Ot(t);u===2?t.set(e,n):u===3?t.add(n):t[e]=n}function Xi(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Vn(t){return xi&&t instanceof Map}function Mn(t){return $i&&t instanceof Set}function Dt(t){return t.o||t.t}function qn(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=ta(t);delete e[He];for(var n=Kn(e),u=0;u<n.length;u++){var r=n[u],i=e[r];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[r]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[r]})}return Object.create(Object.getPrototypeOf(t),e)}function Wn(t,e){return e===void 0&&(e=!1),Hn(t)||Ct(t)||!mt(t)||(Ot(t)>1&&(t.set=t.add=t.clear=t.delete=Ji),Object.freeze(t),e&&Vt(t,function(n,u){return Wn(u,!0)},!0)),t}function Ji(){Ze(2)}function Hn(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function et(t){var e=na[t];return e||Ze(18,t),e}function du(){return Mt}function En(t,e){e&&(et("Patches"),t.u=[],t.s=[],t.v=e)}function Xt(t){Sn(t),t.p.forEach(Zi),t.p=null}function Sn(t){t===Mt&&(Mt=t.l)}function Du(t){return Mt={p:[],l:Mt,h:t,m:!0,_:0}}function Zi(t){var e=t[He];e.i===0||e.i===1?e.j():e.g=!0}function vn(t,e){e._=e.p.length;var n=e.p[0],u=t!==void 0&&t!==n;return e.h.O||et("ES5").S(e,t,u),u?(n[He].P&&(Xt(e),Ze(4)),mt(t)&&(t=Jt(e,t),e.l||Zt(e,t)),e.u&&et("Patches").M(n[He].t,t,e.u,e.s)):t=Jt(e,n,[]),Xt(e),e.u&&e.v(e.u,e.s),t!==Pr?t:void 0}function Jt(t,e,n){if(Hn(e))return e;var u=e[He];if(!u)return Vt(e,function(l,s){return hu(t,u,e,l,s,n)},!0),e;if(u.A!==t)return e;if(!u.P)return Zt(t,u.t,!0),u.t;if(!u.I){u.I=!0,u.A._--;var r=u.i===4||u.i===5?u.o=qn(u.k):u.o,i=r,a=!1;u.i===3&&(i=new Set(r),r.clear(),a=!0),Vt(i,function(l,s){return hu(t,u,r,l,s,n,a)}),Zt(t,r,!1),n&&t.u&&et("Patches").N(u,n,t.u,t.s)}return u.o}function hu(t,e,n,u,r,i,a){if(Ct(r)){var l=Jt(t,r,i&&e&&e.i!==3&&!Nn(e.R,u)?i.concat(u):void 0);if(kr(n,u,l),!Ct(l))return;t.m=!1}else a&&n.add(r);if(mt(r)&&!Hn(r)){if(!t.h.D&&t._<1)return;Jt(t,r),e&&e.A.l||Zt(t,r)}}function Zt(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Wn(e,n)}function An(t,e){var n=t[He];return(n?Dt(n):t)[e]}function gu(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var u=Object.getOwnPropertyDescriptor(n,e);if(u)return u;n=Object.getPrototypeOf(n)}}function Tn(t){t.P||(t.P=!0,t.l&&Tn(t.l))}function Fn(t){t.o||(t.o=qn(t.t))}function Rn(t,e,n){var u=Vn(e)?et("MapSet").F(e,n):Mn(e)?et("MapSet").T(e,n):t.O?function(r,i){var a=Array.isArray(r),l={i:a?1:0,A:i?i.A:du(),P:!1,I:!1,R:{},l:i,t:r,k:null,o:null,j:null,C:!1},s=l,o=Ln;a&&(s=[l],o=St);var c=Proxy.revocable(s,o),d=c.revoke,f=c.proxy;return l.k=f,l.j=d,f}(e,n):et("ES5").J(e,n);return(n?n.A:du()).p.push(u),u}function Qi(t){return Ct(t)||Ze(22,t),function e(n){if(!mt(n))return n;var u,r=n[He],i=Ot(n);if(r){if(!r.P&&(r.i<4||!et("ES5").K(r)))return r.t;r.I=!0,u=Cu(n,i),r.I=!1}else u=Cu(n,i);return Vt(u,function(a,l){r&&Gi(r.t,a)===l||kr(u,a,e(l))}),i===3?new Set(u):u}(t)}function Cu(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return qn(t)}var mu,Mt,zn=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",xi=typeof Map<"u",$i=typeof Set<"u",Bu=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Pr=zn?Symbol.for("immer-nothing"):((mu={})["immer-nothing"]=!0,mu),Eu=zn?Symbol.for("immer-draftable"):"__$immer_draftable",He=zn?Symbol.for("immer-state"):"__$immer_state",ea=""+Object.prototype.constructor,Kn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ta=Object.getOwnPropertyDescriptors||function(t){var e={};return Kn(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},na={},Ln={get:function(t,e){if(e===He)return t;var n=Dt(t);if(!Nn(n,e))return function(r,i,a){var l,s=gu(i,a);return s?"value"in s?s.value:(l=s.get)===null||l===void 0?void 0:l.call(r.k):void 0}(t,n,e);var u=n[e];return t.I||!mt(u)?u:u===An(t.t,e)?(Fn(t),t.o[e]=Rn(t.A.h,u,t)):u},has:function(t,e){return e in Dt(t)},ownKeys:function(t){return Reflect.ownKeys(Dt(t))},set:function(t,e,n){var u=gu(Dt(t),e);if(u!=null&&u.set)return u.set.call(t.k,n),!0;if(!t.P){var r=An(Dt(t),e),i=r==null?void 0:r[He];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(Xi(n,r)&&(n!==void 0||Nn(t.t,e)))return!0;Fn(t),Tn(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return An(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Fn(t),Tn(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Dt(t),u=Reflect.getOwnPropertyDescriptor(n,e);return u&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:u.enumerable,value:n[e]}},defineProperty:function(){Ze(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Ze(12)}},St={};Vt(Ln,function(t,e){St[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),St.deleteProperty=function(t,e){return St.set.call(this,t,e,void 0)},St.set=function(t,e,n){return Ln.set.call(this,t[0],e,n,t[0])};var ua=function(){function t(n){var u=this;this.O=Bu,this.D=!0,this.produce=function(r,i,a){if(typeof r=="function"&&typeof i!="function"){var l=i;i=r;var s=u;return function(A){var v=this;A===void 0&&(A=l);for(var F=arguments.length,b=Array(F>1?F-1:0),y=1;y<F;y++)b[y-1]=arguments[y];return s.produce(A,function(I){var k;return(k=i).call.apply(k,[v,I].concat(b))})}}var o;if(typeof i!="function"&&Ze(6),a!==void 0&&typeof a!="function"&&Ze(7),mt(r)){var c=Du(u),d=Rn(u,r,void 0),f=!0;try{o=i(d),f=!1}finally{f?Xt(c):Sn(c)}return typeof Promise<"u"&&o instanceof Promise?o.then(function(A){return En(c,a),vn(A,c)},function(A){throw Xt(c),A}):(En(c,a),vn(o,c))}if(!r||typeof r!="object"){if((o=i(r))===void 0&&(o=r),o===Pr&&(o=void 0),u.D&&Wn(o,!0),a){var h=[],C=[];et("Patches").M(r,o,h,C),a(h,C)}return o}Ze(21,r)},this.produceWithPatches=function(r,i){if(typeof r=="function")return function(o){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return u.produceWithPatches(o,function(h){return r.apply(void 0,[h].concat(d))})};var a,l,s=u.produce(r,i,function(o,c){a=o,l=c});return typeof Promise<"u"&&s instanceof Promise?s.then(function(o){return[o,a,l]}):[s,a,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){mt(n)||Ze(8),Ct(n)&&(n=Qi(n));var u=Du(this),r=Rn(this,n,void 0);return r[He].C=!0,Sn(u),r},e.finishDraft=function(n,u){var r=n&&n[He],i=r.A;return En(i,u),vn(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Bu&&Ze(20),this.O=n},e.applyPatches=function(n,u){var r;for(r=u.length-1;r>=0;r--){var i=u[r];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}r>-1&&(u=u.slice(r+1));var a=et("Patches").$;return Ct(n)?a(n,u):this.produce(n,function(l){return a(l,u)})},t}(),ze=new ua,Yn=ze.produce;ze.produceWithPatches.bind(ze);ze.setAutoFreeze.bind(ze);ze.setUseProxies.bind(ze);ze.applyPatches.bind(ze);var vu=ze.createDraft.bind(ze),Au=ze.finishDraft.bind(ze);function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qt=new WeakMap,xt=new WeakMap,It=new WeakMap,Fu=new WeakMap,bu=new WeakMap,_u=new WeakMap,wu=new WeakMap;function yu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yu(Object(n),!0).forEach(function(u){tt(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var If=()=>{var t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:e=>{for(var n of D.pathRefs(t))Sa.transform(n,e);for(var u of D.pointRefs(t))Ta.transform(u,e);for(var r of D.rangeRefs(t))ja.transform(r,e);var i=Qt.get(t)||[],a=xt.get(t)||new Set,l,s,o=C=>{if(C){var A=C.join(",");s.has(A)||(s.add(A),l.push(C))}};if(B.operationCanTransformPath(e)){l=[],s=new Set;for(var c of i){var d=B.transform(c,e);o(d)}}else l=i,s=a;var f=t.getDirtyPaths(e);for(var h of f)o(h);Qt.set(t,l),xt.set(t,s),w.transform(t,e),t.operations.push(e),D.normalize(t,{operation:e}),e.type==="set_selection"&&(t.marks=null),It.get(t)||(It.set(t,!0),Promise.resolve().then(()=>{It.set(t,!1),t.onChange({operation:e}),t.operations=[]}))},addMark:(e,n)=>{var{selection:u,markableVoid:r}=t;if(u){var i=(f,h)=>{if(!j.isText(f))return!1;var[C,A]=D.parent(t,h);return!t.isVoid(C)||t.markableVoid(C)},a=_.isExpanded(u),l=!1;if(!a){var[s,o]=D.node(t,u);if(s&&i(s,o)){var[c]=D.parent(t,o);l=c&&t.markableVoid(c)}}if(a||l)w.setNodes(t,{[e]:n},{match:i,split:!0,voids:!0});else{var d=Ht(Ht({},D.marks(t)||{}),{},{[e]:n});t.marks=d,It.get(t)||t.onChange()}}},deleteBackward:e=>{var{selection:n}=t;n&&_.isCollapsed(n)&&w.delete(t,{unit:e,reverse:!0})},deleteForward:e=>{var{selection:n}=t;n&&_.isCollapsed(n)&&w.delete(t,{unit:e})},deleteFragment:e=>{var{selection:n}=t;n&&_.isExpanded(n)&&w.delete(t,{reverse:e==="backward"})},getFragment:()=>{var{selection:e}=t;return e?O.fragment(t,e):[]},insertBreak:()=>{w.splitNodes(t,{always:!0})},insertSoftBreak:()=>{w.splitNodes(t,{always:!0})},insertFragment:e=>{w.insertFragment(t,e)},insertNode:e=>{w.insertNodes(t,e)},insertText:e=>{var{selection:n,marks:u}=t;if(n){if(u){var r=Ht({text:e},u);w.insertNodes(t,r)}else w.insertText(t,e);t.marks=null}},normalizeNode:e=>{var[n,u]=e;if(!j.isText(n)){if(L.isElement(n)&&n.children.length===0){var r={text:""};w.insertNodes(t,r,{at:u.concat(0),voids:!0});return}for(var i=D.isEditor(n)?!1:L.isElement(n)&&(t.isInline(n)||n.children.length===0||j.isText(n.children[0])||t.isInline(n.children[0])),a=0,l=0;l<n.children.length;l++,a++){var s=O.get(t,u);if(!j.isText(s)){var o=n.children[l],c=s.children[a-1],d=l===n.children.length-1,f=j.isText(o)||L.isElement(o)&&t.isInline(o);if(f!==i)w.removeNodes(t,{at:u.concat(a),voids:!0}),a--;else if(L.isElement(o)){if(t.isInline(o)){if(c==null||!j.isText(c)){var h={text:""};w.insertNodes(t,h,{at:u.concat(a),voids:!0}),a++}else if(d){var C={text:""};w.insertNodes(t,C,{at:u.concat(a+1),voids:!0}),a++}}}else c!=null&&j.isText(c)&&(j.equals(o,c,{loose:!0})?(w.mergeNodes(t,{at:u.concat(a),voids:!0}),a--):c.text===""?(w.removeNodes(t,{at:u.concat(a-1),voids:!0}),a--):o.text===""&&(w.removeNodes(t,{at:u.concat(a),voids:!0}),a--))}}}},removeMark:e=>{var{selection:n}=t;if(n){var u=(c,d)=>{if(!j.isText(c))return!1;var[f,h]=D.parent(t,d);return!t.isVoid(f)||t.markableVoid(f)},r=_.isExpanded(n),i=!1;if(!r){var[a,l]=D.node(t,n);if(a&&u(a,l)){var[s]=D.parent(t,l);i=s&&t.markableVoid(s)}}if(r||i)w.unsetNodes(t,e,{match:u,split:!0,voids:!0});else{var o=Ht({},D.marks(t)||{});delete o[e],t.marks=o,It.get(t)||t.onChange()}}},getDirtyPaths:e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=e;return B.levels(n)}case"insert_node":{var{node:u,path:r}=e,i=B.levels(r),a=j.isText(u)?[]:Array.from(O.nodes(u),Y=>{var[,se]=Y;return r.concat(se)});return[...i,...a]}case"merge_node":{var{path:l}=e,s=B.ancestors(l),o=B.previous(l);return[...s,o]}case"move_node":{var{path:c,newPath:d}=e;if(B.equals(c,d))return[];var f=[],h=[];for(var C of B.ancestors(c)){var A=B.transform(C,e);f.push(A)}for(var v of B.ancestors(d)){var F=B.transform(v,e);h.push(F)}var b=h[h.length-1],y=d[d.length-1],I=b.concat(y);return[...f,...h,I]}case"remove_node":{var{path:k}=e,p=B.ancestors(k);return[...p]}case"split_node":{var{path:H}=e,g=B.levels(H),M=B.next(H);return[...g,M]}default:return[]}},shouldNormalize:e=>{var{iteration:n,initialDirtyPathsLength:u}=e,r=u*42;if(n>r)throw new Error("Could not completely normalize the editor after ".concat(r," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0}};return t};function ra(t,e){if(t==null)return{};var n={},u=Object.keys(t),r,i;for(i=0;i<u.length;i++)r=u[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function at(t,e){if(t==null)return{};var n=ra(t,e),u,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)u=i[r],!(e.indexOf(u)>=0)&&Object.prototype.propertyIsEnumerable.call(t,u)&&(n[u]=t[u])}return n}var Un=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=!n,r=n?fa(e):e,i=K.None,a=K.None,l=0,s=null,o=null;for(var c of r){var d=c.codePointAt(0);if(!d)break;var f=Fa(c,d);if([i,a]=u?[a,f]:[f,i],bt(i,K.ZWJ)&&bt(a,K.ExtPict)&&(u?s=pu(e.substring(0,l)):s=pu(e.substring(0,e.length-l)),!s)||bt(i,K.RI)&&bt(a,K.RI)&&(o!==null?o=!o:u?o=!0:o=pa(e.substring(0,e.length-l)),!o)||i!==K.None&&a!==K.None&&_a(i,a))break;l+=c.length}return l||1},ia=/\s/,aa=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,sa=/['\u2018\u2019]/,la=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=0,r=!1;e.length>0;){var i=Un(e,n),[a,l]=Gn(e,i,n);if(oa(a,l,n))r=!0,u+=i;else if(!r)u+=i;else break;e=l}return u},Gn=(t,e,n)=>{if(n){var u=t.length-e;return[t.slice(u,t.length),t.slice(0,u)]}return[t.slice(0,e),t.slice(e)]},oa=function t(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(ia.test(e))return!1;if(sa.test(e)){var r=Un(n,u),[i,a]=Gn(n,r,u);if(t(i,a,u))return!0}return!aa.test(e)},fa=function*(e){for(var n=e.length-1,u=0;u<e.length;u++){var r=e.charAt(n-u);if(da(r.charCodeAt(0))){var i=e.charAt(n-u-1);if(ca(i.charCodeAt(0))){yield i+r,u++;continue}}yield r}},ca=t=>t>=55296&&t<=56319,da=t=>t>=56320&&t<=57343,K;(function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"})(K||(K={}));var Da=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,ha=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,ga=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Ca=/^[\u1100-\u115F\uA960-\uA97C]$/,ma=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Ba=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Ea=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,va=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Aa=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Fa=(t,e)=>{var n=K.Any;return t.search(Da)!==-1&&(n|=K.Extend),e===8205&&(n|=K.ZWJ),e>=127462&&e<=127487&&(n|=K.RI),t.search(ha)!==-1&&(n|=K.Prepend),t.search(ga)!==-1&&(n|=K.SpacingMark),t.search(Ca)!==-1&&(n|=K.L),t.search(ma)!==-1&&(n|=K.V),t.search(Ba)!==-1&&(n|=K.T),t.search(Ea)!==-1&&(n|=K.LV),t.search(va)!==-1&&(n|=K.LVT),t.search(Aa)!==-1&&(n|=K.ExtPict),n};function bt(t,e){return(t&e)!==0}var ba=[[K.L,K.L|K.V|K.LV|K.LVT],[K.LV|K.V,K.V|K.T],[K.LVT|K.T,K.T],[K.Any,K.Extend|K.ZWJ],[K.Any,K.SpacingMark],[K.Prepend,K.Any],[K.ZWJ,K.ExtPict],[K.RI,K.RI]];function _a(t,e){return ba.findIndex(n=>bt(t,n[0])&&bt(e,n[1]))===-1}var wa=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,pu=t=>t.search(wa)!==-1,ya=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,pa=t=>{var e=t.match(ya);if(e===null)return!1;var n=e[0].length/2;return n%2===1},Ou=t=>ke(t)&&O.isNodeList(t.children)&&!D.isEditor(t),L={isAncestor(t){return ke(t)&&O.isNodeList(t.children)},isElement:Ou,isElementList(t){return Array.isArray(t)&&t.every(e=>L.isElement(e))},isElementProps(t){return t.children!==void 0},isElementType:function(e,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Ou(e)&&e[u]===n},matches(t,e){for(var n in e)if(n!=="children"&&t[n]!==e[n])return!1;return!0}},Oa=["text"],ka=["text"];function ku(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ku(Object(n),!0).forEach(function(u){tt(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Pu=new WeakMap,D={above(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:u="lowest",at:r=t.selection,match:i}=e;if(r){var a=D.path(t,r),l=u==="lowest";for(var[s,o]of D.levels(t,{at:a,voids:n,match:i,reverse:l}))if(!j.isText(s)){if(_.isRange(r)){if(B.isAncestor(o,r.anchor.path)&&B.isAncestor(o,r.focus.path))return[s,o]}else if(!B.equals(a,o))return[s,o]}}},addMark(t,e,n){t.addMark(e,n)},after(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.point(t,e,{edge:"end"}),r=D.end(t,[]),i={anchor:u,focus:r},{distance:a=1}=n,l=0,s;for(var o of D.positions(t,st(st({},n),{},{at:i}))){if(l>a)break;l!==0&&(s=o),l++}return s},before(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.start(t,[]),r=D.point(t,e,{edge:"start"}),i={anchor:u,focus:r},{distance:a=1}=n,l=0,s;for(var o of D.positions(t,st(st({},n),{},{at:i,reverse:!0}))){if(l>a)break;l!==0&&(s=o),l++}return s},deleteBackward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=e;t.deleteBackward(n)},deleteForward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=e;t.deleteForward(n)},deleteFragment(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:n="forward"}=e;t.deleteFragment(n)},edges(t,e){return[D.start(t,e),D.end(t,e)]},elementReadOnly(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D.above(t,st(st({},e),{},{match:n=>L.isElement(n)&&D.isElementReadOnly(t,n)}))},end(t,e){return D.point(t,e,{edge:"end"})},first(t,e){var n=D.path(t,e,{edge:"start"});return D.node(t,n)},fragment(t,e){var n=D.range(t,e),u=O.fragment(t,n);return u},hasBlocks(t,e){return e.children.some(n=>L.isElement(n)&&D.isBlock(t,n))},hasInlines(t,e){return e.children.some(n=>j.isText(n)||D.isInline(t,n))},hasTexts(t,e){return e.children.every(n=>j.isText(n))},insertBreak(t){t.insertBreak()},insertSoftBreak(t){t.insertSoftBreak()},insertFragment(t,e){t.insertFragment(e)},insertNode(t,e){t.insertNode(e)},insertText(t,e){t.insertText(e)},isBlock(t,e){return!t.isInline(e)},isEditor(t){var e=Pu.get(t);if(e!==void 0)return e;if(!ke(t))return!1;var n=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteBackward=="function"&&typeof t.deleteForward=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||ke(t.marks))&&(t.selection===null||_.isRange(t.selection))&&O.isNodeList(t.children)&&lt.isOperationList(t.operations);return Pu.set(t,n),n},isEnd(t,e,n){var u=D.end(t,n);return Q.equals(e,u)},isEdge(t,e,n){return D.isStart(t,e,n)||D.isEnd(t,e,n)},isEmpty(t,e){var{children:n}=e,[u]=n;return n.length===0||n.length===1&&j.isText(u)&&u.text===""&&!t.isVoid(e)},isInline(t,e){return t.isInline(e)},isElementReadOnly(t,e){return t.isElementReadOnly(e)},isNormalizing(t){var e=Fu.get(t);return e===void 0?!0:e},isSelectable(t,e){return t.isSelectable(e)},isStart(t,e,n){if(e.offset!==0)return!1;var u=D.start(t,n);return Q.equals(e,u)},isVoid(t,e){return t.isVoid(e)},last(t,e){var n=D.path(t,e,{edge:"end"});return D.node(t,n)},leaf(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.path(t,e,n),r=O.leaf(t,u);return[r,u]},*levels(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,reverse:u=!1,voids:r=!1}=e,{match:i}=e;if(i==null&&(i=()=>!0),!!n){var a=[],l=D.path(t,n);for(var[s,o]of O.levels(t,l))if(i(s,o)&&(a.push([s,o]),!r&&L.isElement(s)&&D.isVoid(t,s)))break;u&&a.reverse(),yield*a}},marks(t){var{marks:e,selection:n}=t;if(!n)return null;if(e)return e;if(_.isExpanded(n)){var[u]=D.nodes(t,{match:j.isText});if(u){var[r]=u,i=at(r,Oa);return i}else return{}}var{anchor:a}=n,{path:l}=a,[s]=D.leaf(t,l);if(a.offset===0){var o=D.previous(t,{at:l,match:j.isText}),c=D.above(t,{match:v=>L.isElement(v)&&D.isVoid(t,v)&&t.markableVoid(v)});if(!c){var d=D.above(t,{match:v=>L.isElement(v)&&D.isBlock(t,v)});if(o&&d){var[f,h]=o,[,C]=d;B.isAncestor(C,h)&&(s=f)}}}var A=at(s,ka);return A},next(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=e,{match:r,at:i=t.selection}=e;if(i){var a=D.after(t,i,{voids:u});if(a){var[,l]=D.last(t,[]),s=[a.path,l];if(B.isPath(i)&&i.length===0)throw new Error("Cannot get the next node from the root node!");if(r==null)if(B.isPath(i)){var[o]=D.parent(t,i);r=d=>o.children.includes(d)}else r=()=>!0;var[c]=D.nodes(t,{at:s,match:r,mode:n,voids:u});return c}}},node(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.path(t,e,n),r=O.get(t,u);return[r,u]},*nodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,mode:u="all",universal:r=!1,reverse:i=!1,voids:a=!1,ignoreNonSelectable:l=!1}=e,{match:s}=e;if(s||(s=()=>!0),!!n){var o,c;if(Pa.isSpan(n))o=n[0],c=n[1];else{var d=D.path(t,n,{edge:"start"}),f=D.path(t,n,{edge:"end"});o=i?f:d,c=i?d:f}var h=O.nodes(t,{reverse:i,from:o,to:c,pass:I=>{var[k]=I;return L.isElement(k)?!!(!a&&(D.isVoid(t,k)||D.isElementReadOnly(t,k))||l&&!D.isSelectable(t,k)):!1}}),C=[],A;for(var[v,F]of h)if(!(l&&L.isElement(v)&&!D.isSelectable(t,v))){var b=A&&B.compare(F,A[1])===0;if(!(u==="highest"&&b)){if(!s(v,F)){if(r&&!b&&j.isText(v))return;continue}if(u==="lowest"&&b){A=[v,F];continue}var y=u==="lowest"?A:[v,F];y&&(r?C.push(y):yield y),A=[v,F]}}u==="lowest"&&A&&(r?C.push(A):yield A),r&&(yield*C)}},normalize(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:u}=e,r=o=>Qt.get(o)||[],i=o=>xt.get(o)||new Set,a=o=>{var c=r(o).pop(),d=c.join(",");return i(o).delete(d),c};if(D.isNormalizing(t)){if(n){var l=Array.from(O.nodes(t),o=>{var[,c]=o;return c}),s=new Set(l.map(o=>o.join(",")));Qt.set(t,l),xt.set(t,s)}r(t).length!==0&&D.withoutNormalizing(t,()=>{for(var o of r(t))if(O.has(t,o)){var c=D.node(t,o),[d,f]=c;L.isElement(d)&&d.children.length===0&&t.normalizeNode(c,{operation:u})}for(var h=r(t),C=h.length,A=0;h.length!==0;){if(!t.shouldNormalize({dirtyPaths:h,iteration:A,initialDirtyPathsLength:C,operation:u}))return;var v=a(t);if(O.has(t,v)){var F=D.node(t,v);t.normalizeNode(F,{operation:u})}A++,h=r(t)}})}},parent(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.path(t,e,n),r=B.parent(u),i=D.node(t,r);return i},path(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:u,edge:r}=n;if(B.isPath(e)){if(r==="start"){var[,i]=O.first(t,e);e=i}else if(r==="end"){var[,a]=O.last(t,e);e=a}}return _.isRange(e)&&(r==="start"?e=_.start(e):r==="end"?e=_.end(e):e=B.common(e.anchor.path,e.focus.path)),Q.isPoint(e)&&(e=e.path),u!=null&&(e=e.slice(0,u)),e},hasPath(t,e){return O.has(t,e)},pathRef(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,r={current:e,affinity:u,unref(){var{current:a}=r,l=D.pathRefs(t);return l.delete(r),r.current=null,a}},i=D.pathRefs(t);return i.add(r),r},pathRefs(t){var e=bu.get(t);return e||(e=new Set,bu.set(t,e)),e},point(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:u="start"}=n;if(B.isPath(e)){var r;if(u==="end"){var[,i]=O.last(t,e);r=i}else{var[,a]=O.first(t,e);r=a}var l=O.get(t,r);if(!j.isText(l))throw new Error("Cannot get the ".concat(u," point in the node at path [").concat(e,"] because it has no ").concat(u," text node."));return{path:r,offset:u==="end"?l.text.length:0}}if(_.isRange(e)){var[s,o]=_.edges(e);return u==="start"?s:o}return e},pointRef(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,r={current:e,affinity:u,unref(){var{current:a}=r,l=D.pointRefs(t);return l.delete(r),r.current=null,a}},i=D.pointRefs(t);return i.add(r),r},pointRefs(t){var e=_u.get(t);return e||(e=new Set,_u.set(t,e)),e},*positions(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,unit:u="offset",reverse:r=!1,voids:i=!1,ignoreNonSelectable:a=!1}=e;if(!n)return;var l=D.range(t,n),[s,o]=_.edges(l),c=r?o:s,d=!1,f="",h=0,C=0,A=0;for(var[v,F]of D.nodes(t,{at:n,reverse:r,voids:i,ignoreNonSelectable:a})){if(L.isElement(v)){if(!i&&(t.isVoid(v)||t.isElementReadOnly(v))){yield D.start(t,F);continue}if(t.isInline(v))continue;if(D.hasInlines(t,v)){var b=B.isAncestor(F,o.path)?o:D.end(t,F),y=B.isAncestor(F,s.path)?s:D.start(t,F);f=D.string(t,{anchor:y,focus:b},{voids:i}),d=!0}}if(j.isText(v)){var I=B.equals(F,c.path);for(I?(C=r?c.offset:v.text.length-c.offset,A=c.offset):(C=v.text.length,A=r?C:0),(I||d||u==="offset")&&(yield{path:F,offset:A},d=!1);;){if(h===0){if(f==="")break;h=k(f,u,r),f=Gn(f,h,r)[1]}if(A=r?A-h:A+h,C=C-h,C<0){h=-C;break}h=0,yield{path:F,offset:A}}}}function k(p,H,g){return H==="character"?Un(p,g):H==="word"?la(p,g):H==="line"||H==="block"?p.length:1}},previous(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=e,{match:r,at:i=t.selection}=e;if(i){var a=D.before(t,i,{voids:u});if(a){var[,l]=D.first(t,[]),s=[a.path,l];if(B.isPath(i)&&i.length===0)throw new Error("Cannot get the previous node from the root node!");if(r==null)if(B.isPath(i)){var[o]=D.parent(t,i);r=d=>o.children.includes(d)}else r=()=>!0;var[c]=D.nodes(t,{reverse:!0,at:s,match:r,mode:n,voids:u});return c}}},range(t,e,n){if(_.isRange(e)&&!n)return e;var u=D.start(t,e),r=D.end(t,n||e);return{anchor:u,focus:r}},rangeRef(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,r={current:e,affinity:u,unref(){var{current:a}=r,l=D.rangeRefs(t);return l.delete(r),r.current=null,a}},i=D.rangeRefs(t);return i.add(r),r},rangeRefs(t){var e=wu.get(t);return e||(e=new Set,wu.set(t,e)),e},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){Fu.set(t,e)},start(t,e){return D.point(t,e,{edge:"start"})},string(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,r=D.range(t,e),[i,a]=_.edges(r),l="";for(var[s,o]of D.nodes(t,{at:r,match:j.isText,voids:u})){var c=s.text;B.equals(o,a.path)&&(c=c.slice(0,a.offset)),B.equals(o,i.path)&&(c=c.slice(i.offset)),l+=c}return l},unhangRange(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,[r,i]=_.edges(e);if(r.offset!==0||i.offset!==0||_.isCollapsed(e)||B.hasPrevious(i.path))return e;var a=D.above(t,{at:i,match:h=>L.isElement(h)&&D.isBlock(t,h),voids:u}),l=a?a[1]:[],s=D.start(t,r),o={anchor:s,focus:i},c=!0;for(var[d,f]of D.nodes(t,{at:o,match:j.isText,reverse:!0,voids:u})){if(c){c=!1;continue}if(d.text!==""||B.isBefore(f,l)){i={path:f,offset:d.text.length};break}}return{anchor:r,focus:i}},void(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D.above(t,st(st({},e),{},{match:n=>L.isElement(n)&&D.isVoid(t,n)}))},withoutNormalizing(t,e){var n=D.isNormalizing(t);D.setNormalizing(t,!1);try{e()}finally{D.setNormalizing(t,n)}D.normalize(t)}},Pa={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(B.isPath)}},Ia=["children"],Na=["text"],Iu=new WeakMap,O={ancestor(t,e){var n=O.get(t,e);if(j.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(We.stringify(n)));return n},*ancestors(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var u of B.ancestors(e,n)){var r=O.ancestor(t,u),i=[r,u];yield i}},child(t,e){if(j.isText(t))throw new Error("Cannot get the child of a text node: ".concat(We.stringify(t)));var n=t.children[e];if(n==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(We.stringify(t)));return n},*children(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:u=!1}=n,r=O.ancestor(t,e),{children:i}=r,a=u?i.length-1:0;u?a>=0:a<i.length;){var l=O.child(r,a),s=e.concat(a);yield[l,s],a=u?a-1:a+1}},common(t,e,n){var u=B.common(e,n),r=O.get(t,u);return[r,u]},descendant(t,e){var n=O.get(t,e);if(D.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(We.stringify(n)));return n},*descendants(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of O.nodes(t,e))u.length!==0&&(yield[n,u])},*elements(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of O.nodes(t,e))L.isElement(n)&&(yield[n,u])},extractProps(t){if(L.isAncestor(t)){var e=at(t,Ia);return e}else{var e=at(t,Na);return e}},first(t,e){for(var n=e.slice(),u=O.get(t,n);u&&!(j.isText(u)||u.children.length===0);)u=u.children[0],n.push(0);return[u,n]},fragment(t,e){if(j.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(We.stringify(t)));var n=Yn({children:t.children},u=>{var[r,i]=_.edges(e),a=O.nodes(u,{reverse:!0,pass:f=>{var[,h]=f;return!_.includes(e,h)}});for(var[,l]of a){if(!_.includes(e,l)){var s=O.parent(u,l),o=l[l.length-1];s.children.splice(o,1)}if(B.equals(l,i.path)){var c=O.leaf(u,l);c.text=c.text.slice(0,i.offset)}if(B.equals(l,r.path)){var d=O.leaf(u,l);d.text=d.text.slice(r.offset)}}D.isEditor(u)&&(u.selection=null)});return n.children},get(t,e){for(var n=t,u=0;u<e.length;u++){var r=e[u];if(j.isText(n)||!n.children[r])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(We.stringify(t)));n=n.children[r]}return n},has(t,e){for(var n=t,u=0;u<e.length;u++){var r=e[u];if(j.isText(n)||!n.children[r])return!1;n=n.children[r]}return!0},isNode(t){return j.isText(t)||L.isElement(t)||D.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=Iu.get(t);if(e!==void 0)return e;var n=t.every(u=>O.isNode(u));return Iu.set(t,n),n},last(t,e){for(var n=e.slice(),u=O.get(t,n);u&&!(j.isText(u)||u.children.length===0);){var r=u.children.length-1;u=u.children[r],n.push(r)}return[u,n]},leaf(t,e){var n=O.get(t,e);if(!j.isText(n))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(We.stringify(n)));return n},*levels(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var u of B.levels(e,n)){var r=O.get(t,u);yield[r,u]}},matches(t,e){return L.isElement(t)&&L.isElementProps(e)&&L.matches(t,e)||j.isText(t)&&j.isTextProps(e)&&j.matches(t,e)},*nodes(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:u=!1}=e,{from:r=[],to:i}=e,a=new Set,l=[],s=t;!(i&&(u?B.isBefore(l,i):B.isAfter(l,i)));){if(a.has(s)||(yield[s,l]),!a.has(s)&&!j.isText(s)&&s.children.length!==0&&(n==null||n([s,l])===!1)){a.add(s);var o=u?s.children.length-1:0;B.isAncestor(l,r)&&(o=r[l.length]),l=l.concat(o),s=O.get(t,l);continue}if(l.length===0)break;if(!u){var c=B.next(l);if(O.has(t,c)){l=c,s=O.get(t,l);continue}}if(u&&l[l.length-1]!==0){var d=B.previous(l);l=d,s=O.get(t,l);continue}l=B.parent(l),s=O.get(t,l),a.add(s)}},parent(t,e){var n=B.parent(e),u=O.get(t,n);if(j.isText(u))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return u},string(t){return j.isText(t)?t.text:t.children.map(O.string).join("")},*texts(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of O.nodes(t,e))j.isText(n)&&(yield[n,u])}};function Nu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nu(Object(n),!0).forEach(function(u){tt(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var lt={isNodeOperation(t){return lt.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!ke(t))return!1;switch(t.type){case"insert_node":return B.isPath(t.path)&&O.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&B.isPath(t.path);case"merge_node":return typeof t.position=="number"&&B.isPath(t.path)&&ke(t.properties);case"move_node":return B.isPath(t.path)&&B.isPath(t.newPath);case"remove_node":return B.isPath(t.path)&&O.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&B.isPath(t.path);case"set_node":return B.isPath(t.path)&&ke(t.properties)&&ke(t.newProperties);case"set_selection":return t.properties===null&&_.isRange(t.newProperties)||t.newProperties===null&&_.isRange(t.properties)||ke(t.properties)&&ke(t.newProperties);case"split_node":return B.isPath(t.path)&&typeof t.position=="number"&&ke(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>lt.isOperation(e))},isSelectionOperation(t){return lt.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return lt.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return Ce(Ce({},t),{},{type:"remove_node"});case"insert_text":return Ce(Ce({},t),{},{type:"remove_text"});case"merge_node":return Ce(Ce({},t),{},{type:"split_node",path:B.previous(t.path)});case"move_node":{var{newPath:e,path:n}=t;if(B.equals(e,n))return t;if(B.isSibling(n,e))return Ce(Ce({},t),{},{path:e,newPath:n});var u=B.transform(n,t),r=B.transform(B.next(n),t);return Ce(Ce({},t),{},{path:u,newPath:r})}case"remove_node":return Ce(Ce({},t),{},{type:"insert_node"});case"remove_text":return Ce(Ce({},t),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:a}=t;return Ce(Ce({},t),{},{properties:a,newProperties:i})}case"set_selection":{var{properties:l,newProperties:s}=t;return l==null?Ce(Ce({},t),{},{properties:s,newProperties:null}):s==null?Ce(Ce({},t),{},{properties:null,newProperties:l}):Ce(Ce({},t),{},{properties:s,newProperties:l})}case"split_node":return Ce(Ce({},t),{},{type:"merge_node",path:B.next(t.path)})}}},B={ancestors(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,u=B.levels(t,e);return n?u=u.slice(1):u=u.slice(0,-1),u},common(t,e){for(var n=[],u=0;u<t.length&&u<e.length;u++){var r=t[u],i=e[u];if(r!==i)break;n.push(r)}return n},compare(t,e){for(var n=Math.min(t.length,e.length),u=0;u<n;u++){if(t[u]<e[u])return-1;if(t[u]>e[u])return 1}return 0},endsAfter(t,e){var n=t.length-1,u=t.slice(0,n),r=e.slice(0,n),i=t[n],a=e[n];return B.equals(u,r)&&i>a},endsAt(t,e){var n=t.length,u=t.slice(0,n),r=e.slice(0,n);return B.equals(u,r)},endsBefore(t,e){var n=t.length-1,u=t.slice(0,n),r=e.slice(0,n),i=t[n],a=e[n];return B.equals(u,r)&&i<a},equals(t,e){return t.length===e.length&&t.every((n,u)=>n===e[u])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return B.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&B.compare(t,e)===0},isBefore(t,e){return B.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&B.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&B.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&B.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&B.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;var n=t.slice(0,-1),u=e.slice(0,-1),r=t[t.length-1],i=e[e.length-1];return r!==i&&B.equals(n,u)},levels(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,u=[],r=0;r<=t.length;r++)u.push(t.slice(0,r));return n&&u.reverse(),u},next(t){if(t.length===0)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!B.isAncestor(e,t)&&!B.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return null;var u=[...t],{affinity:r="forward"}=n;if(t.length===0)return u;switch(e.type){case"insert_node":{var{path:i}=e;(B.equals(i,u)||B.endsBefore(i,u)||B.isAncestor(i,u))&&(u[i.length-1]+=1);break}case"remove_node":{var{path:a}=e;if(B.equals(a,u)||B.isAncestor(a,u))return null;B.endsBefore(a,u)&&(u[a.length-1]-=1);break}case"merge_node":{var{path:l,position:s}=e;B.equals(l,u)||B.endsBefore(l,u)?u[l.length-1]-=1:B.isAncestor(l,u)&&(u[l.length-1]-=1,u[l.length]+=s);break}case"split_node":{var{path:o,position:c}=e;if(B.equals(o,u)){if(r==="forward")u[u.length-1]+=1;else if(r!=="backward")return null}else B.endsBefore(o,u)?u[o.length-1]+=1:B.isAncestor(o,u)&&t[o.length]>=c&&(u[o.length-1]+=1,u[o.length]-=c);break}case"move_node":{var{path:d,newPath:f}=e;if(B.equals(d,f))return u;if(B.isAncestor(d,u)||B.equals(d,u)){var h=f.slice();return B.endsBefore(d,f)&&d.length<f.length&&(h[d.length-1]-=1),h.concat(u.slice(d.length))}else B.isSibling(d,f)&&(B.isAncestor(f,u)||B.equals(f,u))?B.endsBefore(d,u)?u[d.length-1]-=1:u[d.length-1]+=1:B.endsBefore(f,u)||B.equals(f,u)||B.isAncestor(f,u)?(B.endsBefore(d,u)&&(u[d.length-1]-=1),u[f.length-1]+=1):B.endsBefore(d,u)&&(B.equals(f,u)&&(u[f.length-1]+=1),u[d.length-1]-=1);break}}return u}},Sa={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var r=B.transform(n,e,{affinity:u});t.current=r,r==null&&t.unref()}}};function Su(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Su(Object(n),!0).forEach(function(u){tt(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Su(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Q={compare(t,e){var n=B.compare(t.path,e.path);return n===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:n},isAfter(t,e){return Q.compare(t,e)===1},isBefore(t,e){return Q.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&B.equals(t.path,e.path)},isPoint(t){return ke(t)&&typeof t.offset=="number"&&B.isPath(t.path)},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Yn(t,u=>{if(u===null)return null;var{affinity:r="forward"}=n,{path:i,offset:a}=u;switch(e.type){case"insert_node":case"move_node":{u.path=B.transform(i,e,n);break}case"insert_text":{B.equals(e.path,i)&&(e.offset<a||e.offset===a&&r==="forward")&&(u.offset+=e.text.length);break}case"merge_node":{B.equals(e.path,i)&&(u.offset+=e.position),u.path=B.transform(i,e,n);break}case"remove_text":{B.equals(e.path,i)&&e.offset<=a&&(u.offset-=Math.min(a-e.offset,e.text.length));break}case"remove_node":{if(B.equals(e.path,i)||B.isAncestor(e.path,i))return null;u.path=B.transform(i,e,n);break}case"split_node":{if(B.equals(e.path,i)){if(e.position===a&&r==null)return null;(e.position<a||e.position===a&&r==="forward")&&(u.offset-=e.position,u.path=B.transform(i,e,Tu(Tu({},n),{},{affinity:"forward"})))}else u.path=B.transform(i,e,n);break}}})}},Ta={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var r=Q.transform(n,e,{affinity:u});t.current=r,r==null&&t.unref()}}},Ra=["anchor","focus"];function Ru(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ru(Object(n),!0).forEach(function(u){tt(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var _={edges(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,{anchor:u,focus:r}=t;return _.isBackward(t)===n?[u,r]:[r,u]},end(t){var[,e]=_.edges(t);return e},equals(t,e){return Q.equals(t.anchor,e.anchor)&&Q.equals(t.focus,e.focus)},includes(t,e){if(_.isRange(e)){if(_.includes(t,e.anchor)||_.includes(t,e.focus))return!0;var[n,u]=_.edges(t),[r,i]=_.edges(e);return Q.isBefore(n,r)&&Q.isAfter(u,i)}var[a,l]=_.edges(t),s=!1,o=!1;return Q.isPoint(e)?(s=Q.compare(e,a)>=0,o=Q.compare(e,l)<=0):(s=B.compare(e,a.path)>=0,o=B.compare(e,l.path)<=0),s&&o},intersection(t,e){var n=at(t,Ra),[u,r]=_.edges(t),[i,a]=_.edges(e),l=Q.isBefore(u,i)?i:u,s=Q.isBefore(r,a)?r:a;return Q.isBefore(s,l)?null:La({anchor:l,focus:s},n)},isBackward(t){var{anchor:e,focus:n}=t;return Q.isAfter(e,n)},isCollapsed(t){var{anchor:e,focus:n}=t;return Q.equals(e,n)},isExpanded(t){return!_.isCollapsed(t)},isForward(t){return!_.isBackward(t)},isRange(t){return ke(t)&&Q.isPoint(t.anchor)&&Q.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=_.edges(t);return e},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Yn(t,u=>{if(u===null)return null;var{affinity:r="inward"}=n,i,a;if(r==="inward"){var l=_.isCollapsed(u);_.isForward(u)?(i="forward",a=l?i:"backward"):(i="backward",a=l?i:"forward")}else r==="outward"?_.isForward(u)?(i="backward",a="forward"):(i="forward",a="backward"):(i=r,a=r);var s=Q.transform(u.anchor,e,{affinity:i}),o=Q.transform(u.focus,e,{affinity:a});if(!s||!o)return null;u.anchor=s,u.focus=o})}},ja={transform(t,e){var{current:n,affinity:u}=t;if(n!=null){var r=_.transform(n,e,{affinity:u});t.current=r,r==null&&t.unref()}}},Lu=void 0,We={setScrubber(t){Lu=t},stringify(t){return JSON.stringify(t,Lu)}},Ir=(t,e)=>{for(var n in t){var u=t[n],r=e[n];if(ke(u)&&ke(r)){if(!Ir(u,r))return!1}else if(Array.isArray(u)&&Array.isArray(r)){if(u.length!==r.length)return!1;for(var i=0;i<u.length;i++)if(u[i]!==r[i])return!1}else if(u!==r)return!1}for(var a in e)if(t[a]===void 0&&e[a]!==void 0)return!1;return!0},Va=["text"],Ma=["anchor","focus"];function ju(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ju(Object(n),!0).forEach(function(u){tt(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ju(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var j={equals(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:u=!1}=n;function r(i){var a=at(i,Va);return a}return Ir(u?r(t):t,u?r(e):e)},isText(t){return ke(t)&&typeof t.text=="string"},isTextList(t){return Array.isArray(t)&&t.every(e=>j.isText(e))},isTextProps(t){return t.text!==void 0},matches(t,e){for(var n in e)if(n!=="text"&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;return!0},decorations(t,e){var n=[ut({},t)];for(var u of e){var r=at(u,Ma),[i,a]=_.edges(u),l=[],s=0,o=i.offset,c=a.offset;for(var d of n){var{length:f}=d.text,h=s;if(s+=f,o<=h&&s<=c){Object.assign(d,r),l.push(d);continue}if(o!==c&&(o===s||c===h)||o>s||c<h||c===h&&h!==0){l.push(d);continue}var C=d,A=void 0,v=void 0;if(c<s){var F=c-h;v=ut(ut({},C),{},{text:C.text.slice(F)}),C=ut(ut({},C),{},{text:C.text.slice(0,F)})}if(o>h){var b=o-h;A=ut(ut({},C),{},{text:C.text.slice(0,b)}),C=ut(ut({},C),{},{text:C.text.slice(b)})}Object.assign(C,r),A&&l.push(A),l.push(C),v&&l.push(v)}n=l}return n}};function Vu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vu(Object(n),!0).forEach(function(u){tt(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var qa=(t,e,n)=>{switch(n.type){case"insert_node":{var{path:u,node:r}=n,i=O.parent(t,u),a=u[u.length-1];if(a>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(u,"] because the destination is past the end of the node."));if(i.children.splice(a,0,r),e)for(var[l,s]of _.points(e))e[s]=Q.transform(l,n);break}case"insert_text":{var{path:o,offset:c,text:d}=n;if(d.length===0)break;var f=O.leaf(t,o),h=f.text.slice(0,c),C=f.text.slice(c);if(f.text=h+d+C,e)for(var[A,v]of _.points(e))e[v]=Q.transform(A,n);break}case"merge_node":{var{path:F}=n,b=O.get(t,F),y=B.previous(F),I=O.get(t,y),k=O.parent(t,F),p=F[F.length-1];if(j.isText(b)&&j.isText(I))I.text+=b.text;else if(!j.isText(b)&&!j.isText(I))I.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(F,"] to nodes of different interfaces: ").concat(We.stringify(b)," ").concat(We.stringify(I)));if(k.children.splice(p,1),e)for(var[H,g]of _.points(e))e[g]=Q.transform(H,n);break}case"move_node":{var{path:M,newPath:Y}=n;if(B.isAncestor(M,Y))throw new Error("Cannot move a path [".concat(M,"] to new path [").concat(Y,"] because the destination is inside itself."));var se=O.get(t,M),Ae=O.parent(t,M),V=M[M.length-1];Ae.children.splice(V,1);var be=B.transform(M,n),De=O.get(t,B.parent(be)),T=be[be.length-1];if(De.children.splice(T,0,se),e)for(var[Fe,he]of _.points(e))e[he]=Q.transform(Fe,n);break}case"remove_node":{var{path:le}=n,pe=le[le.length-1],Ne=O.parent(t,le);if(Ne.children.splice(pe,1),e)for(var[Se,G]of _.points(e)){var _e=Q.transform(Se,n);if(e!=null&&_e!=null)e[G]=_e;else{var ge=void 0,Be=void 0;for(var[Je,Me]of O.texts(t))if(B.compare(Me,le)===-1)ge=[Je,Me];else{Be=[Je,Me];break}var Ke=!1;ge&&Be&&(B.equals(Be[1],le)?Ke=!B.hasPrevious(Be[1]):Ke=B.common(ge[1],le).length<B.common(Be[1],le).length),ge&&!Ke?(Se.path=ge[1],Se.offset=ge[0].text.length):Be?(Se.path=Be[1],Se.offset=0):e=null}}break}case"remove_text":{var{path:nt,offset:xe,text:$e}=n;if($e.length===0)break;var we=O.leaf(t,nt),kt=we.text.slice(0,xe),hn=we.text.slice(xe+$e.length);if(we.text=kt+hn,e)for(var[gn,Cn]of _.points(e))e[Cn]=Q.transform(gn,n);break}case"set_node":{var{path:Wt,properties:mn,newProperties:Pt}=n;if(Wt.length===0)throw new Error("Cannot set properties on the root node!");var E=O.get(t,Wt);for(var R in Pt){if(R==="children"||R==="text")throw new Error('Cannot set the "'.concat(R,'" property of nodes!'));var q=Pt[R];q==null?delete E[R]:E[R]=q}for(var ne in mn)Pt.hasOwnProperty(ne)||delete E[ne];break}case"set_selection":{var{newProperties:W}=n;if(W==null)e=W;else{if(e==null){if(!_.isRange(W))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(We.stringify(W)," when there is no current selection."));e=Nt({},W)}for(var Z in W){var ct=W[Z];if(ct==null){if(Z==="anchor"||Z==="focus")throw new Error('Cannot remove the "'.concat(Z,'" selection property'));delete e[Z]}else e[Z]=ct}}break}case"split_node":{var{path:qe,position:Et,properties:su}=n;if(qe.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(qe,"] because the root node cannot be split."));var dt=O.get(t,qe),Oi=O.parent(t,qe),ki=qe[qe.length-1],Bn;if(j.isText(dt)){var Pi=dt.text.slice(0,Et),Ii=dt.text.slice(Et);dt.text=Pi,Bn=Nt(Nt({},su),{},{text:Ii})}else{var Ni=dt.children.slice(0,Et),Si=dt.children.slice(Et);dt.children=Ni,Bn=Nt(Nt({},su),{},{children:Si})}if(Oi.children.splice(ki+1,0,Bn),e)for(var[Ti,Ri]of _.points(e))e[Ri]=Q.transform(Ti,n);break}}return e},Wa={transform(t,e){t.children=vu(t.children);var n=t.selection&&vu(t.selection);try{n=qa(t,n,e)}finally{t.children=Au(t.children),n?t.selection=Ct(n)?Au(n):n:t.selection=null}}},Ha=["text"],za=["children"];function Mu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mu(Object(n),!0).forEach(function(u){tt(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Ka={insertNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{hanging:u=!1,voids:r=!1,mode:i="lowest"}=n,{at:a,match:l,select:s}=n;if(O.isNode(e)&&(e=[e]),e.length!==0){var[o]=e;if(a||(t.selection?a=t.selection:t.children.length>0?a=D.end(t,[]):a=[0],s=!0),s==null&&(s=!1),_.isRange(a))if(u||(a=D.unhangRange(t,a,{voids:r})),_.isCollapsed(a))a=a.anchor;else{var[,c]=_.edges(a),d=D.pointRef(t,c);w.delete(t,{at:a}),a=d.unref()}if(Q.isPoint(a)){l==null&&(j.isText(o)?l=p=>j.isText(p):t.isInline(o)?l=p=>j.isText(p)||D.isInline(t,p):l=p=>L.isElement(p)&&D.isBlock(t,p));var[f]=D.nodes(t,{at:a.path,match:l,mode:i,voids:r});if(f){var[,h]=f,C=D.pathRef(t,h),A=D.isEnd(t,a,h);w.splitNodes(t,{at:a,match:l,mode:i,voids:r});var v=C.unref();a=A?B.next(v):v}else return}var F=B.parent(a),b=a[a.length-1];if(!(!r&&D.void(t,{at:F}))){for(var y of e){var I=F.concat(b);b++,t.apply({type:"insert_node",path:I,node:y}),a=B.next(a)}if(a=B.previous(a),s){var k=D.end(t,a);k&&w.select(t,k)}}}})},liftNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{at:n=t.selection,mode:u="lowest",voids:r=!1}=e,{match:i}=e;if(i==null&&(i=B.isPath(n)?vt(t,n):y=>L.isElement(y)&&D.isBlock(t,y)),!!n){var a=D.nodes(t,{at:n,match:i,mode:u,voids:r}),l=Array.from(a,y=>{var[,I]=y;return D.pathRef(t,I)});for(var s of l){var o=s.unref();if(o.length<2)throw new Error("Cannot lift node at a path [".concat(o,"] because it has a depth of less than `2`."));var c=D.node(t,B.parent(o)),[d,f]=c,h=o[o.length-1],{length:C}=d.children;if(C===1){var A=B.next(f);w.moveNodes(t,{at:o,to:A,voids:r}),w.removeNodes(t,{at:f,voids:r})}else if(h===0)w.moveNodes(t,{at:o,to:f,voids:r});else if(h===C-1){var v=B.next(f);w.moveNodes(t,{at:o,to:v,voids:r})}else{var F=B.next(o),b=B.next(f);w.splitNodes(t,{at:F,voids:r}),w.moveNodes(t,{at:o,to:b,voids:r})}}}})},mergeNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{match:n,at:u=t.selection}=e,{hanging:r=!1,voids:i=!1,mode:a="lowest"}=e;if(u){if(n==null)if(B.isPath(u)){var[l]=D.parent(t,u);n=M=>l.children.includes(M)}else n=M=>L.isElement(M)&&D.isBlock(t,M);if(!r&&_.isRange(u)&&(u=D.unhangRange(t,u,{voids:i})),_.isRange(u))if(_.isCollapsed(u))u=u.anchor;else{var[,s]=_.edges(u),o=D.pointRef(t,s);w.delete(t,{at:u}),u=o.unref(),e.at==null&&w.select(t,u)}var[c]=D.nodes(t,{at:u,match:n,voids:i,mode:a}),d=D.previous(t,{at:u,match:n,voids:i,mode:a});if(!(!c||!d)){var[f,h]=c,[C,A]=d;if(!(h.length===0||A.length===0)){var v=B.next(A),F=B.common(h,A),b=B.isSibling(h,A),y=Array.from(D.levels(t,{at:h}),M=>{var[Y]=M;return Y}).slice(F.length).slice(0,-1),I=D.above(t,{at:h,mode:"highest",match:M=>y.includes(M)&&Nr(t,M)}),k=I&&D.pathRef(t,I[1]),p,H;if(j.isText(f)&&j.isText(C)){var g=at(f,Ha);H=C.text.length,p=g}else if(L.isElement(f)&&L.isElement(C)){var g=at(f,za);H=C.children.length,p=g}else throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(We.stringify(f)," ").concat(We.stringify(C)));b||w.moveNodes(t,{at:h,to:v,voids:i}),k&&w.removeNodes(t,{at:k.current,voids:i}),L.isElement(C)&&D.isEmpty(t,C)||j.isText(C)&&C.text===""&&A[A.length-1]!==0?w.removeNodes(t,{at:A,voids:i}):t.apply({type:"merge_node",path:v,position:H,properties:p}),k&&k.unref()}}}})},moveNodes(t,e){D.withoutNormalizing(t,()=>{var{to:n,at:u=t.selection,mode:r="lowest",voids:i=!1}=e,{match:a}=e;if(u){a==null&&(a=B.isPath(u)?vt(t,u):h=>L.isElement(h)&&D.isBlock(t,h));var l=D.pathRef(t,n),s=D.nodes(t,{at:u,match:a,mode:r,voids:i}),o=Array.from(s,h=>{var[,C]=h;return D.pathRef(t,C)});for(var c of o){var d=c.unref(),f=l.current;d.length!==0&&t.apply({type:"move_node",path:d,newPath:f}),l.current&&B.isSibling(f,d)&&B.isAfter(f,d)&&(l.current=B.next(l.current))}l.unref()}})},removeNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{hanging:n=!1,voids:u=!1,mode:r="lowest"}=e,{at:i=t.selection,match:a}=e;if(i){a==null&&(a=B.isPath(i)?vt(t,i):f=>L.isElement(f)&&D.isBlock(t,f)),!n&&_.isRange(i)&&(i=D.unhangRange(t,i,{voids:u}));var l=D.nodes(t,{at:i,match:a,mode:r,voids:u}),s=Array.from(l,f=>{var[,h]=f;return D.pathRef(t,h)});for(var o of s){var c=o.unref();if(c){var[d]=D.node(t,c);t.apply({type:"remove_node",path:c,node:d})}}}})},setNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{match:u,at:r=t.selection,compare:i,merge:a}=n,{hanging:l=!1,mode:s="lowest",split:o=!1,voids:c=!1}=n;if(r){if(u==null&&(u=B.isPath(r)?vt(t,r):H=>L.isElement(H)&&D.isBlock(t,H)),!l&&_.isRange(r)&&(r=D.unhangRange(t,r,{voids:c})),o&&_.isRange(r)){if(_.isCollapsed(r)&&D.leaf(t,r.anchor)[0].text.length>0)return;var d=D.rangeRef(t,r,{affinity:"inward"}),[f,h]=_.edges(r),C=s==="lowest"?"lowest":"highest",A=D.isEnd(t,h,h.path);w.splitNodes(t,{at:h,match:u,mode:C,voids:c,always:!A});var v=D.isStart(t,f,f.path);w.splitNodes(t,{at:f,match:u,mode:C,voids:c,always:!v}),r=d.unref(),n.at==null&&w.select(t,r)}i||(i=(H,g)=>H!==g);for(var[F,b]of D.nodes(t,{at:r,match:u,mode:s,voids:c})){var y={},I={};if(b.length!==0){var k=!1;for(var p in e)p==="children"||p==="text"||i(e[p],F[p])&&(k=!0,F.hasOwnProperty(p)&&(y[p]=F[p]),a?e[p]!=null&&(I[p]=a(F[p],e[p])):e[p]!=null&&(I[p]=e[p]));k&&t.apply({type:"set_node",path:b,properties:y,newProperties:I})}}}})},splitNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{mode:n="lowest",voids:u=!1}=e,{match:r,at:i=t.selection,height:a=0,always:l=!1}=e;if(r==null&&(r=he=>L.isElement(he)&&D.isBlock(t,he)),_.isRange(i)&&(i=Ya(t,i)),B.isPath(i)){var s=i,o=D.point(t,s),[c]=D.parent(t,s);r=he=>he===c,a=o.path.length-s.length+1,i=o,l=!0}if(i){var d=D.pointRef(t,i,{affinity:"backward"}),f;try{var[h]=D.nodes(t,{at:i,match:r,mode:n,voids:u});if(!h)return;var C=D.void(t,{at:i,mode:"highest"}),A=0;if(!u&&C){var[v,F]=C;if(L.isElement(v)&&t.isInline(v)){var b=D.after(t,F);if(!b){var y={text:""},I=B.next(F);w.insertNodes(t,y,{at:I,voids:u}),b=D.point(t,I)}i=b,l=!0}var k=i.path.length-F.length;a=k+1,l=!0}f=D.pointRef(t,i);var p=i.path.length-a,[,H]=h,g=i.path.slice(0,p),M=a===0?i.offset:i.path[p]+A;for(var[Y,se]of D.levels(t,{at:g,reverse:!0,voids:u})){var Ae=!1;if(se.length<H.length||se.length===0||!u&&L.isElement(Y)&&D.isVoid(t,Y))break;var V=d.current,be=D.isEnd(t,V,se);if(l||!d||!D.isEdge(t,V,se)){Ae=!0;var De=O.extractProps(Y);t.apply({type:"split_node",path:se,position:M,properties:De})}M=se[se.length-1]+(Ae||be?1:0)}if(e.at==null){var T=f.current||D.end(t,[]);w.select(t,T)}}finally{var Fe;d.unref(),(Fe=f)===null||Fe===void 0||Fe.unref()}}})},unsetNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(e)||(e=[e]);var u={};for(var r of e)u[r]=null;w.setNodes(t,u,n)},unwrapNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var{mode:n="lowest",split:u=!1,voids:r=!1}=e,{at:i=t.selection,match:a}=e;if(i){a==null&&(a=B.isPath(i)?vt(t,i):f=>L.isElement(f)&&D.isBlock(t,f)),B.isPath(i)&&(i=D.range(t,i));var l=_.isRange(i)?D.rangeRef(t,i):null,s=D.nodes(t,{at:i,match:a,mode:n,voids:r}),o=Array.from(s,f=>{var[,h]=f;return D.pathRef(t,h)}).reverse(),c=function(h){var C=h.unref(),[A]=D.node(t,C),v=D.range(t,C);u&&l&&(v=_.intersection(l.current,v)),w.liftNodes(t,{at:v,match:F=>L.isAncestor(A)&&A.children.includes(F),voids:r})};for(var d of o)c(d);l&&l.unref()}})},wrapNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{mode:u="lowest",split:r=!1,voids:i=!1}=n,{match:a,at:l=t.selection}=n;if(l){if(a==null&&(B.isPath(l)?a=vt(t,l):t.isInline(e)?a=v=>L.isElement(v)&&D.isInline(t,v)||j.isText(v):a=v=>L.isElement(v)&&D.isBlock(t,v)),r&&_.isRange(l)){var[s,o]=_.edges(l),c=D.rangeRef(t,l,{affinity:"inward"});w.splitNodes(t,{at:o,match:a,voids:i}),w.splitNodes(t,{at:s,match:a,voids:i}),l=c.unref(),n.at==null&&w.select(t,l)}var d=Array.from(D.nodes(t,{at:l,match:t.isInline(e)?v=>L.isElement(v)&&D.isBlock(t,v):v=>D.isEditor(v),mode:"lowest",voids:i}));for(var[,f]of d){var h=_.isRange(l)?_.intersection(l,D.range(t,f)):l;if(h){var C=Array.from(D.nodes(t,{at:h,match:a,mode:u,voids:i}));if(C.length>0){var A=function(){var[v]=C,F=C[C.length-1],[,b]=v,[,y]=F;if(b.length===0&&y.length===0)return"continue";var I=B.equals(b,y)?B.parent(b):B.common(b,y),k=D.range(t,b,y),p=D.node(t,I),[H]=p,g=I.length+1,M=B.next(y.slice(0,g)),Y=qu(qu({},e),{},{children:[]});w.insertNodes(t,Y,{at:M,voids:i}),w.moveNodes(t,{at:k,match:se=>L.isAncestor(H)&&H.children.includes(se),to:M.concat(0),voids:i})}();if(A==="continue")continue}}}}})}},Nr=(t,e)=>{if(L.isElement(e)){var n=e;return D.isVoid(t,e)?!0:n.children.length===1?Nr(t,n.children[0]):!1}else return!D.isEditor(e)},Ya=(t,e)=>{if(_.isCollapsed(e))return e.anchor;var[,n]=_.edges(e),u=D.pointRef(t,n);return w.delete(t,{at:e}),u.unref()},vt=(t,e)=>{var[n]=D.node(t,e);return u=>u===n};function Wu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wu(Object(n),!0).forEach(function(u){tt(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var Ua={collapse(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=e,{selection:u}=t;if(u){if(n==="anchor")w.select(t,u.anchor);else if(n==="focus")w.select(t,u.focus);else if(n==="start"){var[r]=_.edges(u);w.select(t,r)}else if(n==="end"){var[,i]=_.edges(u);w.select(t,i)}}else return},deselect(t){var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},move(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=t,{distance:u=1,unit:r="character",reverse:i=!1}=e,{edge:a=null}=e;if(n){a==="start"&&(a=_.isBackward(n)?"focus":"anchor"),a==="end"&&(a=_.isBackward(n)?"anchor":"focus");var{anchor:l,focus:s}=n,o={distance:u,unit:r,ignoreNonSelectable:!0},c={};if(a==null||a==="anchor"){var d=i?D.before(t,l,o):D.after(t,l,o);d&&(c.anchor=d)}if(a==null||a==="focus"){var f=i?D.before(t,s,o):D.after(t,s,o);f&&(c.focus=f)}w.setSelection(t,c)}},select(t,e){var{selection:n}=t;if(e=D.range(t,e),n){w.setSelection(t,e);return}if(!_.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(We.stringify(e)));t.apply({type:"set_selection",properties:n,newProperties:e})},setPoint(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:u}=t,{edge:r="both"}=n;if(u){r==="start"&&(r=_.isBackward(u)?"focus":"anchor"),r==="end"&&(r=_.isBackward(u)?"anchor":"focus");var{anchor:i,focus:a}=u,l=r==="anchor"?i:a;w.setSelection(t,{[r==="anchor"?"anchor":"focus"]:Hu(Hu({},l),e)})}},setSelection(t,e){var{selection:n}=t,u={},r={};if(n){for(var i in e)(i==="anchor"&&e.anchor!=null&&!Q.equals(e.anchor,n.anchor)||i==="focus"&&e.focus!=null&&!Q.equals(e.focus,n.focus)||i!=="anchor"&&i!=="focus"&&e[i]!==n[i])&&(u[i]=n[i],r[i]=e[i]);Object.keys(u).length>0&&t.apply({type:"set_selection",properties:u,newProperties:r})}}},Ga={delete(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(t,()=>{var n,u,{reverse:r=!1,unit:i="character",distance:a=1,voids:l=!1}=e,{at:s=t.selection,hanging:o=!1}=e;if(s){var c=!1;if(_.isRange(s)&&_.isCollapsed(s)&&(c=!0,s=s.anchor),Q.isPoint(s)){var d=D.void(t,{at:s,mode:"highest"});if(!l&&d){var[,f]=d;s=f}else{var h={unit:i,distance:a},C=r?D.before(t,s,h)||D.start(t,[]):D.after(t,s,h)||D.end(t,[]);s={anchor:s,focus:C},o=!0}}if(B.isPath(s)){w.removeNodes(t,{at:s,voids:l});return}if(!_.isCollapsed(s)){if(!o){var[,A]=_.edges(s),v=D.end(t,[]);Q.equals(A,v)||(s=D.unhangRange(t,s,{voids:l}))}var[F,b]=_.edges(s),y=D.above(t,{match:we=>L.isElement(we)&&D.isBlock(t,we),at:F,voids:l}),I=D.above(t,{match:we=>L.isElement(we)&&D.isBlock(t,we),at:b,voids:l}),k=y&&I&&!B.equals(y[1],I[1]),p=B.equals(F.path,b.path),H=l?null:(n=D.void(t,{at:F,mode:"highest"}))!==null&&n!==void 0?n:D.elementReadOnly(t,{at:F,mode:"highest"}),g=l?null:(u=D.void(t,{at:b,mode:"highest"}))!==null&&u!==void 0?u:D.elementReadOnly(t,{at:b,mode:"highest"});if(H){var M=D.before(t,F);M&&y&&B.isAncestor(y[1],M.path)&&(F=M)}if(g){var Y=D.after(t,b);Y&&I&&B.isAncestor(I[1],Y.path)&&(b=Y)}var se=[],Ae;for(var V of D.nodes(t,{at:s,voids:l})){var[be,De]=V;Ae&&B.compare(De,Ae)===0||(!l&&L.isElement(be)&&(D.isVoid(t,be)||D.isElementReadOnly(t,be))||!B.isCommon(De,F.path)&&!B.isCommon(De,b.path))&&(se.push(V),Ae=De)}var T=Array.from(se,we=>{var[,kt]=we;return D.pathRef(t,kt)}),Fe=D.pointRef(t,F),he=D.pointRef(t,b),le="";if(!p&&!H){var pe=Fe.current,[Ne]=D.leaf(t,pe),{path:Se}=pe,{offset:G}=F,_e=Ne.text.slice(G);_e.length>0&&(t.apply({type:"remove_text",path:Se,offset:G,text:_e}),le=_e)}if(T.reverse().map(we=>we.unref()).filter(we=>we!==null).forEach(we=>w.removeNodes(t,{at:we,voids:l})),!g){var ge=he.current,[Be]=D.leaf(t,ge),{path:Je}=ge,Me=p?F.offset:0,Ke=Be.text.slice(Me,b.offset);Ke.length>0&&(t.apply({type:"remove_text",path:Je,offset:Me,text:Ke}),le=Ke)}!p&&k&&he.current&&Fe.current&&w.mergeNodes(t,{at:he.current,hanging:!0,voids:l}),c&&r&&i==="character"&&le.length>1&&le.match(/[\u0E00-\u0E7F]+/)&&w.insertText(t,le.slice(0,le.length-a));var nt=Fe.unref(),xe=he.unref(),$e=r?nt||xe:xe||nt;e.at==null&&$e&&w.select(t,$e)}}})},insertFragment(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{hanging:u=!1,voids:r=!1}=n,{at:i=t.selection}=n;if(e.length){if(i)if(_.isRange(i))if(u||(i=D.unhangRange(t,i,{voids:r})),_.isCollapsed(i))i=i.anchor;else{var[,a]=_.edges(i);if(!r&&D.void(t,{at:a}))return;var l=D.pointRef(t,a);w.delete(t,{at:i}),i=l.unref()}else B.isPath(i)&&(i=D.start(t,i));else return;if(!(!r&&D.void(t,{at:i}))){var s=D.above(t,{at:i,match:G=>L.isElement(G)&&D.isInline(t,G),mode:"highest",voids:r});if(s){var[,o]=s;if(D.isEnd(t,i,o)){var c=D.after(t,o);i=c}else if(D.isStart(t,i,o)){var d=D.before(t,o);i=d}}var f=D.above(t,{match:G=>L.isElement(G)&&D.isBlock(t,G),at:i,voids:r}),[,h]=f,C=D.isStart(t,i,h),A=D.isEnd(t,i,h),v=C&&A,F=!C||C&&A,b=!A,[,y]=O.first({children:e},[]),[,I]=O.last({children:e},[]),k=[],p=G=>{var[_e,ge]=G,Be=ge.length===0;return Be?!1:v?!0:!(F&&B.isAncestor(ge,y)&&L.isElement(_e)&&!t.isVoid(_e)&&!t.isInline(_e)||b&&B.isAncestor(ge,I)&&L.isElement(_e)&&!t.isVoid(_e)&&!t.isInline(_e))};for(var H of O.nodes({children:e},{pass:p}))p(H)&&k.push(H);var g=[],M=[],Y=[],se=!0,Ae=!1;for(var[V]of k)L.isElement(V)&&!t.isInline(V)?(se=!1,Ae=!0,M.push(V)):se?g.push(V):Y.push(V);var[be]=D.nodes(t,{at:i,match:G=>j.isText(G)||D.isInline(t,G),mode:"highest",voids:r}),[,De]=be,T=D.isStart(t,i,De),Fe=D.isEnd(t,i,De),he=D.pathRef(t,A&&!Y.length?B.next(h):h),le=D.pathRef(t,Fe?B.next(De):De);w.splitNodes(t,{at:i,match:G=>Ae?L.isElement(G)&&D.isBlock(t,G):j.isText(G)||D.isInline(t,G),mode:Ae?"lowest":"highest",always:Ae&&(!C||g.length>0)&&(!A||Y.length>0),voids:r});var pe=D.pathRef(t,!T||T&&Fe?B.next(De):De);if(w.insertNodes(t,g,{at:pe.current,match:G=>j.isText(G)||D.isInline(t,G),mode:"highest",voids:r}),v&&!g.length&&M.length&&!Y.length&&w.delete(t,{at:h,voids:r}),w.insertNodes(t,M,{at:he.current,match:G=>L.isElement(G)&&D.isBlock(t,G),mode:"lowest",voids:r}),w.insertNodes(t,Y,{at:le.current,match:G=>j.isText(G)||D.isInline(t,G),mode:"highest",voids:r}),!n.at){var Ne;if(Y.length>0&&le.current?Ne=B.previous(le.current):M.length>0&&he.current?Ne=B.previous(he.current):pe.current&&(Ne=B.previous(pe.current)),Ne){var Se=D.end(t,Ne);w.select(t,Se)}}pe.unref(),he.unref(),le.unref()}}})},insertText(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(t,()=>{var{voids:u=!1}=n,{at:r=t.selection}=n;if(r){if(B.isPath(r)&&(r=D.range(t,r)),_.isRange(r))if(_.isCollapsed(r))r=r.anchor;else{var i=_.end(r);if(!u&&D.void(t,{at:i}))return;var a=_.start(r),l=D.pointRef(t,a),s=D.pointRef(t,i);w.delete(t,{at:r,voids:u});var o=l.unref(),c=s.unref();r=o||c,w.setSelection(t,{anchor:r,focus:r})}if(!(!u&&D.void(t,{at:r})||D.elementReadOnly(t,{at:r}))){var{path:d,offset:f}=r;e.length>0&&t.apply({type:"insert_text",path:d,offset:f,text:e})}}})}};function zu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,u)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zu(Object(n),!0).forEach(function(u){tt(t,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zu(Object(n)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(n,u))})}return t}var w=zt(zt(zt(zt({},Wa),Ka),Ua),Ga);function Sr(t){return function(n,u,r,i,a,l,s){return t(n,u,s)}}function fn(t){return function(n,u,r,i){if(!n||!u||typeof n!="object"||typeof u!="object")return t(n,u,r,i);var a=i.get(n),l=i.get(u);if(a&&l)return a===u&&l===n;i.set(n,u),i.set(u,n);var s=t(n,u,r,i);return i.delete(n),i.delete(u),s}}function Tr(t,e){var n={};for(var u in t)n[u]=t[u];for(var u in e)n[u]=e[u];return n}function Ku(t){return t.constructor===Object||t.constructor==null}function Yu(t){return typeof t.then=="function"}function cn(t,e){return t===e||t!==t&&e!==e}var Xa="[object Arguments]",Ja="[object Boolean]",Za="[object Date]",Qa="[object RegExp]",xa="[object Map]",$a="[object Number]",es="[object Object]",ts="[object Set]",ns="[object String]",Uu=Object.prototype.toString;function dn(t){var e=t.areArraysEqual,n=t.areDatesEqual,u=t.areMapsEqual,r=t.areObjectsEqual,i=t.areRegExpsEqual,a=t.areSetsEqual,l=t.createIsNestedEqual,s=l(o);function o(c,d,f){if(c===d)return!0;if(!c||!d||typeof c!="object"||typeof d!="object")return c!==c&&d!==d;if(Ku(c)&&Ku(d))return r(c,d,s,f);var h=Array.isArray(c),C=Array.isArray(d);if(h||C)return h===C&&e(c,d,s,f);var A=Uu.call(c);return A!==Uu.call(d)?!1:A===Za?n(c,d,s,f):A===Qa?i(c,d,s,f):A===xa?u(c,d,s,f):A===ts?a(c,d,s,f):A===es||A===Xa?Yu(c)||Yu(d)?!1:r(c,d,s,f):A===Ja||A===$a||A===ns?cn(c.valueOf(),d.valueOf()):!1}return o}function Rr(t,e,n,u){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n(t[r],e[r],r,r,t,e,u))return!1;return!0}var us=fn(Rr);function Lr(t,e){return cn(t.valueOf(),e.valueOf())}function jr(t,e,n,u){var r=t.size===e.size;if(!r)return!1;if(!t.size)return!0;var i={},a=0;return t.forEach(function(l,s){if(r){var o=!1,c=0;e.forEach(function(d,f){!o&&!i[c]&&(o=n(s,f,a,c,t,e,u)&&n(l,d,s,f,t,e,u))&&(i[c]=!0),c++}),a++,r=o}}),r}var rs=fn(jr),is="_owner",as=Object.prototype.hasOwnProperty;function Vr(t,e,n,u){var r=Object.keys(t),i=r.length;if(Object.keys(e).length!==i)return!1;for(var a;i-- >0;){if(a=r[i],a===is){var l=!!t.$$typeof,s=!!e.$$typeof;if((l||s)&&l!==s)return!1}if(!as.call(e,a)||!n(t[a],e[a],a,a,t,e,u))return!1}return!0}var ss=fn(Vr);function Mr(t,e){return t.source===e.source&&t.flags===e.flags}function qr(t,e,n,u){var r=t.size===e.size;if(!r)return!1;if(!t.size)return!0;var i={};return t.forEach(function(a,l){if(r){var s=!1,o=0;e.forEach(function(c,d){!s&&!i[o]&&(s=n(a,c,l,d,t,e,u))&&(i[o]=!0),o++}),r=s}}),r}var ls=fn(qr),Wr=Object.freeze({areArraysEqual:Rr,areDatesEqual:Lr,areMapsEqual:jr,areObjectsEqual:Vr,areRegExpsEqual:Mr,areSetsEqual:qr,createIsNestedEqual:Sr}),Hr=Object.freeze({areArraysEqual:us,areDatesEqual:Lr,areMapsEqual:rs,areObjectsEqual:ss,areRegExpsEqual:Mr,areSetsEqual:ls,createIsNestedEqual:Sr});dn(Wr);var os=dn(Tr(Wr,{createIsNestedEqual:function(){return cn}}));function fs(t,e){return os(t,e,void 0)}dn(Hr);dn(Tr(Hr,{createIsNestedEqual:function(){return cn}}));let cs=0;class ds{constructor(){lu(this,"id");this.id=`${cs++}`}toString(){return this.id}}function Xn(t){const e=t;return e&&e.ownerDocument&&e.ownerDocument.defaultView||null}function Ds(t){return Bt(t)&&t.nodeType===8}function Qe(t){return Bt(t)&&t.nodeType===1}function Bt(t){const e=Xn(t);return!!e&&t instanceof e.Node}function Gu(t){const e=t,n=e&&e.anchorNode&&Xn(e.anchorNode);return!!n&&t instanceof n.Selection}function zr(t){return Bt(t)&&t.nodeType===3}function hs(t){return t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1}function gs(t){let[e,n]=t;if(Qe(e)&&e.childNodes.length){let u=n===e.childNodes.length,r=u?n-1:n;for([e,r]=Kr(e,r,u?"backward":"forward"),u=r<n;Qe(e)&&e.childNodes.length;){const i=u?e.childNodes.length-1:0;e=ms(e,i,u?"backward":"forward")}n=u&&e.textContent!=null?e.textContent.length:0}return[e,n]}function Cs(){return!!(window.document.activeElement&&window.document.activeElement.shadowRoot)}function Kr(t,e,n){const{childNodes:u}=t;let r=u[e],i=e,a=!1,l=!1;for(;(Ds(r)||Qe(r)&&r.childNodes.length===0||Qe(r)&&r.getAttribute("contenteditable")==="false")&&!(a&&l);){if(i>=u.length){a=!0,i=e-1,n="backward";continue}if(i<0){l=!0,i=e+1,n="forward";continue}r=u[i],e=i,i+=n==="forward"?1:-1}return[r,e]}function ms(t,e,n){const[u]=Kr(t,e,n);return u}function Yr(t){let e="";if(zr(t)&&t.nodeValue)return t.nodeValue;if(Qe(t)){for(const u of Array.from(t.childNodes))e+=Yr(u);const n=getComputedStyle(t).getPropertyValue("display");(n==="block"||n==="list"||t.tagName==="BR")&&(e+=`
`)}return e}const Bs=/data-slate-fragment="(.+?)"/m;function Es(t){const e=t.getData("text/html"),[,n]=e.match(Bs)||[];return n}const vs=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Xu=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),jn=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),bn=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),As=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),Ur=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),Fs=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),bs=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),_s=typeof navigator<"u"&&/.*QQBrowser/.test(navigator.userAgent),Ju=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zu=!Fs&&!As&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function Jn(t){const e=kn.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e}function gt(t){let e=Pn.get(t);return e||(e=new ds,Pn.set(t,e)),e}function ot(t){const e=[];let n=t;for(;;){const u=sn.get(n);if(u==null){if(D.isEditor(n))return e;break}const r=an.get(n);if(r==null)break;e.unshift(r),n=u}throw new Error(`Unable to find the path for Slate node: ${JSON.stringify(t)}`)}function Nf(t,e,n){return[...D.nodes(t,{at:[[0],ot(e)],match:n})].length}function Tt(t){const e=rt(t,t),n=e.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:e.ownerDocument}function Qu(t){return!!Ft.get(t)}function ws(t){const e=rt(t,t),n=Tt(t);Ft.set(t,!0),n.activeElement!==e&&e.focus({preventScroll:!0})}function Zn(t,e,n={}){const{editable:u=!1}=n,r=rt(t,t);let i=null;try{i=Qe(e)?e:e.parentElement}catch(a){if(!a.message.includes('Permission denied to access property "nodeType"'))throw a}return i?i.closest("[data-svelte-editor]")===r&&(!u||i.isContentEditable?!0:typeof i.isContentEditable=="boolean"&&i.closest('[contenteditable="false"]')===r||!!i.getAttribute("data-slate-zero-width")):!1}function rt(t,e,n=!0){const u=on.get(t),r=D.isEditor(e)?Yt.get(t):u==null?void 0:u.get(gt(e));if(!r&&n)throw new Error(`Cannot resolve a DOM node from Slate node: ${JSON.stringify(e)}`);return r}function xu(t,e,n=!0){const[u]=D.node(t,e.path),r=rt(t,u,n);let i;D.void(t,{at:e})&&(e={path:e.path,offset:0});const a="[data-slate-string], [data-slate-zero-width]",l=r?Array.from(r.querySelectorAll(a)):[];let s=0;for(const o of l){const c=o.childNodes[0];if(c==null||c.textContent==null)continue;const{length:d}=c.textContent,f=o.getAttribute("data-slate-length"),h=f==null?d:parseInt(f,10),C=s+h;if(e.offset<=C){const A=Math.min(d,Math.max(0,e.offset-s));i=[c,A];break}s=C}if(!i&&n)throw new Error(`Cannot resolve a DOM point from Slate point: ${JSON.stringify(e)}`);return i}function $t(t,e,n=!0){const{anchor:u,focus:r}=e,i=_.isBackward(e),a=xu(t,u,n);if(!a)return;const l=_.isCollapsed(e)?a:xu(t,r),o=Jn(t).document.createRange(),[c,d]=i?l:a,[f,h]=i?a:l,A=!!(Qe(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),F=!!(Qe(f)?f:f.parentElement).getAttribute("data-slate-zero-width");return o.setStart(c,A?1:d),o.setEnd(f,F?1:h),o}function ht(t){let e=Qe(t)?t:t.parentElement;e&&!e.hasAttribute("data-slate-node")&&(e=e.closest("[data-slate-node]"));const n=e?ln.get(e):null;if(!n)throw new Error(`Cannot resolve a Slate node from DOM node: ${e}`);return n}function ys(t,e){const{clientX:n,clientY:u,target:r}=e;if(n==null||u==null)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);const i=ht(e.target),a=ot(i);if(D.isVoid(t,i)){const c=r.getBoundingClientRect(),d=t.isInline(i)?n-c.left<c.left+c.width-n:u-c.top<c.top+c.height-u,f=D.point(t,a,{edge:d?"start":"end"}),h=d?D.before(t,f):D.after(t,f);if(h)return D.range(t,h)}let l=null;const{document:s}=Jn(t);if(s.caretRangeFromPoint)l=s.caretRangeFromPoint(n,u);else{const c=s.caretPositionFromPoint(n,u);c&&(l=s.createRange(),l.setStart(c.offsetNode,c.offset),l.setEnd(c.offsetNode,c.offset))}if(!l)throw new Error(`Cannot resolve a Slate range from a DOM event: ${e}`);return Rt(t,l,{exactMatch:!1,suppressThrow:!1})}function $u(t,e,n){var f,h,C,A;const{exactMatch:u,suppressThrow:r}=n,[i,a]=u?e:gs(e),l=i.parentNode;let s=null,o=0;if(l){const v=l.closest('[data-slate-void="true"]');let F=l.closest("[data-slate-leaf]"),b=null;if(F){if(s=F.closest('[data-slate-node="text"]'),s){const I=Jn(t).document.createRange();I.setStart(s,0),I.setEnd(i,a);const k=I.cloneContents();[...Array.prototype.slice.call(k.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(k.querySelectorAll("[contenteditable=false]"))].forEach(H=>{H.parentNode.removeChild(H)}),o=((f=k==null?void 0:k.textContent)==null?void 0:f.length)||0,b=s}}else v&&(F=v.querySelector("[data-slate-leaf]"),F?(s=F.closest('[data-slate-node="text"]'),b=F,o=((h=b==null?void 0:b.textContent)==null?void 0:h.length)||0,b.querySelectorAll("[data-slate-zero-width]").forEach(y=>{var I;o-=((I=y==null?void 0:y.textContent)==null?void 0:I.length)||0})):o=1);b&&o===((C=b==null?void 0:b.textContent)==null?void 0:C.length)&&(l.hasAttribute("data-slate-zero-width")||jn&&((A=b.textContent)!=null&&A.endsWith(`

`)))&&o--}if(!s){if(r)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${e}`)}const c=ht(s);return{path:ot(c),offset:o}}function Rt(t,e,n){const{exactMatch:u,suppressThrow:r}=n,i=Gu(e)?e.anchorNode:e.startContainer;let a=null,l=0,s=null,o=0,c=!1;if(i&&(Gu(e)?(a=e.anchorNode,l=e.anchorOffset,s=e.focusNode,o=e.focusOffset,Ur&&Cs()?c=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:c=e.isCollapsed):(a=e.startContainer,l=e.startOffset,s=e.endContainer,o=e.endOffset,c=e.collapsed)),a==null||s==null||l==null||o==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${e}`);const d=$u(t,[a,l],{exactMatch:u,suppressThrow:r});if(!d)return null;const f=c?d:$u(t,[s,o],{exactMatch:u,suppressThrow:r});if(!f)return null;let h={anchor:d,focus:f};return _.isExpanded(h)&&_.isForward(h)&&Qe(s)&&D.void(t,{at:h.focus,mode:"highest"})&&(h=D.unhangRange(t,h,{voids:!0})),h}function ps(t,e){const{anchor:n,focus:u}=e;return D.hasPath(t,n.path)&&D.hasPath(t,u.path)}function Gr(t,e){if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(let n=0;n<t.length;n++){const u=t[n],r=e[n],{anchor:i,focus:a,...l}=u,{anchor:s,focus:o,...c}=r;if(!_.equals(u,r)||u[jt]!==r[jt]||!fs(l,c))return!1}return!0}function Xr(t,e){return t===e||!!t&&!!e&&_.equals(t,e)}function Ve(){return{}}function je(t){const e=Vi(t);if(!e)throw new Error("Must be used inside the component's context.");return e}function Le(t,e){const n=Ui(e);return Er(t,n),n}function Jr(t,e){return Er(t,e),e}function Os(t){let e;const n=t[7].default,u=oe(n,t,t[6],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,[i]){u&&u.p&&(!e||i&64)&&fe(u,n,r,r[6],e?de(n,r[6],i,null):ce(r[6]),null)},i(r){e||(N(u,r),e=!0)},o(r){S(u,r),e=!1},d(r){u&&u.d(r)}}}const Zr=Ve(),Qr=Ve(),xr=Ve(),$r=Ve(),ei=Ve(),ks=Ve(),ti=Ve(),ni=Ve();function Dn(t,e,n){const u=ii();vr(()=>(u.update(r=>{const i=r[t]||[];return{...r,[t]:[...i,e]}}),()=>{u.update(r=>{const i=r[t]||[],a=i.indexOf(e);if(a===-1)return r;{const l=i.slice();return l.splice(a,1),{...r,[t]:l}}}),n&&n()}))}function Oe(t,e,n){const r=Ar(t)[e]||[];for(const i of r){const a=i(n);if(a===!1||n.cancelBubble)return a}}function ui(){return je(Zr)}function Xe(){return Ar(ui())}function ri(){return je(Qr)}function Ps(){return je(xr)}function Qn(){return je($r)}function Is(){return je(ei)}function ii(){return je(ti)}function Ns(){return je(ni)}function ai(t){return[]}function Ss(t,e,n){let{$$slots:u={},$$scope:r}=e,{editor:i}=e,{value:a=i.children}=e,{selection:l=i.selection}=e;const s=Fr(),o=Le(Zr,i),c=Le(ei,i.selection),d=Le(ks,i.children);Le(Qr,!0),Le(xr,!1),Le($r,ai),Le(ti,{}),Le(ni,void 0);function f(){n(1,l=i.selection),n(0,a=i.children),i.operations.some(F=>F.type!=="set_selection")&&s("value",a),s("selection",l)}In.set(i,f);let h=i,C,A;return t.$$set=v=>{"editor"in v&&n(2,i=v.editor),"value"in v&&n(0,a=v.value),"selection"in v&&n(1,l=v.selection),"$$scope"in v&&n(6,r=v.$$scope)},t.$$.update=()=>{t.$$.dirty&17&&C!==a&&(o.update(v=>(v.children=a,v)),n(4,C=a),d.set(a),s("value",a)),t.$$.dirty&12&&h!==i&&(n(3,h=i),In.set(i,f),o.set(i)),t.$$.dirty&38&&(Xr(A,l)||(c.set(l),o.set(i),n(5,A=l),s("selection",l)))},[a,l,i,h,C,A,r,u]}class Ts extends X{constructor(e){super(),J(this,e,Ss,Os,te,{editor:2,value:0,selection:1})}}const Rs=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),_n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},si={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Rs?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},xn={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(let t=1;t<20;t++)xn["f"+t]=111+t;function li(t,e={}){Array.isArray(t)||(t=[t]);const n=t.map(u=>js(u,e));return function(r){return n.some(i=>Vs(i,r))}}function Ls(t,e,n={}){return li(t,n)(e)}function wn(t){return li(t,{byKey:!0})}function js(t,e={}){const n=e&&e.byKey,u={};t=t.replace("++","+add");const r=t.split("+"),{length:i}=r;for(const a in _n)u[_n[a]]=!1;for(let a of r){const l=a.endsWith("?")&&a.length>1;l&&(a=a.slice(0,-1));const s=oi(a),o=_n[s];if(a.length>1&&!o&&!si[a]&&!xn[s])throw new TypeError(`Unknown modifier: "${a}"`);(i===1||!o)&&(n?u.key=s:u.which=Ms(a)),o&&(u[o]=l?null:!0)}return u}function Vs(t,e){for(const n in t){const u=t[n];let r;if(u!=null&&(n==="key"&&e.key!=null?r=e.key.toLowerCase():n==="which"?r=u===91&&e.which===93?91:e.which:r=e[n],!(r==null&&u===!1)&&r!==u))return!1}return!0}function Ms(t){return t=oi(t),xn[t]||t.toUpperCase().charCodeAt(0)}function oi(t){return t=t.toLowerCase(),t=si[t]||t,t}const qs={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},Ws={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Hs={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]};function me(t){const e=qs[t],n=Ws[t],u=Hs[t],r=e&&wn(e),i=n&&wn(n),a=u&&wn(u);return l=>!!(r&&r(l)||Xu&&i&&i(l)||!Xu&&a&&a(l))}const Ee={isBold:me("bold"),isCompose:me("compose"),isMoveBackward:me("moveBackward"),isMoveForward:me("moveForward"),isDeleteBackward:me("deleteBackward"),isDeleteForward:me("deleteForward"),isDeleteLineBackward:me("deleteLineBackward"),isDeleteLineForward:me("deleteLineForward"),isDeleteWordBackward:me("deleteWordBackward"),isDeleteWordForward:me("deleteWordForward"),isExtendBackward:me("extendBackward"),isExtendForward:me("extendForward"),isExtendLineBackward:me("extendLineBackward"),isExtendLineForward:me("extendLineForward"),isItalic:me("italic"),isMoveLineBackward:me("moveLineBackward"),isMoveLineForward:me("moveLineForward"),isMoveWordBackward:me("moveWordBackward"),isMoveWordForward:me("moveWordForward"),isRedo:me("redo"),isSplitBlock:me("splitBlock"),isTransposeCharacter:me("transposeCharacter"),isUndo:me("undo")};function zs(t){let e,n,u;const r=t[2].default,i=oe(r,t,t[1],null);return{c(){e=$("span"),i&&i.c(),this.h()},l(a){e=ee(a,"SPAN",{"data-slate-placeholder":!0,contenteditable:!0,class:!0});var l=ae(e);i&&i.l(l),l.forEach(P),this.h()},h(){m(e,"data-slate-placeholder","true"),m(e,"contenteditable","false"),m(e,"class","svelte-148q7wc"),Mi(()=>t[3].call(e))},m(a,l){z(a,e,l),i&&i.m(e,null),n=qi(e,t[3].bind(e)),u=!0},p(a,[l]){i&&i.p&&(!u||l&2)&&fe(i,r,a,a[1],u?de(r,a[1],l,null):ce(a[1]),null)},i(a){u||(N(i,a),u=!0)},o(a){S(i,a),u=!1},d(a){a&&P(e),i&&i.d(a),n()}}}function Ks(t,e,n){let{$$slots:u={},$$scope:r}=e,{clientHeight:i=void 0}=e;function a(){i=this.clientHeight,n(0,i)}return t.$$set=l=>{"clientHeight"in l&&n(0,i=l.clientHeight),"$$scope"in l&&n(1,r=l.$$scope)},[i,r,u,a]}class fi extends X{constructor(e){super(),J(this,e,Ks,zs,te,{clientHeight:0})}}function Ys(t){let e,n;const u=t[2].default,r=oe(u,t,t[1],null);return{c(){e=$("span"),r&&r.c(),this.h()},l(i){e=ee(i,"SPAN",{"data-slate-leaf":!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-leaf","true")},m(i,a){z(i,e,a),r&&r.m(e,null),n=!0},p(i,[a]){r&&r.p&&(!n||a&2)&&fe(r,u,i,i[1],n?de(u,i[1],a,null):ce(i[1]),null)},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i)}}}function Us(t,e,n){let{$$slots:u={},$$scope:r}=e,{leaf:i}=e;return t.$$set=a=>{"leaf"in a&&n(0,i=a.leaf),"$$scope"in a&&n(1,r=a.$$scope)},[i,r,u]}class Gs extends X{constructor(e){super(),J(this,e,Us,Ys,te,{leaf:0})}}function Xs(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("div"),r&&r.c(),this.h()},l(i){e=ee(i,"DIV",{"data-slate-node":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1l7tojd")},m(i,a){z(i,e,a),r&&r.m(e,null),t[9](e),n=!0},p(i,a){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[9](null)}}}function Js(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("span"),r&&r.c(),this.h()},l(i){e=ee(i,"SPAN",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1l7tojd")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,a){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}function Zs(t){let e,n,u,r;const i=[Js,Xs],a=[];function l(s,o){return s[1]?0:1}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=x()},l(s){n.l(s),u=x()},m(s,o){a[e].m(s,o),z(s,u,o),r=!0},p(s,[o]){let c=e;e=l(s),e===c?a[e].p(s,o):(Pe(),S(a[c],1,1,()=>{a[c]=null}),Ie(),n=a[e],n?n.p(s,o):(n=a[e]=i[e](s),n.c()),N(n,1),n.m(u.parentNode,u))},i(s){r||(N(n),r=!0)},o(s){S(n),r=!1},d(s){a[e].d(s),s&&P(u)}}}function Qs(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(h){U[h?"unshift":"push"](()=>{o=h,n(0,o)})}function f(h){U[h?"unshift":"push"](()=>{o=h,n(0,o)})}return t.$$set=h=>{"element"in h&&n(5,i=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,l=h.isVoid),"contenteditable"in h&&n(3,s=h.contenteditable),"ref"in h&&n(0,o=h.ref),"dir"in h&&n(4,c=h.dir),"$$scope"in h&&n(6,r=h.$$scope)},[o,a,l,s,c,i,r,u,d,f]}class ci extends X{constructor(e){super(),J(this,e,Qs,Zs,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}const di="---",Di="A-Za-z--------",xs=new RegExp("^[^"+Di+"]*["+di+"]"),$s=new RegExp("^[^"+di+"]*["+Di+"]");function hi(t){const e=String(t||"");return xs.test(e)?"rtl":$s.test(e)?"ltr":"neutral"}function er(t){let e=`
`,n;return{c(){n=nn(e)},l(u){n=un(u,e)},m(u,r){z(u,n,r)},d(u){u&&P(n)}}}function el(t){let e,n=t[0].text+"",u,r=t[1]&&er();return{c(){e=$("span"),u=nn(n),r&&r.c(),this.h()},l(i){e=ee(i,"SPAN",{"data-slate-string":!0});var a=ae(e);u=un(a,n),r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-string","true")},m(i,a){z(i,e,a),Lt(e,u),r&&r.m(e,null),t[3](e)},p(i,[a]){a&1&&n!==(n=i[0].text+"")&&br(u,n),i[1]?r||(r=er(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:wt,o:wt,d(i){i&&P(e),r&&r.d(),t[3](null)}}}function tl(t,e,n){let{leaf:u}=e,{isTrailing:r=!1}=e,i;Wi(()=>{i&&n(2,i.textContent=u.text,i)});function a(l){U[l?"unshift":"push"](()=>{i=l,n(2,i)})}return t.$$set=l=>{"leaf"in l&&n(0,u=l.leaf),"isTrailing"in l&&n(1,r=l.isTrailing)},[u,r,i,a]}class nl extends X{constructor(e){super(),J(this,e,tl,el,te,{leaf:0,isTrailing:1})}}function tr(t){let e;return{c(){e=$("br")},l(n){e=ee(n,"BR",{})},m(n,u){z(n,e,u)},d(n){n&&P(e)}}}function ul(t){let e,n="\uFEFF",u,r,i=t[1]&&tr();return{c(){e=$("span"),u=nn(n),i&&i.c(),this.h()},l(a){e=ee(a,"SPAN",{"data-slate-zero-width":!0,"data-slate-length":!0});var l=ae(e);u=un(l,n),i&&i.l(l),l.forEach(P),this.h()},h(){m(e,"data-slate-zero-width",r=t[1]?"n":"z"),m(e,"data-slate-length",t[0])},m(a,l){z(a,e,l),Lt(e,u),i&&i.m(e,null)},p(a,[l]){a[1]?i||(i=tr(),i.c(),i.m(e,null)):i&&(i.d(1),i=null),l&2&&r!==(r=a[1]?"n":"z")&&m(e,"data-slate-zero-width",r),l&1&&m(e,"data-slate-length",a[0])},i:wt,o:wt,d(a){a&&P(e),i&&i.d()}}}function rl(t,e,n){let{length:u=0}=e,{isLineBreak:r=!1}=e;return t.$$set=i=>{"length"in i&&n(0,u=i.length),"isLineBreak"in i&&n(1,r=i.isLineBreak)},[u,r]}class $n extends X{constructor(e){super(),J(this,e,rl,ul,te,{length:0,isLineBreak:1})}}function il(t){let e,n;return e=new nl({props:{isTrailing:t[5],leaf:t[0]}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,r){re(e,u,r),n=!0},p(u,r){const i={};r&32&&(i.isTrailing=u[5]),r&1&&(i.leaf=u[0]),e.$set(i)},i(u){n||(N(e.$$.fragment,u),n=!0)},o(u){S(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function al(t){let e,n;return e=new $n({}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,r){re(e,u,r),n=!0},p:wt,i(u){n||(N(e.$$.fragment,u),n=!0)},o(u){S(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function sl(t){let e,n;return e=new $n({props:{isLineBreak:!0}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,r){re(e,u,r),n=!0},p:wt,i(u){n||(N(e.$$.fragment,u),n=!0)},o(u){S(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function ll(t){let e,n;return e=new $n({props:{length:O.string(t[1]).length}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,r){re(e,u,r),n=!0},p(u,r){const i={};r&2&&(i.length=O.string(u[1]).length),e.$set(i)},i(u){n||(N(e.$$.fragment,u),n=!0)},o(u){S(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function ol(t){let e,n,u,r;const i=[ll,sl,al,il],a=[];function l(s,o){return s[4]?0:s[3]?1:s[2]?2:3}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=x()},l(s){n.l(s),u=x()},m(s,o){a[e].m(s,o),z(s,u,o),r=!0},p(s,[o]){let c=e;e=l(s),e===c?a[e].p(s,o):(Pe(),S(a[c],1,1,()=>{a[c]=null}),Ie(),n=a[e],n?n.p(s,o):(n=a[e]=i[e](s),n.c()),N(n,1),n.m(u.parentNode,u))},i(s){r||(N(n),r=!0)},o(s){S(n),r=!1},d(s){a[e].d(s),s&&P(u)}}}function fl(t,e,n){let u,r,i,a,l,s,{isLast:o}=e,{leaf:c}=e,{parent:d}=e,{text:f}=e;const h=Xe();return t.$$set=C=>{"isLast"in C&&n(6,o=C.isLast),"leaf"in C&&n(0,c=C.leaf),"parent"in C&&n(1,d=C.parent),"text"in C&&n(7,f=C.text)},t.$$.update=()=>{t.$$.dirty&65&&n(5,u=o&&c.text.slice(-1)===`
`),t.$$.dirty&128&&n(9,r=ot(f)),t.$$.dirty&512&&n(8,i=B.parent(r)),t.$$.dirty&2&&n(4,a=h.isVoid(d)),t.$$.dirty&1&&n(2,l=c.text===""),t.$$.dirty&390&&n(3,s=l&&d.children[d.children.length-1]===f&&!h.isInline(d)&&D.string(h,i)==="")},[c,d,l,s,a,u,o,f,i,r]}let cl=class extends X{constructor(e){super(),J(this,e,fl,ol,te,{isLast:6,leaf:0,parent:1,text:7})}};function nr(t){let e,n,u,r;function i(s){t[12](s)}var a=t[5];function l(s){let o={$$slots:{default:[dl]},$$scope:{ctx:s}};return s[4]!==void 0&&(o.clientHeight=s[4]),{props:o}}return a&&(e=Re(a,l(t)),U.push(()=>Te(e,"clientHeight",i))),{c(){e&&ue(e.$$.fragment),u=x()},l(s){e&&ve(e.$$.fragment,s),u=x()},m(s,o){e&&re(e,s,o),z(s,u,o),r=!0},p(s,o){const c={};if(o&8194&&(c.$$scope={dirty:o,ctx:s}),!n&&o&16&&(n=!0,c.clientHeight=s[4],Ge(()=>n=!1)),o&32&&a!==(a=s[5])){if(e){Pe();const d=e;S(d.$$.fragment,1,0,()=>{ie(d,1)}),Ie()}a?(e=Re(a,l(s)),U.push(()=>Te(e,"clientHeight",i)),ue(e.$$.fragment),N(e.$$.fragment,1),re(e,u.parentNode,u)):e=null}else a&&e.$set(c)},i(s){r||(e&&N(e.$$.fragment,s),r=!0)},o(s){e&&S(e.$$.fragment,s),r=!1},d(s){s&&P(u),e&&ie(e,s)}}}function dl(t){let e=t[1].placeholder+"",n;return{c(){n=nn(e)},l(u){n=un(u,e)},m(u,r){z(u,n,r)},p(u,r){r&2&&e!==(e=u[1].placeholder+"")&&br(n,e)},d(u){u&&P(n)}}}function Dl(t){let e,n,u,r=jt in t[1]&&nr(t);return n=new cl({props:{isLast:t[0],leaf:t[1],parent:t[2],text:t[3]}}),{c(){r&&r.c(),e=x(),ue(n.$$.fragment)},l(i){r&&r.l(i),e=x(),ve(n.$$.fragment,i)},m(i,a){r&&r.m(i,a),z(i,e,a),re(n,i,a),u=!0},p(i,a){jt in i[1]?r?(r.p(i,a),a&2&&N(r,1)):(r=nr(i),r.c(),N(r,1),r.m(e.parentNode,e)):r&&(Pe(),S(r,1,1,()=>{r=null}),Ie());const l={};a&1&&(l.isLast=i[0]),a&2&&(l.leaf=i[1]),a&4&&(l.parent=i[2]),a&8&&(l.text=i[3]),n.$set(l)},i(i){u||(N(r),N(n.$$.fragment,i),u=!0)},o(i){S(r),S(n.$$.fragment,i),u=!1},d(i){r&&r.d(i),i&&P(e),ie(n,i)}}}function hl(t){let e,n,u;var r=t[6];function i(a){return{props:{leaf:a[1],$$slots:{default:[Dl]},$$scope:{ctx:a}}}}return r&&(e=Re(r,i(t))),{c(){e&&ue(e.$$.fragment),n=x()},l(a){e&&ve(e.$$.fragment,a),n=x()},m(a,l){e&&re(e,a,l),z(a,n,l),u=!0},p(a,[l]){const s={};if(l&2&&(s.leaf=a[1]),l&8255&&(s.$$scope={dirty:l,ctx:a}),l&64&&r!==(r=a[6])){if(e){Pe();const o=e;S(o.$$.fragment,1,0,()=>{ie(o,1)}),Ie()}r?(e=Re(r,i(a)),ue(e.$$.fragment),N(e.$$.fragment,1),re(e,n.parentNode,n)):e=null}else r&&e.$set(s)},i(a){u||(e&&N(e.$$.fragment,a),u=!0)},o(a){e&&S(e.$$.fragment,a),u=!1},d(a){a&&P(n),e&&ie(e,a)}}}function gl(t,e,n){let u,r,i,a,{isLast:l}=e,{leaf:s}=e,{parent:o}=e,{text:c}=e;const d=je(Bi);it(t,d,v=>n(11,a=v));const f=je(Ei);it(t,f,v=>n(10,i=v));let h,C;Hi(()=>{if(Ju){const v=document.querySelector('[data-svelte-editor="true"]');v&&(v.style.minHeight="auto")}});function A(v){h=v,n(4,h)}return t.$$set=v=>{"isLast"in v&&n(0,l=v.isLast),"leaf"in v&&n(1,s=v.leaf),"parent"in v&&n(2,o=v.parent),"text"in v&&n(3,c=v.text)},t.$$.update=()=>{if(t.$$.dirty&2048&&n(6,u=a),t.$$.dirty&1024&&n(5,r=i),t.$$.dirty&528&&C!==h&&Ju){const v=document.querySelector('[data-svelte-editor="true"]');v&&(v.style.minHeight=`${h}px`),n(9,C=h)}},[l,s,o,c,h,r,u,d,f,C,i,a,A]}class ur extends X{constructor(e){super(),J(this,e,gl,hl,te,{isLast:0,leaf:1,parent:2,text:3})}}function rr(t,e,n){const u=t.slice();return u[9]=e[n],u[11]=n,u}function ir(t,e){let n,u,r,i;var a=ur;function l(s){return{props:{isLast:s[0]&&s[11]===s[5].length-1,parent:s[1],leaf:s[9],text:s[2]}}}return a&&(u=Re(a,l(e))),{key:t,first:null,c(){n=x(),u&&ue(u.$$.fragment),r=x(),this.h()},l(s){n=x(),u&&ve(u.$$.fragment,s),r=x(),this.h()},h(){this.first=n},m(s,o){z(s,n,o),u&&re(u,s,o),z(s,r,o),i=!0},p(s,o){e=s;const c={};if(o&33&&(c.isLast=e[0]&&e[11]===e[5].length-1),o&2&&(c.parent=e[1]),o&32&&(c.leaf=e[9]),o&4&&(c.text=e[2]),a!==(a=ur)){if(u){Pe();const d=u;S(d.$$.fragment,1,0,()=>{ie(d,1)}),Ie()}a?(u=Re(a,l(e)),ue(u.$$.fragment),N(u.$$.fragment,1),re(u,r.parentNode,r)):u=null}else a&&u.$set(c)},i(s){i||(u&&N(u.$$.fragment,s),i=!0)},o(s){u&&S(u.$$.fragment,s),i=!1},d(s){s&&P(n),s&&P(r),u&&ie(u,s)}}}function Cl(t){let e,n=[],u=new Map,r,i=t[5];const a=l=>`${l[4]}-${l[11]}`;for(let l=0;l<i.length;l+=1){let s=rr(t,i,l),o=a(s);u.set(o,n[l]=ir(o,s))}return{c(){e=$("span");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=ee(l,"SPAN",{"data-slate-node":!0});var s=ae(e);for(let o=0;o<n.length;o+=1)n[o].l(s);s.forEach(P),this.h()},h(){m(e,"data-slate-node","text")},m(l,s){z(l,e,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null);t[7](e),r=!0},p(l,[s]){s&55&&(i=l[5],Pe(),n=_r(n,s,a,1,l,i,u,e,wr,ir,null,rr),Ie())},i(l){if(!r){for(let s=0;s<i.length;s+=1)N(n[s]);r=!0}},o(l){for(let s=0;s<n.length;s+=1)S(n[s]);r=!1},d(l){l&&P(e);for(let s=0;s<n.length;s+=1)n[s].d();t[7](null)}}}function ml(t,e,n){let u,r,{decorations:i}=e,{isLast:a}=e,{parent:l}=e,{text:s}=e;const o=Xe();let c;function d(f){U[f?"unshift":"push"](()=>{c=f,n(3,c)})}return t.$$set=f=>{"decorations"in f&&n(6,i=f.decorations),"isLast"in f&&n(0,a=f.isLast),"parent"in f&&n(1,l=f.parent),"text"in f&&n(2,s=f.text)},t.$$.update=()=>{var f;t.$$.dirty&68&&n(5,u=j.decorations(s,i)),t.$$.dirty&4&&n(4,r=gt(s)),t.$$.dirty&28&&c&&((f=on.get(o))==null||f.set(r,c),Gt.set(s,c),ln.set(c,s))},[a,l,s,c,r,u,i,d]}class qt extends X{constructor(e){super(),J(this,e,ml,Cl,te,{decorations:6,isLast:0,parent:1,text:2})}}function Bl(t){let e,n;return e=new mi({props:{node:t[0],decorations:t[1],selection:t[2]}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,r){re(e,u,r),n=!0},p(u,r){const i={};r&1&&(i.node=u[0]),r&2&&(i.decorations=u[1]),r&4&&(i.selection=u[2]),e.$set(i)},i(u){n||(N(e.$$.fragment,u),n=!0)},o(u){S(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function El(t){let e,n,u,r;const i=[Al,vl],a=[];function l(s,o){return s[4]?0:1}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=x()},l(s){n.l(s),u=x()},m(s,o){a[e].m(s,o),z(s,u,o),r=!0},p(s,o){let c=e;e=l(s),e===c?a[e].p(s,o):(Pe(),S(a[c],1,1,()=>{a[c]=null}),Ie(),n=a[e],n?n.p(s,o):(n=a[e]=i[e](s),n.c()),N(n,1),n.m(u.parentNode,u))},i(s){r||(N(n),r=!0)},o(s){S(n),r=!1},d(s){a[e].d(s),s&&P(u)}}}function vl(t){let e,n,u;var r=qt;function i(a){return{props:{decorations:[],isLast:!1,parent:a[0],text:a[8]}}}return r&&(n=Re(r,i(t))),{c(){e=$("div"),n&&ue(n.$$.fragment),this.h()},l(a){e=ee(a,"DIV",{"data-slate-spacer":!0,class:!0});var l=ae(e);n&&ve(n.$$.fragment,l),l.forEach(P),this.h()},h(){m(e,"data-slate-spacer",""),m(e,"class","svelte-6bsca3")},m(a,l){z(a,e,l),n&&re(n,e,null),u=!0},p(a,l){const s={};if(l&1&&(s.parent=a[0]),l&256&&(s.text=a[8]),r!==(r=qt)){if(n){Pe();const o=n;S(o.$$.fragment,1,0,()=>{ie(o,1)}),Ie()}r?(n=Re(r,i(a)),ue(n.$$.fragment),N(n.$$.fragment,1),re(n,e,null)):n=null}else r&&n.$set(s)},i(a){u||(n&&N(n.$$.fragment,a),u=!0)},o(a){n&&S(n.$$.fragment,a),u=!1},d(a){a&&P(e),n&&ie(n)}}}function Al(t){let e,n,u;var r=qt;function i(a){return{props:{decorations:[],isLast:!1,parent:a[0],text:a[8]}}}return r&&(n=Re(r,i(t))),{c(){e=$("span"),n&&ue(n.$$.fragment),this.h()},l(a){e=ee(a,"SPAN",{"data-slate-spacer":!0,class:!0});var l=ae(e);n&&ve(n.$$.fragment,l),l.forEach(P),this.h()},h(){m(e,"data-slate-spacer",""),m(e,"class","svelte-6bsca3")},m(a,l){z(a,e,l),n&&re(n,e,null),u=!0},p(a,l){const s={};if(l&1&&(s.parent=a[0]),l&256&&(s.text=a[8]),r!==(r=qt)){if(n){Pe();const o=n;S(o.$$.fragment,1,0,()=>{ie(o,1)}),Ie()}r?(n=Re(r,i(a)),ue(n.$$.fragment),N(n.$$.fragment,1),re(n,e,null)):n=null}else r&&n.$set(s)},i(a){u||(n&&N(n.$$.fragment,a),u=!0)},o(a){n&&S(n.$$.fragment,a),u=!1},d(a){a&&P(e),n&&ie(n)}}}function Fl(t){let e,n,u,r;const i=[El,Bl],a=[];function l(s,o){return s[6]&&!s[5]?0:1}return e=l(t),n=a[e]=i[e](t),{c(){n.c(),u=x()},l(s){n.l(s),u=x()},m(s,o){a[e].m(s,o),z(s,u,o),r=!0},p(s,o){let c=e;e=l(s),e===c?a[e].p(s,o):(Pe(),S(a[c],1,1,()=>{a[c]=null}),Ie(),n=a[e],n?n.p(s,o):(n=a[e]=i[e](s),n.c()),N(n,1),n.m(u.parentNode,u))},i(s){r||(N(n),r=!0)},o(s){S(n),r=!1},d(s){a[e].d(s),s&&P(u)}}}function bl(t){let e,n,u,r;function i(s){t[16](s)}var a=t[10];function l(s){let o={isVoid:s[6],isInline:s[4],contenteditable:s[9],element:s[0],dir:s[7],$$slots:{default:[Fl]},$$scope:{ctx:s}};return s[3]!==void 0&&(o.ref=s[3]),{props:o}}return a&&(e=Re(a,l(t)),U.push(()=>Te(e,"ref",i))),{c(){e&&ue(e.$$.fragment),u=x()},l(s){e&&ve(e.$$.fragment,s),u=x()},m(s,o){e&&re(e,s,o),z(s,u,o),r=!0},p(s,[o]){const c={};if(o&64&&(c.isVoid=s[6]),o&16&&(c.isInline=s[4]),o&512&&(c.contenteditable=s[9]),o&1&&(c.element=s[0]),o&128&&(c.dir=s[7]),o&262519&&(c.$$scope={dirty:o,ctx:s}),!n&&o&8&&(n=!0,c.ref=s[3],Ge(()=>n=!1)),o&1024&&a!==(a=s[10])){if(e){Pe();const d=e;S(d.$$.fragment,1,0,()=>{ie(d,1)}),Ie()}a?(e=Re(a,l(s)),U.push(()=>Te(e,"ref",i)),ue(e.$$.fragment),N(e.$$.fragment,1),re(e,u.parentNode,u)):e=null}else a&&e.$set(c)},i(s){r||(e&&N(e.$$.fragment,s),r=!0)},o(s){e&&S(e.$$.fragment,s),r=!1},d(s){s&&P(u),e&&ie(e,s)}}}function _l(t,e,n){let u,r,i,a,l,s,o,c,{element:d}=e,{decorations:f}=e,{selection:h=null}=e;const C=je(pt);it(t,C,k=>n(15,c=k));const A=Xe(),v=ri();it(t,v,k=>n(14,o=k));let F,b,y;function I(k){y=k,n(3,y)}return t.$$set=k=>{"element"in k&&n(0,d=k.element),"decorations"in k&&n(1,f=k.decorations),"selection"in k&&n(2,h=k.selection)},t.$$.update=()=>{var k;if(t.$$.dirty&32768&&n(10,u=c),t.$$.dirty&16384&&n(5,r=o),t.$$.dirty&1&&n(4,i=A.isInline(d)),t.$$.dirty&1&&n(13,a=gt(d)),t.$$.dirty&17&&!i&&D.hasInlines(A,d)){const p=hi(O.string(d));p==="rtl"&&n(7,F=p)}if(t.$$.dirty&1&&n(6,l=D.isVoid(A,d)),t.$$.dirty&32&&n(9,s=!r),t.$$.dirty&113&&l){!r&&i&&n(9,s=!1);const[[p]]=O.texts(d);n(8,b=p),an.set(p,0),sn.set(p,d)}t.$$.dirty&8201&&y&&((k=on.get(A))==null||k.set(a,y),Gt.set(d,y),ln.set(y,d))},[d,f,h,y,i,r,l,F,b,s,u,C,v,a,o,c,I]}class ar extends X{constructor(e){super(),J(this,e,_l,bl,te,{element:0,decorations:1,selection:2})}}function wl(t){let e,n,u;var r=ar;function i(a){return{props:{decorations:a[2],element:a[0],selection:a[1]}}}return r&&(e=Re(r,i(t))),{c(){e&&ue(e.$$.fragment),n=x()},l(a){e&&ve(e.$$.fragment,a),n=x()},m(a,l){e&&re(e,a,l),z(a,n,l),u=!0},p(a,[l]){const s={};if(l&4&&(s.decorations=a[2]),l&1&&(s.element=a[0]),l&2&&(s.selection=a[1]),r!==(r=ar)){if(e){Pe();const o=e;S(o.$$.fragment,1,0,()=>{ie(o,1)}),Ie()}r?(e=Re(r,i(a)),ue(e.$$.fragment),N(e.$$.fragment,1),re(e,n.parentNode,n)):e=null}else r&&e.$set(s)},i(a){u||(e&&N(e.$$.fragment,a),u=!0)},o(a){e&&S(e.$$.fragment,a),u=!1},d(a){a&&P(n),e&&ie(e,a)}}}const gi=Ve();function Tf(){return je(gi)}function yl(t,e,n){let u,r,i,a,l,s,{parent:o}=e,{element:c}=e,{path:d}=e,{index:f}=e,{decorations:h}=e,{selection:C=null}=e;const A=Qn();it(t,A,g=>n(18,s=g));const v=Le(gi,!1),F=Xe();let b=f,y=o,I=c,k=d,p=h,H=C;return t.$$set=g=>{"parent"in g&&n(4,o=g.parent),"element"in g&&n(5,c=g.element),"path"in g&&n(6,d=g.path),"index"in g&&n(7,f=g.index),"decorations"in g&&n(8,h=g.decorations),"selection"in g&&n(9,C=g.selection)},t.$$.update=()=>{t.$$.dirty&1152&&b!==f&&n(10,b=f),t.$$.dirty&2064&&y!==o&&n(11,y=o),t.$$.dirty&33&&I!==c&&n(0,I=c),t.$$.dirty&4160&&k!==d&&n(12,k=d),t.$$.dirty&8448&&(Gr(p,h)||n(13,p=h)),t.$$.dirty&16896&&(Xr(H,C)||n(14,H=C)),t.$$.dirty&1025&&an.set(I,b),t.$$.dirty&2049&&sn.set(I,y),t.$$.dirty&5120&&n(16,u=k.concat(b)),t.$$.dirty&65536&&n(15,r=D.range(F,u)),t.$$.dirty&262144&&n(17,i=s),t.$$.dirty&237569&&n(2,a=Ci(i([I,u]),r,p)),t.$$.dirty&49152&&n(1,l=H&&_.intersection(r,H)),t.$$.dirty&2&&v.set(!!l)},[I,l,a,A,o,c,d,f,h,C,b,y,k,p,H,r,u,i,s]}class pl extends X{constructor(e){super(),J(this,e,yl,wl,rn,{parent:4,element:5,path:6,index:7,decorations:8,selection:9})}}function Ol(t){let e,n;return e=new qt({props:{decorations:t[2],isLast:t[3],parent:t[1],text:t[0]}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,r){re(e,u,r),n=!0},p(u,[r]){const i={};r&4&&(i.decorations=u[2]),r&8&&(i.isLast=u[3]),r&2&&(i.parent=u[1]),r&1&&(i.text=u[0]),e.$set(i)},i(u){n||(N(e.$$.fragment,u),n=!0)},o(u){S(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function kl(t,e,n){let u,r,i,a,l,s,{parent:o}=e,{text:c}=e,{path:d}=e,{index:f}=e,{isLeafBlock:h}=e,{decorations:C}=e;const A=Qn();it(t,A,p=>n(17,s=p));const v=Xe();let F=f,b=c,y=d,I=o,k=C;return t.$$set=p=>{"parent"in p&&n(5,o=p.parent),"text"in p&&n(6,c=p.text),"path"in p&&n(7,d=p.path),"index"in p&&n(8,f=p.index),"isLeafBlock"in p&&n(9,h=p.isLeafBlock),"decorations"in p&&n(10,C=p.decorations)},t.$$.update=()=>{t.$$.dirty&2304&&F!==f&&n(11,F=f),t.$$.dirty&65&&b!==c&&n(0,b=c),t.$$.dirty&4224&&y!==d&&n(12,y=d),t.$$.dirty&34&&I!==o&&n(1,I=o),t.$$.dirty&9216&&(Gr(k,C)||n(13,k=C)),t.$$.dirty&2049&&an.set(b,F),t.$$.dirty&3&&sn.set(b,I),t.$$.dirty&6144&&n(15,u=y.concat(F)),t.$$.dirty&2562&&n(3,r=h&&F===I.children.length-1),t.$$.dirty&32768&&n(14,i=D.range(v,u)),t.$$.dirty&131072&&n(16,a=s),t.$$.dirty&122881&&n(2,l=Ci(a([b,u]),i,k))},[b,I,l,r,A,o,c,d,f,h,C,F,y,k,i,u,a,s]}class Pl extends X{constructor(e){super(),J(this,e,kl,Ol,rn,{parent:5,text:6,path:7,index:8,isLeafBlock:9,decorations:10})}}function sr(t,e,n){const u=t.slice();return u[7]=e[n],u[9]=n,u}function Il(t){let e,n;return e=new Pl({props:{decorations:t[0],parent:t[2],text:t[7],index:t[9],path:t[4],isLeafBlock:t[3]}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,r){re(e,u,r),n=!0},p(u,r){const i={};r&1&&(i.decorations=u[0]),r&4&&(i.parent=u[2]),r&4&&(i.text=u[7]),r&4&&(i.index=u[9]),r&16&&(i.path=u[4]),r&8&&(i.isLeafBlock=u[3]),e.$set(i)},i(u){n||(N(e.$$.fragment,u),n=!0)},o(u){S(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function Nl(t){let e,n;return e=new pl({props:{decorations:t[0],selection:t[1],element:t[7],parent:t[2],index:t[9],path:t[4]}}),{c(){ue(e.$$.fragment)},l(u){ve(e.$$.fragment,u)},m(u,r){re(e,u,r),n=!0},p(u,r){const i={};r&1&&(i.decorations=u[0]),r&2&&(i.selection=u[1]),r&4&&(i.element=u[7]),r&4&&(i.parent=u[2]),r&4&&(i.index=u[9]),r&16&&(i.path=u[4]),e.$set(i)},i(u){n||(N(e.$$.fragment,u),n=!0)},o(u){S(e.$$.fragment,u),n=!1},d(u){ie(e,u)}}}function lr(t,e){let n,u,r,i,a,l;const s=[Nl,Il],o=[];function c(d,f){return f&4&&(u=null),u==null&&(u=!!L.isElement(d[7])),u?0:1}return r=c(e,-1),i=o[r]=s[r](e),{key:t,first:null,c(){n=x(),i.c(),a=x(),this.h()},l(d){n=x(),i.l(d),a=x(),this.h()},h(){this.first=n},m(d,f){z(d,n,f),o[r].m(d,f),z(d,a,f),l=!0},p(d,f){e=d;let h=r;r=c(e,f),r===h?o[r].p(e,f):(Pe(),S(o[h],1,1,()=>{o[h]=null}),Ie(),i=o[r],i?i.p(e,f):(i=o[r]=s[r](e),i.c()),N(i,1),i.m(a.parentNode,a))},i(d){l||(N(i),l=!0)},o(d){S(i),l=!1},d(d){d&&P(n),o[r].d(d),d&&P(a)}}}function Sl(t){let e=[],n=new Map,u,r,i=t[2].children;const a=l=>gt(l[7]);for(let l=0;l<i.length;l+=1){let s=sr(t,i,l),o=a(s);n.set(o,e[l]=lr(o,s))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();u=x()},l(l){for(let s=0;s<e.length;s+=1)e[s].l(l);u=x()},m(l,s){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(l,s);z(l,u,s),r=!0},p(l,[s]){s&31&&(i=l[2].children,Pe(),e=_r(e,s,a,1,l,i,n,u.parentNode,wr,lr,u,sr),Ie())},i(l){if(!r){for(let s=0;s<i.length;s+=1)N(e[s]);r=!0}},o(l){for(let s=0;s<e.length;s+=1)S(e[s]);r=!1},d(l){for(let s=0;s<e.length;s+=1)e[s].d(l);l&&P(u)}}}function Ci(t,e,n=[]){for(const u of n){const r=_.intersection(u,e);r&&t.push(r)}return t}function Tl(t,e,n){let u,r,{node:i}=e,{decorations:a}=e,{selection:l=null}=e;const s=Xe();let o=i;return t.$$set=c=>{"node"in c&&n(5,i=c.node),"decorations"in c&&n(0,a=c.decorations),"selection"in c&&n(1,l=c.selection)},t.$$.update=()=>{t.$$.dirty&36&&(o!==i||i===s)&&n(2,o=i),t.$$.dirty&4&&n(4,u=ot(o)),t.$$.dirty&4&&n(3,r=L.isElement(o)&&!s.isInline(o)&&D.hasInlines(s,o))},[a,l,o,r,u,i]}class mi extends X{constructor(e){super(),J(this,e,Tl,Sl,rn,{node:5,decorations:0,selection:1})}}let or=t=>typeof t=="object"&&t!=null&&t.nodeType===1,fr=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",yn=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){let n=getComputedStyle(t,null);return fr(n.overflowY,e)||fr(n.overflowX,e)||(u=>{let r=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(u);return!!r&&(r.clientHeight<u.scrollHeight||r.clientWidth<u.scrollWidth)})(t)}return!1},Kt=(t,e,n,u,r,i,a,l)=>i<t&&a>e||i>t&&a<e?0:i<=t&&l<=n||a>=e&&l>=n?i-t-u:a>e&&l<n||i<t&&l>n?a-e+r:0,Rl=t=>{let e=t.parentElement;return e??(t.getRootNode().host||null)},cr=(t,e)=>{var n,u,r,i;if(typeof document>"u")return[];let{scrollMode:a,block:l,inline:s,boundary:o,skipOverflowHiddenElements:c}=e,d=typeof o=="function"?o:Ae=>Ae!==o;if(!or(t))throw new TypeError("Invalid target");let f=document.scrollingElement||document.documentElement,h=[],C=t;for(;or(C)&&d(C);){if(C=Rl(C),C===f){h.push(C);break}C!=null&&C===document.body&&yn(C)&&!yn(document.documentElement)||C!=null&&yn(C,c)&&h.push(C)}let A=(u=(n=window.visualViewport)==null?void 0:n.width)!=null?u:innerWidth,v=(i=(r=window.visualViewport)==null?void 0:r.height)!=null?i:innerHeight,{scrollX:F,scrollY:b}=window,{height:y,width:I,top:k,right:p,bottom:H,left:g}=t.getBoundingClientRect(),M=l==="start"||l==="nearest"?k:l==="end"?H:k+y/2,Y=s==="center"?g+I/2:s==="end"?p:g,se=[];for(let Ae=0;Ae<h.length;Ae++){let V=h[Ae],{height:be,width:De,top:T,right:Fe,bottom:he,left:le}=V.getBoundingClientRect();if(a==="if-needed"&&k>=0&&g>=0&&H<=v&&p<=A&&k>=T&&H<=he&&g>=le&&p<=Fe)return se;let pe=getComputedStyle(V),Ne=parseInt(pe.borderLeftWidth,10),Se=parseInt(pe.borderTopWidth,10),G=parseInt(pe.borderRightWidth,10),_e=parseInt(pe.borderBottomWidth,10),ge=0,Be=0,Je="offsetWidth"in V?V.offsetWidth-V.clientWidth-Ne-G:0,Me="offsetHeight"in V?V.offsetHeight-V.clientHeight-Se-_e:0,Ke="offsetWidth"in V?V.offsetWidth===0?0:De/V.offsetWidth:0,nt="offsetHeight"in V?V.offsetHeight===0?0:be/V.offsetHeight:0;if(f===V)ge=l==="start"?M:l==="end"?M-v:l==="nearest"?Kt(b,b+v,v,Se,_e,b+M,b+M+y,y):M-v/2,Be=s==="start"?Y:s==="center"?Y-A/2:s==="end"?Y-A:Kt(F,F+A,A,Ne,G,F+Y,F+Y+I,I),ge=Math.max(0,ge+b),Be=Math.max(0,Be+F);else{ge=l==="start"?M-T-Se:l==="end"?M-he+_e+Me:l==="nearest"?Kt(T,he,be,Se,_e+Me,M,M+y,y):M-(T+be/2)+Me/2,Be=s==="start"?Y-le-Ne:s==="center"?Y-(le+De/2)+Je/2:s==="end"?Y-Fe+G+Je:Kt(le,Fe,De,Ne,G+Je,Y,Y+I,I);let{scrollLeft:xe,scrollTop:$e}=V;ge=Math.max(0,Math.min($e+ge/nt,V.scrollHeight-be/nt+Me)),Be=Math.max(0,Math.min(xe+Be/Ke,V.scrollWidth-De/Ke+Je)),M+=$e-ge,Y+=xe-Be}se.push({el:V,top:ge,left:Be})}return se},Ll=t=>typeof t=="object"&&typeof t.behavior=="function",jl=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};const Vl=t=>{for(var e=t;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1};function Ml(t,e){if(!t.isConnected||!Vl(t))return;if(Ll(e))return e.behavior(cr(t,e));let n=typeof e=="boolean"||e==null?void 0:e.behavior;for(let{el:u,top:r,left:i}of cr(t,jl(e)))u.scroll({top:r,left:i,behavior:n})}const dr=()=>{};function ql(t,e=0,n={}){let u=null,r=!1,i=0;const a=n.before||dr,l=n.after||dr;let s=null,o=null;function c(){u!==null&&(clearTimeout(u),u=null)}function d(){r=!1,s=null,o=null,c()}function f(){c(),h()}function h(){r&&(i=Date.now(),r=!1,t.apply(s,o),s=null,o=null,l())}const C=function(...v){const F=Date.now()-i;r||(r=!0,a()),c(),s=this,o=v;const b=!!n.isImmediate&&u===null;(n.debounceMode?b:F>e||b)?h():u=setTimeout(()=>{u=null,h()},e)};return C.cancel=d,C.flush=f,C}function Wl(t,e=0,n={}){return ql(t,e,Object.assign(Object.assign({},n),{debounceMode:!0}))}function Hl(t){let e,n,u,r,i,a,l;n=new mi({props:{node:t[6],selection:t[7],decorations:t[5]}});let s=[t[28],{role:u=t[4].readOnly?void 0:"textbox"},{spellcheck:t[1]},{autocorrect:t[2]},{autocapitalize:t[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},{contenteditable:r=!t[4].readOnly}],o={};for(let c=0;c<s.length;c+=1)o=yt(o,s[c]);return{c(){e=$("div"),ue(n.$$.fragment),this.h()},l(c){e=ee(c,"DIV",{role:!0,spellcheck:!0,autocorrect:!0,autocapitalize:!0,"data-svelte-editor":!0,"data-slate-node":!0,contenteditable:!0});var d=ae(e);ve(n.$$.fragment,d),d.forEach(P),this.h()},h(){ou(e,o),Ue(e,"svelte-e8cjio",!0)},m(c,d){z(c,e,d),re(n,e,null),t[40](e),i=!0,a||(l=[ye(e,"beforeinput",t[10]),ye(e,"keydown",t[12]),ye(e,"keyup",t[13]),ye(e,"keypress",t[14]),ye(e,"input",t[11]),ye(e,"focus",t[15]),ye(e,"blur",t[16]),ye(e,"click",t[17]),ye(e,"compositionend",t[18]),ye(e,"compositionupdate",t[19]),ye(e,"compositionstart",t[20]),ye(e,"paste",t[21]),ye(e,"copy",t[22]),ye(e,"cut",t[23]),ye(e,"dragover",t[24]),ye(e,"dragstart",t[25]),ye(e,"drop",t[26]),ye(e,"dragend",t[27])],a=!0)},p(c,d){const f={};d[0]&64&&(f.node=c[6]),d[0]&128&&(f.selection=c[7]),d[0]&32&&(f.decorations=c[5]),n.$set(f),ou(e,o=yr(s,[d[0]&268435456&&c[28],(!i||d[0]&16&&u!==(u=c[4].readOnly?void 0:"textbox"))&&{role:u},(!i||d[0]&2)&&{spellcheck:c[1]},(!i||d[0]&4)&&{autocorrect:c[2]},(!i||d[0]&8)&&{autocapitalize:c[3]},{"data-svelte-editor":""},{"data-slate-node":"value"},(!i||d[0]&16&&r!==(r=!c[4].readOnly))&&{contenteditable:r}])),Ue(e,"svelte-e8cjio",!0)},i(c){i||(N(n.$$.fragment,c),i=!0)},o(c){S(n.$$.fragment,c),i=!1},d(c){c&&P(e),ie(n),t[40](null),a=!1,zi(l)}}}const pt=Ve(),Bi=Ve(),Ei=Ve();function At(t,e){return Bt(e)&&Zn(t,e)}function Ye(t,e){return Bt(e)&&Zn(t,e,{editable:!0})}function Dr(t,e){if(Or.get(t))return!1;{const n=At(t,e)&&ht(e);return D.isVoid(t,n)}}function zl(t,e){const n=e.startContainer.parentElement,u=n.getBoundingClientRect;n.getBoundingClientRect=e.getBoundingClientRect.bind(e),Ml(n,{scrollMode:"if-needed"}),n.getBoundingClientRect=u}function Kl(t,e,n){const u=["Element","Leaf","Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView","ref","spellcheck","autocorrect","autocapitalize","onKeyDown"];let r=Ut(e,u),i,a,{Element:l=ci}=e,{Leaf:s=Gs}=e,{Placeholder:o=fi}=e,{placeholder:c=void 0}=e,{readOnly:d=!1}=e,{autoFocus:f=!1}=e,{decorate:h=ai}=e,{scrollSelectionIntoView:C=zl}=e,{ref:A=void 0}=e,{spellcheck:v=!0}=e,{autocorrect:F="true"}=e,{autocapitalize:b="true"}=e,{onKeyDown:y=()=>{}}=e;const I=Ns(),k=Le(pt,l),p=Le(Bi,s),H=Le(Ei,o),g=Xe(),M=ui();it(t,M,E=>n(6,i=E));const Y=ri(),se=Ps(),Ae=Qn(),V=ii(),be=Is();it(t,be,E=>n(7,a=E));const De=[],T={isComposing:!1,hasInsertPrefixInCompositon:!0,updateSelectionTimeoutId:null,isDraggingInternally:!1,latestElement:null,readOnly:d};let Fe=[],he;function le(){if(T.isComposing||T.isDraggingInternally||T.updateSelectionTimeoutId)pe();else{const E=Tt(g),R=rt(g,g),q=E.getSelection();if(E.activeElement===R?(n(4,T.latestElement=E.activeElement,T),Ft.set(g,!0),se.set(!0)):(Ft.delete(g),se.set(!1)),!q){w.deselect(g);return}const ne=Ye(g,q.anchorNode)||Dr(g,q.anchorNode),W=Ye(g,q.focusNode)||Dr(g,q.focusNode);if(ne&&W){const Z=Rt(g,q,{exactMatch:!1,suppressThrow:!0});if(Z){w.select(g,Z);return}}w.deselect(g)}}const pe=Wl(()=>fu().then(le),0);vr(()=>{const E=Xn(A);return E&&(kn.set(g,E),E.document.addEventListener("selectionchange",pe)),Yt.set(g,A),Gt.set(g,A),ln.set(A,g),()=>{Yt.delete(g),Gt.delete(g),E&&(kn.delete(g),E.document.removeEventListener("selectionchange",pe))}});function Ne(){if(!A)return;const E=Tt(g),R=E==null?void 0:E.getSelection();if(T.isComposing||!R||!Qu(g))return;const q=R.type!=="None";if(!g.selection&&!q)return;const ne=Yt.get(g);let W=!1;if(ne.contains(R.anchorNode)&&ne.contains(R.focusNode)&&(W=!0),q&&W&&g.selection){const qe=Rt(g,R,{exactMatch:!0,suppressThrow:!0});if(qe&&_.equals(qe,g.selection))return}if(g.selection&&!ps(g,g.selection)){n(38,g.selection=Rt(g,R,{exactMatch:!1,suppressThrow:!1}),g),be.set(g.selection);return}const Z=g.selection&&W&&$t(g,g.selection);Z?(_.isBackward(g.selection)?R.setBaseAndExtent(Z.endContainer,Z.endOffset,Z.startContainer,Z.startOffset):R.setBaseAndExtent(Z.startContainer,Z.startOffset,Z.endContainer,Z.endOffset),C(g,Z)):R.removeAllRanges(),T.updateSelectionTimeoutId&&clearTimeout(T.updateSelectionTimeoutId);let ct=setTimeout(()=>{Z&&jn&&rt(g,g).focus(),Object.assign(T,{updateSelectionTimeoutId:null})});Object.assign(T,{updateSelectionTimeoutId:ct})}Ki(()=>fu().then(Ne));function Se(E){if(!T.readOnly&&Ye(g,E.target)){const R=E.inputType,q=E.dataTransfer||E.data||void 0;if(Oe(V,"onBeforeInput",E)===!1||E.cancelBubble||R==="insertCompositionText"||R==="deleteCompositionText")return;let ne=!1;if(R==="insertText"&&g.selection&&_.isCollapsed(g.selection)&&E.data&&E.data.length===1&&/[a-z ]/i.test(E.data)&&g.selection.anchor.offset!==0){ne=!0,g.marks&&(ne=!1);const W=D.above(g,{at:g.selection.anchor,match:Z=>D.isInline(g,Z),mode:"highest"});if(W){const[,Z]=W;D.isEnd(g,g.selection.anchor,Z)&&(ne=!1)}}if(ne||E.preventDefault(),!R.startsWith("delete")||R.startsWith("deleteBy")){const[W]=E.getTargetRanges();if(W){const Z=Rt(g,W,{exactMatch:!1,suppressThrow:!1});(!g.selection||!_.equals(g.selection,Z))&&w.select(g,Z)}}if(g.selection&&_.isExpanded(g.selection)&&R.startsWith("delete")){const W=R.endsWith("Backward")?"backward":"forward";D.deleteFragment(g,{direction:W});return}switch(R){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{D.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{D.deleteForward(g);break}case"deleteContentBackward":{D.deleteBackward(g);break}case"deleteEntireSoftLine":{D.deleteBackward(g,{unit:"line"}),D.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{D.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{D.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{D.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{D.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{D.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{D.deleteForward(g,{unit:"word"});break}case"insertLineBreak":{D.insertSoftBreak(g);break}case"insertParagraph":{D.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{g.selection&&_.isExpanded(g.selection)&&D.deleteFragment(g),R==="insertFromComposition"&&T.isComposing&&n(4,T.isComposing=!1,T),(q==null?void 0:q.constructor.name)==="DataTransfer"?g.insertData(q):typeof q=="string"&&(ne?De.push(()=>D.insertText(g,q)):D.insertText(g,q));break}}}}function G(E){for(const R of De)R();De.length=0}function _e(E){if(!T.readOnly&&!T.isComposing&&Ye(g,E.target)){const R=Oe(V,"onKeyDown",E);if(R===!1||E.cancelBubble)return R;const q=g.children[g.selection!==null?g.selection.focus.path[0]:0],ne=hi(O.string(q))==="rtl";if(Ee.isRedo(E)){E.preventDefault();const W=g;typeof W.redo=="function"&&W.redo()}else if(Ee.isUndo(E)){E.preventDefault();const W=g;typeof W.undo=="function"&&W.undo()}else if(Ee.isMoveLineBackward(E))E.preventDefault(),w.move(g,{unit:"line",reverse:!0});else if(Ee.isMoveLineForward(E))E.preventDefault(),w.move(g,{unit:"line"});else if(Ee.isExtendLineBackward(E))E.preventDefault(),w.move(g,{unit:"line",edge:"focus",reverse:!0});else if(Ee.isExtendLineForward(E))E.preventDefault(),w.move(g,{unit:"line",edge:"focus"});else if(Ee.isMoveBackward(E))E.preventDefault(),g.selection&&_.isCollapsed(g.selection)?w.move(g,{reverse:!ne}):w.collapse(g,{edge:"start"});else if(Ee.isMoveForward(E))E.preventDefault(),g.selection&&_.isCollapsed(g.selection)?w.move(g,{reverse:ne}):w.collapse(g,{edge:"end"});else if(Ee.isMoveWordBackward(E))E.preventDefault(),g.selection&&_.isExpanded(g.selection)&&w.collapse(g,{edge:"focus"}),w.move(g,{unit:"word",reverse:!ne});else if(Ee.isMoveWordForward(E))E.preventDefault(),g.selection&&_.isExpanded(g.selection)&&w.collapse(g,{edge:"focus"}),w.move(g,{unit:"word",reverse:ne});else if(Ls("mod+a",E))E.preventDefault(),w.select(g,D.range(g,[]));else if(Zu){if((Ur||bn)&&g.selection&&(Ee.isDeleteBackward(E)||Ee.isDeleteForward(E))&&_.isCollapsed(g.selection)){const Z=O.parent(g,g.selection.anchor.path);if(L.isElement(Z)&&D.isVoid(g,Z)&&D.isInline(g,Z)){E.preventDefault(),D.deleteBackward(g,{unit:"block"});return}}const W=y(E);if(W===!1||E.cancelBubble)return W}else{Ee.isBold(E)||Ee.isItalic(E)||Ee.isTransposeCharacter(E)?E.preventDefault():Ee.isSplitBlock(E)?(E.preventDefault(),D.insertBreak(g)):Ee.isDeleteBackward(E)?(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"backward"}):D.deleteBackward(g)):Ee.isDeleteForward(E)?(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"forward"}):D.deleteForward(g)):Ee.isDeleteLineBackward(E)?(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"backward"}):D.deleteBackward(g,{unit:"line"})):Ee.isDeleteLineForward(E)?(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"forward"}):D.deleteForward(g,{unit:"line"})):Ee.isDeleteWordBackward(E)?(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"backward"}):D.deleteBackward(g,{unit:"word"})):Ee.isDeleteWordForward(E)&&(E.preventDefault(),g.selection&&_.isExpanded(g.selection)?D.deleteFragment(g,{direction:"forward"}):D.deleteForward(g,{unit:"word"}));const W=y(E);return W===!1||E.cancelBubble?W:Oe(V,"onKeyDown",E)}}}function ge(E){return Oe(V,"onKeyUp",E)}function Be(E){return Oe(V,"onKeyPress",E)}function Je(E){if(!T.readOnly&&!T.updateSelectionTimeoutId&&Ye(g,E.target)){const R=rt(g,g),q=Tt(g);if(n(4,T.latestElement=q.activeElement,T),jn&&E.target!==R){R.focus();return}return Ft.set(g,!0),se.set(!0),Oe(V,"onFocus",E)}}function Me(E){if(T.readOnly||T.updateSelectionTimeoutId||!Ye(g,E.target))return;const R=Tt(g);if(T.latestElement===R.activeElement)return;const q=E.relatedTarget,ne=rt(g,g);if(q!==ne&&!(Qe(q)&&q.hasAttribute("data-slate-spacer"))){if(q!=null&&Bt(q)&&Zn(g,q)){const W=ht(q);if(L.isElement(W)&&!g.isVoid(W))return}if(bn){const W=R.getSelection();W==null||W.removeAllRanges()}return Ft.delete(g),se.set(!1),Oe(V,"onBlur",E)}}function Ke(E){if(!T.readOnly&&At(g,E.target)&&Bt(E.target)){const R=ht(E.target),q=ot(R);if(D.hasPath(g,q)&&O.get(g,q)===R){const W=D.start(g,q),Z=D.end(g,q),ct=D.void(g,{at:W}),qe=D.void(g,{at:Z});if(ct&&qe&&B.equals(ct[1],qe[1])){const Et=D.range(g,W);w.select(g,Et)}}return Oe(V,"onClick",E)}}function nt(E){if(Ye(g,E.target)){n(4,T.isComposing=!1,T);const R=E.data;if(!bn&&!bs&&!vs&&!_s&&R&&D.insertText(g,R),g.selection&&_.isCollapsed(g.selection)){const q=g.selection.anchor.path,ne=O.leaf(g,q);T.hasInsertPrefixInCompositon&&(n(4,T.hasInsertPrefixInCompositon=!1,T),D.withoutNormalizing(g,()=>{const W=ne.text.replace(/^\uFEFF/,"");w.delete(g,{distance:ne.text.length,reverse:!0}),w.insertText(g,W)}))}return Oe(V,"onCompositionEnd",E)}}function xe(E){if(Ye(g,E.target))return n(4,T.isComposing=!0,T),Oe(V,"onCompositionUpdate",E)}function $e(E){if(Ye(g,E.target)){if(g.selection){if(_.isExpanded(g.selection)){D.deleteFragment(g);return}const R=D.above(g,{match:q=>D.isInline(g,q),mode:"highest"});if(R){const[,q]=R;if(D.isEnd(g,g.selection.anchor,q)){const ne=D.after(g,q);w.setSelection(g,{anchor:ne,focus:ne})}}g.marks&&(n(4,T.hasInsertPrefixInCompositon=!0,T),w.insertNodes(g,{text:"\uFEFF",...g.marks},{select:!0}))}return Oe(V,"onCompositionStart",E)}}function we(E){if(!T.readOnly&&Ye(g,E.target))return(!Zu||hs(E))&&(E.preventDefault(),E.clipboardData&&g.insertData(E.clipboardData)),Oe(V,"onPaste",E)}function kt(E){if(Ye(g,E.target))return E.preventDefault(),g.setFragmentData(E.clipboardData),Oe(V,"onCopy",E)}function hn(E){if(!T.readOnly&&Ye(g,E.target)){if(E.preventDefault(),g.setFragmentData(E.clipboardData),g.selection)if(_.isExpanded(g.selection))D.deleteFragment(g);else{const R=O.parent(g,g.selection.anchor.path);D.isVoid(g,R)&&w.delete(g)}return Oe(V,"onCut",E)}}function gn(E){if(At(g,E.target)){const R=ht(E.target);return D.isVoid(g,R)&&E.preventDefault(),Oe(V,"onDragOver",E)}}function Cn(E){if(!T.readOnly&&At(g,E.target)){const R=ht(E.target),q=ot(R);if(D.isVoid(g,R)||D.void(g,{at:q,voids:!0})){const W=D.range(g,q);w.select(g,W)}return n(4,T.isDraggingInternally=!0,T),g.setFragmentData(E.dataTransfer),Oe(V,"onDragStart",E)}}function Wt(E){if(!T.readOnly&&At(g,E.target)){E.preventDefault();const R=g.selection,q=ys(g,E),ne=E.dataTransfer;return w.select(g,q),T.isDraggingInternally&&(R&&!_.equals(R,q)&&!D.void(g,{at:q,voids:!0})&&w.delete(g,{at:R}),n(4,T.isDraggingInternally=!1,T)),g.insertData(ne),Qu(g)||ws(g),Oe(V,"onDrop",E)}}function mn(E){if(!T.readOnly&&T.isDraggingInternally&&At(g,E.target))return n(4,T.isDraggingInternally=!1,T),Oe(V,"onDragEnd",E)}function Pt(E){U[E?"unshift":"push"](()=>{A=E,n(0,A)})}return t.$$set=E=>{e=yt(yt({},e),pr(E)),n(28,r=Ut(e,u)),"Element"in E&&n(29,l=E.Element),"Leaf"in E&&n(30,s=E.Leaf),"Placeholder"in E&&n(31,o=E.Placeholder),"placeholder"in E&&n(32,c=E.placeholder),"readOnly"in E&&n(33,d=E.readOnly),"autoFocus"in E&&n(34,f=E.autoFocus),"decorate"in E&&n(35,h=E.decorate),"scrollSelectionIntoView"in E&&n(36,C=E.scrollSelectionIntoView),"ref"in E&&n(0,A=E.ref),"spellcheck"in E&&n(1,v=E.spellcheck),"autocorrect"in E&&n(2,F=E.autocorrect),"autocapitalize"in E&&n(3,b=E.autocapitalize),"onKeyDown"in E&&n(37,y=E.onKeyDown)},t.$$.update=()=>{if(t.$$.dirty[0]&1&&I.set(A),t.$$.dirty[0]&536870912&&k.set(l),t.$$.dirty[0]&1073741824&&p.set(s),t.$$.dirty[1]&1&&H.set(o),t.$$.dirty[1]&132&&Or.set(g,d),t.$$.dirty[1]&4&&Y.set(d),t.$$.dirty[1]&4&&n(4,T.readOnly=d,T),t.$$.dirty[1]&16&&Ae.set(h),t.$$.dirty[0]&112|t.$$.dirty[1]&146)if(i.children.length===1&&Array.from(O.texts(i)).length===1&&O.string(i)===""&&!T.isComposing){const E=D.start(g,[]);n(5,Fe=[...h([g,[]]),{[jt]:!0,placeholder:c,anchor:E,focus:E}])}else Fe.length&&n(5,Fe=h([g,[]]));t.$$.dirty[0]&1|t.$$.dirty[1]&264&&he!==f&&A&&(f&&A.focus(),n(39,he=f))},[A,v,F,b,T,Fe,i,a,M,be,Se,G,_e,ge,Be,Je,Me,Ke,nt,xe,$e,we,kt,hn,gn,Cn,Wt,mn,r,l,s,o,c,d,f,h,C,y,g,he,Pt]}class Yl extends X{constructor(e){super(),J(this,e,Kl,Hl,rn,{Element:29,Leaf:30,Placeholder:31,placeholder:32,readOnly:33,autoFocus:34,decorate:35,scrollSelectionIntoView:36,ref:0,spellcheck:1,autocorrect:2,autocapitalize:3,onKeyDown:37},null,[-1,-1])}}function hr(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=(e.top+e.bottom)/2;return t.top<=n&&t.bottom>=n}function gr(t,e,n){var i,a;const u=(i=$t(t,e))==null?void 0:i.getBoundingClientRect(),r=(a=$t(t,n))==null?void 0:a.getBoundingClientRect();return hr(u,r)&&hr(r,u)}function Ul(t,e){const n=D.range(t,_.end(e)),u=Array.from(D.positions(t,{at:e}));let r=0,i=u.length,a=Math.floor(i/2);if(gr(t,D.range(t,u[r]),n))return D.range(t,u[r],n);if(u.length<2)return D.range(t,u[u.length-1],n);for(;a!==u.length&&a!==r;)gr(t,D.range(t,u[a]),n)?i=a:r=a,a=Math.floor((r+i)/2);return D.range(t,u[i],n)}function Rf(t){const e=t,{apply:n,onChange:u,deleteBackward:r}=e;return on.set(e,new WeakMap),e.deleteBackward=i=>{if(i!=="line")return r(i);if(t.selection&&_.isCollapsed(t.selection)){const a=D.above(t,{match:l=>D.isBlock(t,l),at:t.selection});if(a){const[,l]=a,s=D.range(t,l,t.selection.anchor),o=Ul(e,s);_.isCollapsed(o)||w.delete(t,{at:o})}}},e.apply=i=>{const a=[];switch(i.type){case"insert_text":case"remove_text":case"set_node":{for(const[l,s]of D.levels(e,{at:i.path})){const o=gt(l);a.push([s,o])}break}case"insert_node":case"remove_node":case"merge_node":case"split_node":{for(const[l,s]of D.levels(e,{at:B.parent(i.path)})){const o=gt(l);a.push([s,o])}break}case"move_node":{for(const[l,s]of D.levels(e,{at:B.common(B.parent(i.path),B.parent(i.newPath))})){const o=gt(l);a.push([s,o])}break}}n(i);for(const[l,s]of a){const[o]=D.node(e,l);Pn.set(o,s)}},e.setFragmentData=i=>{const{selection:a}=e;if(!a)return;const[l,s]=_.edges(a),o=D.void(e,{at:l.path}),c=D.void(e,{at:s.path});if(_.isCollapsed(a)&&!o)return;const d=$t(e,a);if(!d)return;let f=d.cloneContents(),h=f.childNodes[0];if(f.childNodes.forEach(b=>{b.textContent&&b.textContent.trim()!==""&&(h=b)}),c){const[b]=c,y=d.cloneRange(),I=rt(e,b);y.setEndAfter(I),f=y.cloneContents()}if(o&&(h=f.querySelector("[data-slate-spacer]")),Array.from(f.querySelectorAll("[data-slate-zero-width]")).forEach(b=>{const y=b.getAttribute("data-slate-zero-width")==="n";b.textContent=y?`
`:""}),zr(h)){const b=document.createElement("span");b.style.whiteSpace="pre",b.appendChild(h),f.appendChild(b),h=b}const C=e.getFragment(),A=JSON.stringify(C),v=window.btoa(encodeURIComponent(A));h.setAttribute("data-slate-fragment",v),i.setData("application/x-slate-fragment",v);const F=document.createElement("div");return F.appendChild(f),F.setAttribute("hidden","true"),document.body.appendChild(F),i.setData("text/html",F.innerHTML),i.setData("text/plain",Yr(F)),document.body.removeChild(F),i},e.insertData=i=>{e.insertFragmentData(i)||e.insertTextData(i)},e.insertFragmentData=i=>{const a=i.getData("application/x-slate-fragment")||Es(i);if(a){const l=decodeURIComponent(window.atob(a)),s=JSON.parse(l);return e.insertFragment(s),!0}return!1},e.insertTextData=i=>{const a=i.getData("text/plain");if(a){const l=a.split(/\r\n|\r|\n/);let s=!1;for(const o of l)s&&w.splitNodes(e,{always:!0}),e.insertText(o),s=!0;return!0}return!1},e.onChange=()=>{const i=In.get(e);i&&i(),u()},e.hasOwnContext=()=>!0,e}var Gl={isHistory(t){return ke(t)&&Array.isArray(t.redos)&&Array.isArray(t.undos)&&(t.redos.length===0||lt.isOperationList(t.redos[0].operations))&&(t.undos.length===0||lt.isOperationList(t.undos[0].operations))}},pn=new WeakMap,On=new WeakMap,_t={isHistoryEditor(t){return Gl.isHistory(t.history)&&D.isEditor(t)},isMerging(t){return On.get(t)},isSaving(t){return pn.get(t)},redo(t){t.redo()},undo(t){t.undo()},withoutMerging(t,e){var n=_t.isMerging(t);On.set(t,!1),e(),On.set(t,n)},withoutSaving(t,e){var n=_t.isSaving(t);pn.set(t,!1),e(),pn.set(t,n)}},Lf=t=>{var e=t,{apply:n}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:u}=e,{redos:r}=u;if(r.length>0){var i=r[r.length-1];i.selectionBefore&&w.setSelection(e,i.selectionBefore),_t.withoutSaving(e,()=>{D.withoutNormalizing(e,()=>{for(var a of i.operations)e.apply(a)})}),u.redos.pop(),e.writeHistory("undos",i)}},e.undo=()=>{var{history:u}=e,{undos:r}=u;if(r.length>0){var i=r[r.length-1];_t.withoutSaving(e,()=>{D.withoutNormalizing(e,()=>{var a=i.operations.map(lt.inverse).reverse();for(var l of a)e.apply(l);i.selectionBefore&&w.setSelection(e,i.selectionBefore)})}),e.writeHistory("redos",i),u.undos.pop()}},e.apply=u=>{var{operations:r,history:i}=e,{undos:a}=i,l=a[a.length-1],s=l&&l.operations[l.operations.length-1],o=_t.isSaving(e),c=_t.isMerging(e);if(o==null&&(o=Jl(u)),o){if(c==null&&(l==null?c=!1:r.length!==0?c=!0:c=Xl(u,s)),l&&c)l.operations.push(u);else{var d={operations:[u],selectionBefore:e.selection};e.writeHistory("undos",d)}for(;a.length>100;)a.shift();i.redos=[]}n(u)},e.writeHistory=(u,r)=>{e.history[u].push(r)},e},Xl=(t,e)=>!!(e&&t.type==="insert_text"&&e.type==="insert_text"&&t.offset===e.offset+e.text.length&&B.equals(t.path,e.path)||e&&t.type==="remove_text"&&e.type==="remove_text"&&t.offset+t.text.length===e.offset&&B.equals(t.path,e.path)),Jl=(t,e)=>t.type!=="set_selection";function Zl(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("p"),r&&r.c(),this.h()},l(i){e=ee(i,"P",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-fghobi")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const ft="paragraph";function Ql(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[o,a,l,s,c,i,r,u,d]}class xl extends X{constructor(e){super(),J(this,e,Ql,Zl,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function $l(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("blockquote"),r&&r.c(),this.h()},l(i){e=ee(i,"BLOCKQUOTE",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-ltm0ff")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const vi="block-quote";function eo(t){return t.type===vi}function to(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;const d=Xe();Dn("onKeyDown",h=>{if(h.key==="Enter"&&h.shiftKey){const[C]=D.nodes(d,{match:eo});if(C){h.preventDefault(),h.stopPropagation();const[A,[v]]=C,F=[v+1];w.insertNodes(d,{type:ft,children:[{text:""}]},{at:F}),w.select(d,F)}}});function f(h){U[h?"unshift":"push"](()=>{o=h,n(0,o)})}return t.$$set=h=>{"element"in h&&n(5,i=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,l=h.isVoid),"contenteditable"in h&&n(3,s=h.contenteditable),"ref"in h&&n(0,o=h.ref),"dir"in h&&n(4,c=h.dir),"$$scope"in h&&n(6,r=h.$$scope)},[o,a,l,s,c,i,r,u,f]}class no extends X{constructor(e){super(),J(this,e,to,$l,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function uo(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("h1"),r&&r.c(),this.h()},l(i){e=ee(i,"H1",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1n77z")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const ro="heading1";function io(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[o,a,l,s,c,i,r,u,d]}class ao extends X{constructor(e){super(),J(this,e,io,uo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function so(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("h2"),r&&r.c(),this.h()},l(i){e=ee(i,"H2",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1nvmq")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const lo="heading2";function oo(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[o,a,l,s,c,i,r,u,d]}class fo extends X{constructor(e){super(),J(this,e,oo,so,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function co(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("h3"),r&&r.c(),this.h()},l(i){e=ee(i,"H3",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1o8al")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const Do="heading3";function ho(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[o,a,l,s,c,i,r,u,d]}class go extends X{constructor(e){super(),J(this,e,ho,co,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Co(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("h4"),r&&r.c(),this.h()},l(i){e=ee(i,"H4",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1p2nc")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const mo="heading4";function Bo(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[o,a,l,s,c,i,r,u,d]}class Eo extends X{constructor(e){super(),J(this,e,Bo,Co,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function vo(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("h5"),r&&r.c(),this.h()},l(i){e=ee(i,"H5",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1pr63")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const Ao="heading5";function Fo(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[o,a,l,s,c,i,r,u,d]}class bo extends X{constructor(e){super(),J(this,e,Fo,vo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function _o(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("h6"),r&&r.c(),this.h()},l(i){e=ee(i,"H6",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h1qfla")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const wo="heading6";function yo(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[o,a,l,s,c,i,r,u,d]}class po extends X{constructor(e){super(),J(this,e,yo,_o,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Oo(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("li"),r&&r.c(),this.h()},l(i){e=ee(i,"LI",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-1h0582b")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const eu="list-item";function ko(t){return t.type===eu}function Po(t){const{deleteBackward:e}=t;return t.deleteBackward=n=>{if(t.selection&&_.isCollapsed(t.selection)){const[u]=Array.from(D.nodes(t,{match:r=>ko(r)&&D.isEmpty(t,r),at:t.selection}));if(u){const[r,i]=u,[a,l]=D.parent(t,i);if(a.children[a.children.length-1]===r){l[l.length-1]+=1,w.removeNodes(t,{at:i}),w.insertNodes(t,{type:ft,children:[{text:""}]},{at:l}),w.setSelection(t,{anchor:{path:[...l,0],offset:0},focus:{path:[...l,0],offset:0}});return}}}e(n)},t}function Io(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[o,a,l,s,c,i,r,u,d]}class No extends X{constructor(e){super(),J(this,e,Io,Oo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function So(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("ul"),r&&r.c(),this.h()},l(i){e=ee(i,"UL",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-18dokwl")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const tu="numbered-list";function To(t){return t.type===tu}function Ro(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;const d=Xe();Dn("onKeyDown",h=>{if(h.key==="Enter"&&h.shiftKey){const[C]=D.nodes(d,{match:To});if(C){h.preventDefault(),h.stopPropagation();const[A,[v]]=C,F=[v+1];w.insertNodes(d,{type:ft,children:[{text:""}]},{at:F}),w.select(d,F)}}});function f(h){U[h?"unshift":"push"](()=>{o=h,n(0,o)})}return t.$$set=h=>{"element"in h&&n(5,i=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,l=h.isVoid),"contenteditable"in h&&n(3,s=h.contenteditable),"ref"in h&&n(0,o=h.ref),"dir"in h&&n(4,c=h.dir),"$$scope"in h&&n(6,r=h.$$scope)},[o,a,l,s,c,i,r,u,f]}class Lo extends X{constructor(e){super(),J(this,e,Ro,So,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function jo(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("ol"),r&&r.c(),this.h()},l(i){e=ee(i,"OL",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-6txpqf")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const nu="bulleted-list";function Vo(t){return t.type===nu}function Mo(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;const d=Xe();Dn("onKeyDown",h=>{if(h.key==="Enter"&&h.shiftKey){const[C]=D.nodes(d,{match:Vo});if(C){h.preventDefault(),h.stopPropagation();const[A,[v]]=C,F=[v+1];w.insertNodes(d,{type:ft,children:[{text:""}]},{at:F}),w.select(d,F)}}});function f(h){U[h?"unshift":"push"](()=>{o=h,n(0,o)})}return t.$$set=h=>{"element"in h&&n(5,i=h.element),"isInline"in h&&n(1,a=h.isInline),"isVoid"in h&&n(2,l=h.isVoid),"contenteditable"in h&&n(3,s=h.contenteditable),"ref"in h&&n(0,o=h.ref),"dir"in h&&n(4,c=h.dir),"$$scope"in h&&n(6,r=h.$$scope)},[o,a,l,s,c,i,r,u,f]}class qo extends X{constructor(e){super(),J(this,e,Mo,jo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Wo(t,e){if(t.selection){const n=D.marks(t);return n?n[e]===!0:!1}else return!1}function jf(t,e){Wo(t,e)?D.removeMark(t,e):D.addMark(t,e,!0)}function Ai(t,e){if(t.selection){const[n]=Array.from(D.nodes(t,{at:D.unhangRange(t,t.selection),match:u=>!D.isEditor(u)&&L.isElement(u)&&u.type===e}));return!!n}else return!1}const Cr=[tu,nu];function Vf(t,e){const n=Ai(t,e),u=Cr.includes(e);w.unwrapNodes(t,{match:i=>!D.isEditor(i)&&L.isElement(i)&&Cr.includes(i.type),split:!0});const r={type:n?ft:u?eu:e};if(w.setNodes(t,r),!n&&u){const i={type:e,children:[]};w.wrapNodes(t,i)}}function Mf(t){const e=window.getSelection();if(!e)return;e.removeAllRanges();const n=document.createRange();n.selectNodeContents(t),e.addRange(n)}function Ho(t){let e,n,u,r,i,a,l,s,o;const c=t[8].default,d=oe(c,t,t[7],null);return{c(){e=$("div"),n=$("span"),u=$("input"),a=$("span"),d&&d.c(),this.h()},l(f){e=ee(f,"DIV",{class:!0,"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0});var h=ae(e);n=ee(h,"SPAN",{class:!0,contenteditable:!0});var C=ae(n);u=ee(C,"INPUT",{type:!0}),C.forEach(P),a=ee(h,"SPAN",{class:!0,contenteditable:!0});var A=ae(a);d&&d.l(A),A.forEach(P),h.forEach(P),this.h()},h(){m(u,"type","checkbox"),u.checked=r=t[1].checked,u.disabled=i=!t[4],m(n,"class","checkbox svelte-bf42sr"),m(n,"contenteditable",!1),m(a,"class","content svelte-bf42sr"),m(a,"contenteditable",t[4]),Ue(a,"checked",t[1].checked),m(e,"class","check-list-item svelte-bf42sr"),m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[2]),m(e,"data-slate-void",t[3]),m(e,"dir",t[5]),m(e,"contenteditable",t[4])},m(f,h){z(f,e,h),Lt(e,n),Lt(n,u),Lt(e,a),d&&d.m(a,null),t[9](e),l=!0,s||(o=ye(u,"change",t[6]),s=!0)},p(f,[h]){(!l||h&2&&r!==(r=f[1].checked))&&(u.checked=r),(!l||h&16&&i!==(i=!f[4]))&&(u.disabled=i),d&&d.p&&(!l||h&128)&&fe(d,c,f,f[7],l?de(c,f[7],h,null):ce(f[7]),null),(!l||h&16)&&m(a,"contenteditable",f[4]),(!l||h&2)&&Ue(a,"checked",f[1].checked),(!l||h&4)&&m(e,"data-slate-inline",f[2]),(!l||h&8)&&m(e,"data-slate-void",f[3]),(!l||h&32)&&m(e,"dir",f[5]),(!l||h&16)&&m(e,"contenteditable",f[4])},i(f){l||(N(d,f),l=!0)},o(f){S(d,f),l=!1},d(f){f&&P(e),d&&d.d(f),t[9](null),s=!1,o()}}}const en="check-list-item";function Fi(t){return t.type===en}function zo(t){const{deleteBackward:e}=t;return t.deleteBackward=n=>{if(t.selection&&_.isCollapsed(t.selection)){const[u]=Array.from(D.nodes(t,{match:r=>Fi(r)&&D.isEmpty(t,r),at:t.selection}));if(u){const[r,i]=u;w.setNodes(t,{type:ft},{at:i});return}}e(n)},t}function qf(t){if(Ai(t,en))w.unwrapNodes(t,{match:Fi,split:!0});else{const n={type:en,checked:!1,children:[]};w.wrapNodes(t,n)}}function Ko(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;const d=Xe();function f(C){s&&w.setNodes(d,{checked:C.target.checked},{at:ot(i)})}function h(C){U[C?"unshift":"push"](()=>{o=C,n(0,o)})}return t.$$set=C=>{"element"in C&&n(1,i=C.element),"isInline"in C&&n(2,a=C.isInline),"isVoid"in C&&n(3,l=C.isVoid),"contenteditable"in C&&n(4,s=C.contenteditable),"ref"in C&&n(0,o=C.ref),"dir"in C&&n(5,c=C.dir),"$$scope"in C&&n(7,r=C.$$scope)},[o,i,a,l,s,c,f,r,u,h]}class Yo extends X{constructor(e){super(),J(this,e,Ko,Ho,te,{element:1,isInline:2,isVoid:3,contenteditable:4,ref:0,dir:5})}}function Uo(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("td"),r&&r.c(),this.h()},l(i){e=ee(i,"TD",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-62tis6")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const uu="table-row-data";function ru(t){return t.type===uu}function Go(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[o,a,l,s,c,i,r,u,d]}class Xo extends X{constructor(e){super(),J(this,e,Go,Uo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function Jo(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("th"),r&&r.c(),this.h()},l(i){e=ee(i,"TH",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-12ex41")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const iu="table-row-header";function tn(t){return t.type===iu}function Zo(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[o,a,l,s,c,i,r,u,d]}class Qo extends X{constructor(e){super(),J(this,e,Zo,Jo,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function xo(t){let e,n,u;function r(a){t[8](a)}let i={element:t[1],isInline:t[2],isVoid:t[3],dir:t[5],contenteditable:t[4],$$slots:{default:[ef]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.ref=t[0]),e=new Qo({props:i}),U.push(()=>Te(e,"ref",r)),{c(){ue(e.$$.fragment)},l(a){ve(e.$$.fragment,a)},m(a,l){re(e,a,l),u=!0},p(a,l){const s={};l&2&&(s.element=a[1]),l&4&&(s.isInline=a[2]),l&8&&(s.isVoid=a[3]),l&32&&(s.dir=a[5]),l&16&&(s.contenteditable=a[4]),l&512&&(s.$$scope={dirty:l,ctx:a}),!n&&l&1&&(n=!0,s.ref=a[0],Ge(()=>n=!1)),e.$set(s)},i(a){u||(N(e.$$.fragment,a),u=!0)},o(a){S(e.$$.fragment,a),u=!1},d(a){ie(e,a)}}}function $o(t){let e,n,u;function r(a){t[7](a)}let i={element:t[1],isInline:t[2],isVoid:t[3],dir:t[5],contenteditable:t[4],$$slots:{default:[tf]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.ref=t[0]),e=new Xo({props:i}),U.push(()=>Te(e,"ref",r)),{c(){ue(e.$$.fragment)},l(a){ve(e.$$.fragment,a)},m(a,l){re(e,a,l),u=!0},p(a,l){const s={};l&2&&(s.element=a[1]),l&4&&(s.isInline=a[2]),l&8&&(s.isVoid=a[3]),l&32&&(s.dir=a[5]),l&16&&(s.contenteditable=a[4]),l&512&&(s.$$scope={dirty:l,ctx:a}),!n&&l&1&&(n=!0,s.ref=a[0],Ge(()=>n=!1)),e.$set(s)},i(a){u||(N(e.$$.fragment,a),u=!0)},o(a){S(e.$$.fragment,a),u=!1},d(a){ie(e,a)}}}function ef(t){let e;const n=t[6].default,u=oe(n,t,t[9],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&512)&&fe(u,n,r,r[9],e?de(n,r[9],i,null):ce(r[9]),null)},i(r){e||(N(u,r),e=!0)},o(r){S(u,r),e=!1},d(r){u&&u.d(r)}}}function tf(t){let e;const n=t[6].default,u=oe(n,t,t[9],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&512)&&fe(u,n,r,r[9],e?de(n,r[9],i,null):ce(r[9]),null)},i(r){e||(N(u,r),e=!0)},o(r){S(u,r),e=!1},d(r){u&&u.d(r)}}}function nf(t){let e,n,u,r,i,a;const l=[$o,xo],s=[];function o(c,d){return d&2&&(e=null),d&2&&(n=null),e==null&&(e=!!ru(c[1])),e?0:(n==null&&(n=!!tn(c[1])),n?1:-1)}return~(u=o(t,-1))&&(r=s[u]=l[u](t)),{c(){r&&r.c(),i=x()},l(c){r&&r.l(c),i=x()},m(c,d){~u&&s[u].m(c,d),z(c,i,d),a=!0},p(c,[d]){let f=u;u=o(c,d),u===f?~u&&s[u].p(c,d):(r&&(Pe(),S(s[f],1,1,()=>{s[f]=null}),Ie()),~u?(r=s[u],r?r.p(c,d):(r=s[u]=l[u](c),r.c()),N(r,1),r.m(i.parentNode,i)):r=null)},i(c){a||(N(r),a=!0)},o(c){S(r),a=!1},d(c){~u&&s[u].d(c),c&&P(i)}}}function uf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;const d=je(wi);Jr(pt,d);function f(C){o=C,n(0,o)}function h(C){o=C,n(0,o)}return t.$$set=C=>{"element"in C&&n(1,i=C.element),"isInline"in C&&n(2,a=C.isInline),"isVoid"in C&&n(3,l=C.isVoid),"contenteditable"in C&&n(4,s=C.contenteditable),"ref"in C&&n(0,o=C.ref),"dir"in C&&n(5,c=C.dir),"$$scope"in C&&n(9,r=C.$$scope)},[o,i,a,l,s,c,u,f,h,r]}class rf extends X{constructor(e){super(),J(this,e,uf,nf,te,{element:1,isInline:2,isVoid:3,contenteditable:4,ref:0,dir:5})}}function af(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("tr"),r&&r.c(),this.h()},l(i){e=ee(i,"TR",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-62pa10")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const bi="table-row";function sf(t,e,n){let{$$slots:u={},$$scope:r}=e,{element:i}=e,{isInline:a}=e,{isVoid:l}=e,{contenteditable:s}=e,{ref:o=void 0}=e,{dir:c=void 0}=e;Le(pt,rf);function d(f){U[f?"unshift":"push"](()=>{o=f,n(0,o)})}return t.$$set=f=>{"element"in f&&n(5,i=f.element),"isInline"in f&&n(1,a=f.isInline),"isVoid"in f&&n(2,l=f.isVoid),"contenteditable"in f&&n(3,s=f.contenteditable),"ref"in f&&n(0,o=f.ref),"dir"in f&&n(4,c=f.dir),"$$scope"in f&&n(6,r=f.$$scope)},[o,a,l,s,c,i,r,u,d]}class lf extends X{constructor(e){super(),J(this,e,sf,af,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}function of(t){let e,n;const u=t[7].default,r=oe(u,t,t[6],null);return{c(){e=$("table"),r&&r.c(),this.h()},l(i){e=ee(i,"TABLE",{"data-slate-node":!0,"data-slate-inline":!0,"data-slate-void":!0,dir:!0,contenteditable:!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-node","element"),m(e,"data-slate-inline",t[1]),m(e,"data-slate-void",t[2]),m(e,"dir",t[4]),m(e,"contenteditable",t[3]),m(e,"class","svelte-13zewjb")},m(i,a){z(i,e,a),r&&r.m(e,null),t[8](e),n=!0},p(i,[a]){r&&r.p&&(!n||a&64)&&fe(r,u,i,i[6],n?de(u,i[6],a,null):ce(i[6]),null),(!n||a&2)&&m(e,"data-slate-inline",i[1]),(!n||a&4)&&m(e,"data-slate-void",i[2]),(!n||a&16)&&m(e,"dir",i[4]),(!n||a&8)&&m(e,"contenteditable",i[3])},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i),t[8](null)}}}const au="table";function _i(t){return t.type===au}function ff(t){const{deleteBackward:e}=t;return t.deleteBackward=(...n)=>{if(t.selection&&_.isCollapsed(t.selection)){const[u]=D.nodes(t,{match:ru});if(u){const[i,a]=u;if(a[0]===t.selection.focus.path[0]&&a[1]===t.selection.focus.path[1]&&t.selection.focus.path[2]===0&&D.isEmpty(t,i)){w.delete(t,{at:[a[0],a[1]]});return}}const[r]=D.nodes(t,{match:tn});if(r){const[i]=r;if(D.isEmpty(t,i)){const[a]=D.nodes(t,{match:_i}),[l,[s]]=a,o=l;for(let c=o.children.length-1;c>=0;c--){const d=o.children[c];w.delete(t,{at:[s,c,d.children.length-1]})}return}}}e(...n)},t}function Wf(t){const e={type:au,children:[{type:bi,children:[{type:iu,children:[{text:""}]}]}]};w.insertNodes(t,e)}const wi=Ve();function cf(t){return[...new Array(t)].map(()=>({type:uu,children:[{text:""}]}))}function df(t,e,n){let{$$slots:u={},$$scope:r}=e;const i=Xe();let{element:a}=e,{isInline:l}=e,{isVoid:s}=e,{contenteditable:o}=e,{ref:c=void 0}=e,{dir:d=void 0}=e;Jr(wi,je(pt)),Le(pt,lf),Dn("onKeyDown",h=>{if(i.selection){if(h.key==="Enter"){const[C]=D.nodes(i,{match:_i});if(C){h.preventDefault(),h.stopPropagation();const[A,[v]]=C,F=A;if(h.shiftKey){const[b]=D.nodes(i,{match:tn});if(b)F.children.forEach((y,I)=>{w.insertNodes(i,{type:I!==0?uu:iu,children:[{text:""}]},{at:[v,I,y.children.length]})}),w.select(i,[v,0,F.children[0].children.length]);else{const y=[v+1];w.insertNodes(i,{type:ft,children:[{text:""}]},{at:y}),w.select(i,y)}}else{const b=[v,i.selection.focus.path[1]+1];w.insertNodes(i,{type:bi,children:cf(F.children[0].children.length)},{at:b}),w.select(i,b)}}}else if(h.key==="Tab"){const[C]=D.nodes(i,{match:A=>ru(A)||tn(A)});if(C){h.preventDefault(),h.stopPropagation();const[A,v]=C,[F,b]=D.parent(i,v),[y,I]=D.parent(i,b),k=y,p=k.children.length,H=k.children[0].children.length,g=(v[2]+1)%H,M=(v[1]+(g===0?1:0))%p;w.select(i,[v[0],M,g])}}}});function f(h){U[h?"unshift":"push"](()=>{c=h,n(0,c)})}return t.$$set=h=>{"element"in h&&n(5,a=h.element),"isInline"in h&&n(1,l=h.isInline),"isVoid"in h&&n(2,s=h.isVoid),"contenteditable"in h&&n(3,o=h.contenteditable),"ref"in h&&n(0,c=h.ref),"dir"in h&&n(4,d=h.dir),"$$scope"in h&&n(6,r=h.$$scope)},[c,l,s,o,d,a,r,u,f]}class Df extends X{constructor(e){super(),J(this,e,df,of,te,{element:5,isInline:1,isVoid:2,contenteditable:3,ref:0,dir:4})}}const hf={[vi]:no,[ft]:xl,[ro]:ao,[lo]:fo,[Do]:go,[mo]:Eo,[Ao]:bo,[wo]:po,[eu]:{component:No,withFn:Po},[tu]:Lo,[nu]:qo,[en]:{component:Yo,withFn:zo},[au]:{component:Df,withFn:ff}};function gf(t){let e;const n=t[7].default,u=oe(n,t,t[11],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&2048)&&fe(u,n,r,r[11],e?de(n,r[11],i,null):ce(r[11]),null)},i(r){e||(N(u,r),e=!0)},o(r){S(u,r),e=!1},d(r){u&&u.d(r)}}}function Cf(t){let e,n,u,r,i;function a(c){t[8](c)}function l(c){t[9](c)}function s(c){t[10](c)}let o={$$slots:{default:[gf]},$$scope:{ctx:t}};return t[0]!==void 0&&(o.editor=t[0]),t[1]!==void 0&&(o.value=t[1]),t[2]!==void 0&&(o.selection=t[2]),e=new Ts({props:o}),U.push(()=>Te(e,"editor",a)),U.push(()=>Te(e,"value",l)),U.push(()=>Te(e,"selection",s)),e.$on("value",t[3]),e.$on("selection",t[4]),{c(){ue(e.$$.fragment)},l(c){ve(e.$$.fragment,c)},m(c,d){re(e,c,d),i=!0},p(c,[d]){const f={};d&2048&&(f.$$scope={dirty:d,ctx:c}),!n&&d&1&&(n=!0,f.editor=c[0],Ge(()=>n=!1)),!u&&d&2&&(u=!0,f.value=c[1],Ge(()=>u=!1)),!r&&d&4&&(r=!0,f.selection=c[2],Ge(()=>r=!1)),e.$set(f)},i(c){i||(N(e.$$.fragment,c),i=!0)},o(c){S(e.$$.fragment,c),i=!1},d(c){ie(e,c)}}}const yi=Ve();function mf(){return je(yi)}function pi(t){return"component"in t}function Bf(t,e){return Object.values(e).reduce((n,u)=>pi(u)&&u.withFn?u.withFn(n,u.options):n,t)}function Ef(t){return Object.entries(t).reduce((e,[n,u])=>(e[n]=pi(u)?u.component:u,e),{})}function vf(t,e,n){let u,{$$slots:r={},$$scope:i}=e,{plugins:a=hf}=e,{editor:l}=e,{value:s=l.children}=e,{selection:o=l.selection}=e;const c=Fr();function d(b){c("value",b.detail)}function f(b){c("selection",b.detail)}let h=l;const C=Le(yi,u);function A(b){l=b,n(0,l),n(13,h),n(5,a)}function v(b){s=b,n(1,s)}function F(b){o=b,n(2,o)}return t.$$set=b=>{"plugins"in b&&n(5,a=b.plugins),"editor"in b&&n(0,l=b.editor),"value"in b&&n(1,s=b.value),"selection"in b&&n(2,o=b.selection),"$$scope"in b&&n(11,i=b.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(0,l=Bf(h,a)),t.$$.dirty&32&&n(6,u=Ef(a)),t.$$.dirty&64&&C.set(u)},[l,s,o,d,f,a,u,r,A,v,F,i]}class Hf extends X{constructor(e){super(),J(this,e,vf,Cf,te,{plugins:5,editor:0,value:1,selection:2})}}function Af(t){let e;const n=t[10].default,u=oe(n,t,t[13],null);return{c(){u&&u.c()},l(r){u&&u.l(r)},m(r,i){u&&u.m(r,i),e=!0},p(r,i){u&&u.p&&(!e||i&8192)&&fe(u,n,r,r[13],e?de(n,r[13],i,null):ce(r[13]),null)},i(r){e||(N(u,r),e=!0)},o(r){S(u,r),e=!1},d(r){u&&u.d(r)}}}function Ff(t){let e,n,u,r,i;function a(c){t[11](c)}function l(c){t[12](c)}var s=t[6];function o(c){let d={element:c[2],isInline:c[3],isVoid:c[4],contenteditable:c[5],$$slots:{default:[Af]},$$scope:{ctx:c}};return c[0]!==void 0&&(d.ref=c[0]),c[1]!==void 0&&(d.dir=c[1]),{props:d}}return s&&(e=Re(s,o(t)),U.push(()=>Te(e,"ref",a)),U.push(()=>Te(e,"dir",l))),{c(){e&&ue(e.$$.fragment),r=x()},l(c){e&&ve(e.$$.fragment,c),r=x()},m(c,d){e&&re(e,c,d),z(c,r,d),i=!0},p(c,[d]){const f={};if(d&4&&(f.element=c[2]),d&8&&(f.isInline=c[3]),d&16&&(f.isVoid=c[4]),d&32&&(f.contenteditable=c[5]),d&8192&&(f.$$scope={dirty:d,ctx:c}),!n&&d&1&&(n=!0,f.ref=c[0],Ge(()=>n=!1)),!u&&d&2&&(u=!0,f.dir=c[1],Ge(()=>u=!1)),d&64&&s!==(s=c[6])){if(e){Pe();const h=e;S(h.$$.fragment,1,0,()=>{ie(h,1)}),Ie()}s?(e=Re(s,o(c)),U.push(()=>Te(e,"ref",a)),U.push(()=>Te(e,"dir",l)),ue(e.$$.fragment),N(e.$$.fragment,1),re(e,r.parentNode,r)):e=null}else s&&e.$set(f)},i(c){i||(e&&N(e.$$.fragment,c),i=!0)},o(c){e&&S(e.$$.fragment,c),i=!1},d(c){c&&P(r),e&&ie(e,c)}}}function bf(t,e,n){let u,r,i,{$$slots:a={},$$scope:l}=e,{element:s}=e,{isInline:o}=e,{isVoid:c}=e,{contenteditable:d}=e,{ref:f=void 0}=e,{dir:h=void 0}=e;const C=mf();it(t,C,F=>n(9,i=F));function A(F){f=F,n(0,f)}function v(F){h=F,n(1,h)}return t.$$set=F=>{"element"in F&&n(2,s=F.element),"isInline"in F&&n(3,o=F.isInline),"isVoid"in F&&n(4,c=F.isVoid),"contenteditable"in F&&n(5,d=F.contenteditable),"ref"in F&&n(0,f=F.ref),"dir"in F&&n(1,h=F.dir),"$$scope"in F&&n(13,l=F.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&n(8,u=i),t.$$.dirty&260&&n(6,r=u[s.type]||ci)},[f,h,s,o,c,d,r,C,u,i,a,A,v,l]}class mr extends X{constructor(e){super(),J(this,e,bf,Ff,te,{element:2,isInline:3,isVoid:4,contenteditable:5,ref:0,dir:1})}}function _f(t){let e,n;const u=t[2].default,r=oe(u,t,t[1],null);return{c(){e=$("span"),r&&r.c(),this.h()},l(i){e=ee(i,"SPAN",{"data-slate-leaf":!0,class:!0});var a=ae(e);r&&r.l(a),a.forEach(P),this.h()},h(){m(e,"data-slate-leaf","true"),m(e,"class","svelte-186l2b2"),Ue(e,"bold",t[0].bold),Ue(e,"italic",t[0].italic),Ue(e,"code",t[0].code),Ue(e,"underline",t[0].underline)},m(i,a){z(i,e,a),r&&r.m(e,null),n=!0},p(i,[a]){r&&r.p&&(!n||a&2)&&fe(r,u,i,i[1],n?de(u,i[1],a,null):ce(i[1]),null),(!n||a&1)&&Ue(e,"bold",i[0].bold),(!n||a&1)&&Ue(e,"italic",i[0].italic),(!n||a&1)&&Ue(e,"code",i[0].code),(!n||a&1)&&Ue(e,"underline",i[0].underline)},i(i){n||(N(r,i),n=!0)},o(i){S(r,i),n=!1},d(i){i&&P(e),r&&r.d(i)}}}function wf(t,e,n){let{$$slots:u={},$$scope:r}=e,{leaf:i}=e;return t.$$set=a=>{"leaf"in a&&n(0,i=a.leaf),"$$scope"in a&&n(1,r=a.$$scope)},[i,r,u]}class Br extends X{constructor(e){super(),J(this,e,wf,_f,te,{leaf:0})}}function yf(t){let e,n,u,r,i;const a=[t[11],{Element:mr},{Leaf:Br},{Placeholder:t[3]},{placeholder:t[4]},{readOnly:t[5]},{autoFocus:t[6]},{spellcheck:t[7]},{autocorrect:t[8]},{autocapitalize:t[9]},{onKeyDown:t[10]}];function l(d){t[12](d)}function s(d){t[13](d)}function o(d){t[14](d)}let c={};for(let d=0;d<a.length;d+=1)c=yt(c,a[d]);return t[2]!==void 0&&(c.ref=t[2]),t[0]!==void 0&&(c.decorate=t[0]),t[1]!==void 0&&(c.scrollSelectionIntoView=t[1]),e=new Yl({props:c}),U.push(()=>Te(e,"ref",l)),U.push(()=>Te(e,"decorate",s)),U.push(()=>Te(e,"scrollSelectionIntoView",o)),{c(){ue(e.$$.fragment)},l(d){ve(e.$$.fragment,d)},m(d,f){re(e,d,f),i=!0},p(d,[f]){const h=f&4088?yr(a,[f&2048&&Yi(d[11]),f&0&&{Element:mr},f&0&&{Leaf:Br},f&8&&{Placeholder:d[3]},f&16&&{placeholder:d[4]},f&32&&{readOnly:d[5]},f&64&&{autoFocus:d[6]},f&128&&{spellcheck:d[7]},f&256&&{autocorrect:d[8]},f&512&&{autocapitalize:d[9]},f&1024&&{onKeyDown:d[10]}]):{};!n&&f&4&&(n=!0,h.ref=d[2],Ge(()=>n=!1)),!u&&f&1&&(u=!0,h.decorate=d[0],Ge(()=>u=!1)),!r&&f&2&&(r=!0,h.scrollSelectionIntoView=d[1],Ge(()=>r=!1)),e.$set(h)},i(d){i||(N(e.$$.fragment,d),i=!0)},o(d){S(e.$$.fragment,d),i=!1},d(d){ie(e,d)}}}function pf(t,e,n){const u=["Placeholder","placeholder","readOnly","autoFocus","decorate","scrollSelectionIntoView","ref","spellcheck","autocorrect","autocapitalize","onKeyDown"];let r=Ut(e,u),{Placeholder:i=fi}=e,{placeholder:a=void 0}=e,{readOnly:l=!1}=e,{autoFocus:s=!1}=e,{decorate:o=void 0}=e,{scrollSelectionIntoView:c=void 0}=e,{ref:d=void 0}=e,{spellcheck:f=!0}=e,{autocorrect:h="true"}=e,{autocapitalize:C="true"}=e,{onKeyDown:A=()=>{}}=e;function v(y){d=y,n(2,d)}function F(y){o=y,n(0,o)}function b(y){c=y,n(1,c)}return t.$$set=y=>{e=yt(yt({},e),pr(y)),n(11,r=Ut(e,u)),"Placeholder"in y&&n(3,i=y.Placeholder),"placeholder"in y&&n(4,a=y.placeholder),"readOnly"in y&&n(5,l=y.readOnly),"autoFocus"in y&&n(6,s=y.autoFocus),"decorate"in y&&n(0,o=y.decorate),"scrollSelectionIntoView"in y&&n(1,c=y.scrollSelectionIntoView),"ref"in y&&n(2,d=y.ref),"spellcheck"in y&&n(7,f=y.spellcheck),"autocorrect"in y&&n(8,h=y.autocorrect),"autocapitalize"in y&&n(9,C=y.autocapitalize),"onKeyDown"in y&&n(10,A=y.onKeyDown)},[o,c,d,i,a,l,s,f,h,C,A,r,v,F,b]}class zf extends X{constructor(e){super(),J(this,e,pf,yf,te,{Placeholder:3,placeholder:4,readOnly:5,autoFocus:6,decorate:0,scrollSelectionIntoView:1,ref:2,spellcheck:7,autocorrect:8,autocapitalize:9,onKeyDown:10})}}export{Mf as A,Wf as B,Is as C,hf as D,zf as E,ro as H,Bi as L,O as N,ft as P,_ as R,Hf as S,w as T,Rf as a,D as b,If as c,Tf as d,Ps as e,ri as f,Xe as g,ot as h,Ls as i,gt as j,Nf as k,Le as l,Dn as m,j as n,Ve as o,pt as p,$r as q,ui as r,Ai as s,jf as t,qf as u,Wo as v,Lf as w,Vf as x,Ns as y,B as z};
